!function(n,t){"use strict";"function"==typeof define&&define.amd?define([],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:n)}(this,function(n){"use strict";function t(n,t,e){return _[H].slice.call(n,t,e)}function e(n,t){var e;if(r(n,_)||n[I]&&r(n[I],V)&&n[0]){var i=n[I];for(e=0;e<i;++e)if(t.call(n[e],n[e],e,n)===U)return}else for(e in n)if(t.call(n[e],n[e],e,n)===U)return}function r(n,t){return t?n!==A&&n!==N?n[D]===t:U:n?P:U}function i(n,t){t=t||0,fn(n,t)}function o(n,t,e,r,i,o){if(n&&(!n||!n[E]||n[E][T]||n.render)){var u;return e?u=n:n&&n[E]&&n[E][T]&&(u=n[E][T]),u&&u[t]?(r=r||u.props,i=i||u.state,u[t](r,i,u,o)):void 0}}function u(){function n(n,o){var u,a=arguments,f=a[I],c=2;o&&o[E]||!r(o,nn)?(c=1,o={}):o!==N&&o!==A&&r(o,nn)||(o={});var s=new i({type:n,props:o,children:[]});(n.indexOf("[")>-1||n.indexOf("#")>-1||n.indexOf(".")>-1)&&(s=e(s)),"svg"!==s.type&&"math"!==s.type||s.props.xmlns||(s.props.xmlns=L[s.type]);for(var p=c;p<f;p++)if(u=a[p],r(u,_))for(var l=u[I],d=0;d<l;d++)s[q][p-c+d]=t(u[d]);else s[q][p-c]=t(u);return s}function t(n){return(!r(n)||r(n,V)||r(n,rn))&&(n+="","null"!==n&&"undefined"!==n||(n="")),n}function e(n){var t,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=n.props?n.props:{},o=n.type;for(n.type="div";t=r.exec(o);){var u=t[1],a=t[2],f=t[3],c=t[4],s=t[6];if(""===u&&""!==a)n.type=a;else if("#"===u)i.id=a;else if("."===u)e.push(a);else if("["===f[0]){var p=s;p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[c]=p||P}}return e[I]>0&&(i["class"]=e.join(" ")),n.props=i,n}var i=m();return n}function a(n,t,u,a){function f(n,t,e,i,o,u,a){if(i=i||0,e===A&&t)d(n,y(t,o),t);else if(t===A)l(n,h=n[W][i],e);else{if(t.props&&e.props&&(t.props.key||e.props.key)&&t.props.key!==e.props.key){var c,h,w=u[I],g=a[I];return w>g?c=1:w<g&&(c=-1),p(n,a,c,i,t)}if(m(t,e)){var x,O=n[W][i];r(t,en)&&3===O.nodeType?(h=t,x=P):h=y(t),v(n,h,O,t,x)}else if(t.type){var C=n[W],h=C[i],w=t[q][I],g=e[q][I];b(h,t,e);for(var k=0;k<w||k<g;k++){var u=t[q],a=e[q],j=u[k],S=a[k];if(s(j))return;var T=f(h,j,S,k,A,u,a);T!==A&&(w+=T,g+=T)}}}}function s(n){return n&&n[Q]&&n[Q]===U}function p(n,t,e,r,i){var o,u=n[W][r];if((e>0||!e)&&(o=y(i)),e>0)t.splice(r,0,A),h(n,o,u,i);else{if(e<0)return t.splice(r,1),l(n,u,i),-1;v(n,o,u,i)}}function l(n,t,e){if(t){var u=o(e,X,A,A,A,t);r(u,V)||(u=0),i(function(){t&&n.removeChild(t)},u)}}function d(n,t,e){t&&(o(e,G),n.appendChild(t),o(e,Z))}function h(n,t,e,r){t&&(o(r,G),n.insertBefore(t,e),o(r,Z))}function v(n,t,e,r,i){t&&e&&(i?e.textContent=t:(o(r,Y),n.replaceChild(t,e),o(r,K)))}function m(n,t){var e=n[D]!==t[D],i=!r(n,nn)&&n!==t,o=n.type!==t.type;return i||o||e}function y(n,t,i){if(n!==A&&(n[D]===en||n[D]===V||n[D]===rn))return M.createTextNode(n);var o,i;if(n.props&&n.props.xmlns&&(i=n.props.xmlns),o=i?M.createElementNS(i,n.type):M.createElement(n.type),n.props&&n.props.ref){var u=n.props.ref;t&&r(u,en)?(t.refs=t.refs||{},t.refs[u]=o):r(u,tn)&&u(o)}return C(o,n.props),x(o,n.props),r(n[q],_)&&e(n[q],function(n){o.appendChild(y(n,t,i))}),o}function w(n,t){return"on"===n.substr(0,2)&&r(t,tn)}function g(n){return n.substr(2,n[I]).toLowerCase()}function x(n,t){for(var e in t){var r=t[e];w(e,r)&&r&&n.addEventListener(g(e),r,U)}}function b(n,t,r){var i=O(t.props,r.props);i[I]&&(o(t,Y),e(i,function(t){k(n,t.name,t.value,t.op)}),o(t,K))}function O(n,t){var e=[];t=t||{};var r={};for(var i in n)r[i]=n[i];for(var i in t)r[i]=t[i];for(var i in r){var o=t[i],u=n[i],a=u===A||u===N,f=o===A||o===N||u!==o&&!w(i,r[i]),c=a===-1?o:u;(f||a)&&e.push({name:i,value:c,op:f||a})}return e}function C(n,t){for(var e in t)k(n,e,t[e],1)}function k(n,t,i,o){if("ref"!==t&&"key"!==t&&!w(t,i))return o=o===-1?"removeAttribute":"setAttribute","xlink:href"===t?n[o+"NS"](L.xlink,"href",i):void(i!==L.svg&&i!==L.math&&(t===z&&(t="class"),r(i,nn)?"class"===t?e(i,function(t,e){var r=t?"add":"remove";c(r,n,e)}):e(i,function(e,i){r(n[t][i])||(n[t][i]=e)}):r(i,_)&&"class"===t?n[o](t,i.join(" ")):n[t]!==A&&n.namespaceURI==L.html?n[t]=i:n[o](t,i)))}f(n,t,u,A,a)}function f(){function n(n,t,e,u,a){return function(f,s){function p(n){if(h)x="finish";else{if(n.target!==f)return;o(y,"transition",N),o(y,"transform",N)}f.removeEventListener(x,p),o(y,"transformOrigin",N),y.willChange&&(y.willChange=N),c("remove",f,g),c("remove",w,g),s&&s(f)}if(e=e||"",r(f,en)&&(f=document.querySelector(f)),!f&&f.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},f=f.currentTarget||f,y=f.style,w=M.body,g="animation-running",x="transitionend";if(r(f.animate,tn)&&(h=P),y.willChange!==A&&(y.willChange="transform"),l=i(f),n&&c("toggle",f,n),d=n?i(f):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,t=t||200,a=a||"cubic-bezier(0,0,0.32,1)",v[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",v[1]=v[1]+" "+e,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",u&&o(y,"transformOrigin",u),c("add",f,g),c("add",w,g),h){var b=f.animate([{transform:v[1]},{transform:v[2]}],{duration:t,easing:a});b.addEventListener("finish",p)}else o(y,"transform",v[1]),f.offsetWidth,o(y,"transition","transform "+t+"ms "+a+", opacity "+t+"ms "+a),o(y,"transform",v[2]);return h||f.addEventListener(x,p),t}}function t(n){return function(t,r){c("add",t,n);var i=0,o=getComputedStyle(t);o=o.transitionDuration,o=o.replace(/s| /g,"").split(","),e(o,function(n){i+=1e3*parseFloat(n)}),r&&fn(function(){r(t)},i)}}function i(n){var t=n.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}function o(n,t,e){if(n&&n[t]===N)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[I];i++)t=r[i]+t[0].toUpperCase()+t.slice(1),n[t]!==A&&(n[t]=e);else n[t]=e}return{flip:n,transition:t}}function c(n,t,e){function r(n,t){return n[$]?n[$].contains(t):n[z].indexOf(t)>-1}function i(n,t){if(n[$])n[$].add(t);else if(!r(n,t)){var e=n[z].split(" ");e.push(t),n[z]=e.join(" ")}}function o(n,t){if(n[$])n[$].remove(t);else{var e=n[z].split(" ");e.splice(e.indexOf(t),1),n[z]=e.join(" ")}}function u(n,t){n[$]?n[$].toggle(t):r(n,t)?o(n,t):i(n,t)}var a={add:i,remove:o,hasClass:r,toggle:u};return a[n](t,e)}function s(){function n(n){var t,e,r=n.responseText,i=n.getResponseHeader("content-type");return i.indexOf(";")!==-1?(e=i.split(";"),e=e[0].split("/")):e=i.split("/"),e=e[1],t="json"===e?JSON.parse(r):"html"===e?(new DOMParser).parseFromString(r,"text/html"):r}function t(t,r,i,o,u){return b(function(a,f){var c=new on,s=R.location,p=M.createElement("a");p.href=t;var l=!(p.hostname===s.hostname&&p.port===s.port&&p.protocol===s.protocol&&"file:"!==s.protocol);p=A,c.open(r,t),c.onload=function(){a(n(this))},c.onerror=function(){f(this.statusText)},l&&u&&(c.withCredentials=P),"POST"!==r&&"PUT"!==r||(c.setRequestHeader("Content-type",o),o.indexOf("x-www-form-urlencoded")>-1?i=e(i):o.indexOf("json")>-1&&(i=JSON.stringify(i))),c.send(i)})}function e(n,t){var r=[];for(var i in n){var o=t?t+"["+i+"]":i,u=n[i];r.push("object"==typeof u?e(u,o):an(o)+"="+an(u))}return r.join("&")}function r(n){return function(e,r,i,o){return i?"json"===i?i="application/json":"text"===i?i="text/plain":"file"===i&&(i="multipart/form-data"):i="application/x-www-form-urlencoded",t(e,n.toUpperCase(),r,i,o)}}return{get:r("GET"),post:r("POST"),put:r("PUT"),"delete":r("DELETE")}}function p(n,t,e){function i(n,t){if(r(n,en))return n;var e=n.type,i=n.props,a=n[q];return f[e]?"<"+e+o(i)+">":"<"+e+o(i)+">"+u(a,t)+"</"+e+">"}function o(n){return n=nn.keys(n).filter(function(t){return n[t]!==A&&n[t]!==N&&n[t]!==U}).map(function(t){var e=n[t];if(!r(e,tn)&&"key"!==t&&"ref"!==t)return e===P?t:t+'="'+e+'"'}).join(" ").replace(/\s+$/g,""),n?" "+n:""}function u(n,t){if(0===n[I])return"";t=t||0;var e="\t".repeat(t+1),r="\t".repeat(t);return"\n"+e+n.map(function(n){return i(n,t+1)}).join("\n"+e)+"\n"+r}var a,f={area:P,base:P,br:P,"!doctype":P,col:P,embed:P,wbr:P,track:P,hr:P,img:P,input:P,keygen:P,link:P,meta:P,param:P,source:P};return a=r(n,tn)?n(t,e,n.id===T?A:T):n,i(a)}function l(n){function t(n){return function(t,e){return t=t||{},nn.keys(n).reduce(function(r,i){return r[i]=n[i](t[i],e),r},{})}}function i(n){function t(){return a}function i(t,i){if(!r(t,nn))throw"action must be a plain object";if(t.type===A)throw"actions must have a type";a=n(a,t),e(f,function(n){return n(a)})}function o(n){if(!r(n,tn))throw"listener should be a function";return f.push(n),function(){n=f.filter(function(t){return t!==n})}}function u(n,e){e&&(n=h(n,e)),n(t()),o(function(){n(t())})}var a,f=[];return i({type:S}),{getState:t,dispatch:i,subscribe:o,connect:u}}return i(r(n,nn)?t(n):n)}function d(){function n(n,t,i){function o(){clearInterval(s),s=setInterval(function(){var n=R.location.pathname;c!==n&&(c=n,a())},50)}function u(){e(n,function(e,r){var i=[],o=/([:*])(\w+)|([\*])/g,u=r.replace(o,function(){var n=arguments,t=n[2];return t?(i.push(t),"([^/]+)"):"(?:.*)"}),u=u+"$";n[r]=[e,t?t+u:u,i]})}function a(){e(n,function(n){var t,e=n[0],i=n[1],o=n[2];if(t=c.match(new un(i))){var u=t.slice(1,t[I]).reduce(function(n,t,e){return n||(n={}),n[o[e]]=t,n},N);r(e,tn)&&e(u)}})}function f(n){t&&(n=t+n),history.pushState(A,A,n)}var c,s;return"/"===t.substr(-1)&&(t=t.substr(0,t[I]-1)),u(),o(),i&&f(i),{nav:f,back:history.back,foward:history.foward,go:history.go}}return n.apply(A,t(arguments))}function h(n,t){function e(e,r){o=n(e,r),a(t,o,u),u=o}function r(r,i){!c&&f&&(f["render()"]||(f["render()"]=e)),o=n(r,i),t.innerHTML="",o&&(a(t,o,A,f),u=o,s=U)}function i(t,o,u){return u===T?n(t,o):(s||u?r(t,o):e(t,o),i)}var n,o,u,t,f,c,s=P;if(n=v(n),t=t&&t.nodeType?t:M.querySelector(t),t&&t!==M||(t=M.body),n)return n.stateless&&(c=P),c||(f=n(A,A,P)),i;throw"can't find the component"}function v(n){function t(){return n}function i(n,t,e){if(e)return f;if(t&&(n=n||{},n[q]=t),p){if(f[Q]===U||o(f,Q,P,n)===U)return p[E][Q]=U,p;p[E][Q]=P}return n&&(o(f,J,P,n),w(f,n)),p=f.render()}var u,a;if(r(n,tn)){if(n.id===T)return n;if(u=n(),!u)throw"no render";if(!u.render)return n.stateless=P,n;a=/function ([^(]*)/.exec(n.valueOf())[1]}else{if(!r(n,nn))throw"invalid component";if(!n.render)return t.stateless=P,t;u=n}var f=new y(a);e(u,function(n,t){r(n,tn)?"render"!==t&&(f[t]=n.bind(f)):f[t]=n}),f[F]&&(f.state=f[F]()),f[B]&&(f.props=f[B]());var c=m([[T,f],[Q,P]]),s=u.render.bind(f,f.props,f.state,f);f.render=function(){return new c(s())};var p;return i.id=T,i}function m(n){function t(n){if(!n)throw"not a hyperscript";var t=this;t.type=n.type,t.props=n.props,t[q]=n[q]}return t[H][E]={},n&&e(n,function(n,e){t[H][E][n[0]]=n[1]}),t[H][D]=nn,t}function y(n){this.props={},this.state={},n&&(this.displayName=n)}function w(n,t){n.props=n.props||{},r(t,tn)&&(t=t()),t&&e(t,function(t,e){n.props[e]=t})}function g(n,t){if(n.state=n.state||{},r(t,tn)&&(t=t()),t)return e(t,function(t,e){n.state[e]=t}),P}function x(n,t,i){function o(n,t,e){var i;r(t,en)?(i=t in n?n[t]:n.getAttribute(t),i!==A&&i!==N&&e(i)):(i=t(),i!==A&&i!==N&&(e in n?n[e]=i:n.setAttribute(e,i)))}return function(){var u=this;r(n,_)?e(n,function(n,e){o(u,n,t[e])}):o(u,n,t),i&&i()}}function b(n,t){function i(){return o(arguments)}function o(n){if(n[I])return a=n[0],u("then",a),i;var e;return e=t===P?a():r(t,tn)?t(a):a}function u(n,t){c[n][I]&&e(c[n],function(e){try{var r=e(f[n]||t);r&&(f[n]=r)}catch(o){i.reject(o)}})}var a,f={then:N,"catch":N},c={"catch":[],then:[]};return i.toJSON=function(){return a},i.resolve=function(n){return i(n)},i.reject=function(n){u("catch",n)},i.push=function(n,t,e){return c[n].push(function(n){return t(n)}),e?A:i},i.then=function(n,t){if(t&&i["catch"](t),n)return i.push("then",n,t)},i.done=function(n,t){i.then(n,t||P)},i["catch"]=function(n){return i.push("catch",n)},i.map=function(n){var t=i;return b(function(e){e(function(){return n(t())})},P)},i.end=function(){f.then=N,f["catch"]=N,c["catch"]=[],c.then=[]},i.id=j,r(n,tn)?n(i.resolve,i.reject):i(n),i}function O(n,e,i,o){var u=[];return u=r(e,_)?e:[e],r(n,en)&&(n=new tn(o,n)),function(r){return r&&r.preventDefault&&i&&r.preventDefault(),u[I]&&e||(u=t(arguments)),n.apply(this,u)}}function C(){function n(n,t){var r;return e(f,function(e){n.indexOf(e)>-1&&(r="",a.forEach(function(e,i,o){r+="-"+e+"-"+n+": "+t+";\n\t"}),r+=n)}),r?r+": "+t:n+": "+t}function t(u,a,f){var s="";return e(u,function(e,u,s){if(s.hasOwnProperty(u))if(r(e,nn))t(e,a+" "+u,f);else{r(e,tn)&&(e=e()),r(e,_)&&(e="{"+e.join(":")+";}");var p=" { ";u!==u.toLowerCase()&&(u=i(u)),r(e,V)&&(e+="px"),"animation"!==u&&"animation-name"!==u||(e=o(c)+e);var l=a+p+n(u,e);a.indexOf("@keyframes")>-1&&(l=l.replace(/%:/g,"%")),"}"!==l.substr(-1)&&(l+=";");var d=l.split(p),h=d[0].replace(/ &|^ /g,""),v=d[1],m=f[h];v="\t"+v,m=m?m+v:v,f[h]=m+"\n"}}),s}function i(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(n){var t=n.substr(0,1);return"#"!==t&&"."!==t||(n="\\"+n),n}function u(n){var r={},i="",u=a.concat([""]);t(n,"",r),e(r,function(n,t){n=t+" {\n"+n+"}\n";var r="@keyframes",f=r[I],s=n.indexOf(r),p=s+f;if(s>-1){var l=[];a.push(),e(u,function(t){t=t?"-"+t+"-":t;var e=n.substr(0,1)+t+n.substr(1,p);e+=o(c)+n.substr(p+1),l.push(o(e))}),n=l.join("")}else if(t.indexOf(",")>-1){var d=t.split(",");d.forEach(function(n,t){var e=t>0?"":" ";d[t]=c+e+n}),d=d.join(", "),n=n.replace(new un(t,"g"),d)}else n=":"===n.substr(0,1)?c+n:c+" "+n;i+=n});var f=c?" data-id="+c:"";return"<style"+f+">\n"+i+"</style>"}var a=["webkit","moz","ms"],f=["animation","transform","appearance","transition","box-shadow","linear-gradient"],c="";return function(n,t){c=t;var e=u(n);return M&&M.head.insertAdjacentHTML("beforeend",e),e}}var k="@@dio",j=k+"/STREAM",S=k+"/STORE",T=k+"/COMPONENT",E=k+"/HYPERSCRIPT",L={math:"1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml"},R=window,M=R.document,N=null,U=!1,P=!0,A=void 0,D="constructor",H="prototype",I="length",W="childNodes",q="children",$="classList",z="className",F="getInitialState",B="getDefaultProps",J="componentWillReceiveProps",Z="componentDidMount",G="componentWillMount",X="componentWillUnmount",Y="componentWillUpdate",K="componentDidUpdate",Q="shouldComponentUpdate",V=Number,_=Array,nn=Object,tn=Function,en=String,rn=Boolean,on=XMLHttpRequest,un=RegExp,an=encodeURIComponent,fn=R.setTimeout;y[H]={setState:function(n,t){t=t||this,g(t,n)&&t.forceUpdate()},setProps:function(n,t){t=t||this,w(t,n)},forceUpdate:function(n){n=n||this,n["render()"]&&n["render()"]()},withAttr:function(n,t,e,i){return i=i||this,r(e,tn)||(e=function(){i.forceUpdate.call(i)}),x(n,t,e.bind(i))}},b.combine=function(n,e){return r(e,_)||(e=t(arguments,1)),b(function(t){t(function(){return n.apply(N,e)})},P)},b.all=function(n){function t(t,e){r.push(t),r[I]===n[I]&&e(r)}var r=[];return b(function(r,i){e(n,function(n,e,o){n.id===j?n.done(function(n){t(n,r)},function(n){i(n)}):t(n,r)})})},b.scan=function(n,t,e){return b(function(r){e.then(function(){t=n(t,e),r(t)})})},n.h=u(),n.dio={animate:f(),request:s(),createComponent:v,createFunction:O,createStream:b,createRender:h,createRouter:d,createStore:l,createHTML:p,createStyle:C()}});