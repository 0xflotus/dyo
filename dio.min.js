!function(n,t){"use strict";"function"==typeof define&&define.amd?define([],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:n)}(this,function(n){"use strict";function t(n,t,e){return jn[an].slice.call(n,t,e)}function e(n,t){var e;if(r(n,jn)){var i=n[cn];for(e=0;e<i;++e)if(t(n[e],e,n)===en)return}else for(e in n)if(t(n[e],e,n)===en)return}function r(n,t){return t?n!==on&&n!==tn?n[un]===t:en:n?rn:en}function i(n,t){return r(n,Sn)||(n+=""),n}function o(n){var t,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=n.props?n.props:{},o=n.type;for(n.type="div";t=r.exec(o);){var u=t[1],a=t[2],c=t[3],f=t[4],s=t[6];if(""===u&&""!==a)n.type=a;else if("#"===u)i.id=a;else if("."===u)e.push(a);else if("["===c[0]){var p=s;p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[f]=p||rn}}return e[cn]>0&&(i["class"]=e.join(" ")),n.props=i,n}function u(n,t){var u,a=arguments,c=a[cn],f=2;t&&t[X]||!r(t,Sn)?(f=1,t={}):r(t,Sn)||(t={});var s=new Mn({type:n,props:t,children:[]});(n.indexOf("[")>-1||n.indexOf("#")>-1||n.indexOf(".")>-1)&&(s=o(s)),"svg"!==s.type&&"math"!==s.type||s.props.xmlns||(s.props.xmlns=Q[s.type]);for(var p=f;p<c;p++)u=a[p],r(u,jn)?e(u,function(n){s[fn].push(i(n))}):s[fn].push(i(u));return s}function a(n,t,e,r){e?f(n,t,e,0,r,t,e,t[fn][cn],e[fn][cn],t[fn],e[fn]):f(n,t,e,0,r)}function c(n,t,i,o,u){o=o||0;var a;if(t[fn]){a=n[sn][o];for(var f=t[fn],s=f[cn],p=0;p<s;p++)c(a,f[p],i,p,t);t.dom=a}if(r(t,En)){var l=nn.createDocumentFragment();e(u[fn].slice(o),function(n){return r(n,Sn)?en:void l.appendChild(w(n))}),n.replaceChild(l,n[sn][o])}return a=n[sn][o],u&&(u[sn]=u[sn]||[],u[sn].push(a)),r(t,En)||(g(t,a),O(a,t.props)),t}function f(n,t,e,i,o,u,a,c,g,x,b){if(i=i||0,e===on){var O=w(t,o);v(n,O,t),a&&a[sn].splice(i,0,O)}else if(t===on){var j=e.dom;a&&j?(d(n,j,e),a[sn].splice(i,1)):(d(n,a[sn][i],e),Un(function(){a[sn].splice(i,1)}))}else if(p(t,e)){var S=a[sn][i];if(c<g)return d(n,S,t),b.splice(i,1),a[sn].splice(i,1),-1;var O=w(t,on,on,e);c>g?(h(n,S,O,t),b.splice(i,0,t),a[sn].splice(i,0,O)):(m(n,S,O,t),a[sn][i]=O)}else if(y(t,e)){var j=a[sn][i];if(e.type||t.type){var O=w(t,on,on,e);m(n,j,O,t),a[sn][i]=O,b[i]=t}else j.nodeValue=t}else if(r(t[fn],jn)&&r(e[fn],jn)){var O=e.dom||a[sn][i],x=t[fn],b=e[fn],c=x[cn],g=b[cn];C(O,t,e);for(var k=0;k<c||k<g;k++){if(l(E))return;var E=x[k],N=b[k],T=f(O,E,N,k,on,t,e,c,g,x,b);T!==on&&(c+=T,g+=T)}}s(t,e)}function s(n,t){t&&n&&t.type&&n.type&&(n.dom=t.dom,n[sn]=t[sn])}function p(n,t){return n&&t&&n.props&&t.props&&n.props.key!==t.props.key}function l(n){return n&&n[On]&&n[On]===en}function d(n,t,e){E(e,wn),n.removeChild(t),E(e,gn)}function v(n,t,e){E(e,yn),n.appendChild(t),E(e,mn)}function h(n,t,e,r){E(r,yn),n.insertBefore(e,t),E(r,mn)}function m(n,t,e,r){E(r,xn),n.replaceChild(e,t),E(r,bn)}function y(n,t){var e=!n.type&&n!==t,r=n.type!==t.type;return e||r}function w(n,t,i,o){var u;if(!n.type)return u=n,r(u,En)||(u+=""),nn.createTextNode(u);var u,a=n[fn];return n[sn]=[],n.props&&n.props.xmlns&&(i=n.props.xmlns),i?(u=nn.createElementNS(i,n.type),n.props.xmlns||(n.props.xmlns=i)):u=nn.createElement(n.type),g(n,u),S(u,n.props),O(u,n.props),r(a,jn)&&e(a,function(e){var r=w(e,t,i,o);n[sn].push(r),u.appendChild(r)}),n.dom=u,u}function g(n,t){var e;if(n[X]&&(e=n[X][V]),e&&n.props&&n.props.ref){var i=n.props.ref;e&&r(i,En)?(e.refs=e.refs||{},e.refs[i]=t):r(i,kn)&&i(t)}}function x(n,t){return"on"===n.substr(0,2)&&r(t,kn)}function b(n){return n.substr(2,n[cn]).toLowerCase()}function O(n,t){for(var e in t){var r=t[e];x(e,r)&&n.addEventListener(b(e),r,en)}}function C(n,t,r){var i=j(t.props,r.props);i[cn]&&(E(t,xn),e(i,function(e){k(n,e.name,e.value,e.op,t.props.xmlns)}),E(t,bn))}function j(n,t){var e=[];t=t||{};var r={};for(var i in n)r[i]=n[i];for(var i in t)r[i]=t[i];for(var i in r){var o=t[i],u=n[i],a=u===on||u===tn,c=o===on||o===tn||u!==o;if(c||a){var f=a===-1?o:u;e.push({name:i,value:f,op:c||a})}}return e}function S(n,t){for(var e in t)k(n,e,t[e],1,t.xmlns)}function k(n,t,i,o,u){if("ref"!==t&&"key"!==t&&!x(t,i))return o=o===-1?"removeAttribute":"setAttribute","xlink:href"===t?n[o+"NS"](Q.xlink,"href",i):void(i!==Q.svg&&i!==Q.math&&(u===Q.svg?"className"===t&&(t="class"):"class"===t&&(t="className"),r(i,Sn)?t===ln||"class"===t?e(i,function(t,e){var r=t?"add":"remove";A(r,n,e)}):e(i,function(e,i){r(n[t][i])||(n[t][i]=e)}):!r(i,jn)||t!==ln&&"class"!==t?n[t]!==on&&u!==Q.svg?n[t]=i:n[o](t,i):n[o](t,i.join(" "))))}function E(n,t,e,r,i,o){if(n&&(!n||!n[X]||n[X][V]||n.render)){var u;return e?u=n:n[X]&&n[X][V]&&(u=n[X][V]),u&&u[t]?(r=r||u.props,i=i||u.state,u[t](r,i,u,o)):void 0}}function N(n,t){function e(e,r){o=n(e,r),a(t,o,u),u=o}function r(r,i){!s&&f&&(f["render()"]||(f["render()"]=e)),o=n(r,i),o&&!t.hasAttribute(K)?(t.textContent="",a(t,o,on,f)):(t.removeAttribute(K),c(t,o,f)),u=o,p=en}function i(t,o,u){return u===V?n(t,o):(p||u?r(t,o):e(t,o),i)}i.id=Y;var n,o,u,t,f,s,p=rn;if(n=R(n),t=t&&t.nodeType?t:nn.querySelector(t),t&&t!==nn||(t=nn.body),n)return n.stateless&&(s=rn),s||(f=n(on,on,rn)),i;throw"can't find the component"}function T(n){function t(n){if(!n)throw"not a hyperscript";var t=this;t.type=n.type,t.props=n.props,t[fn]=n[fn]}return t[an][X]={},n&&e(n,function(n,e){t[an][X][n[0]]=n[1]}),t[an][un]=Sn,t}function R(n){function t(n,t,e){if(e)return a;if(t&&(n=n||{},n[fn]=t),s){if(a[On]===en||E(a,On,rn,n)===en)return s[X][On]=en,s;s[X][On]=rn}return n&&(E(a,hn,rn,n),U(a,n)),s=a.render()}var i,o;if(r(n,kn)){if(n.id===V)return n;if(i=n(),!i)throw"no render";if(!i.render)return n.stateless=rn,n;o=/function ([^(]*)/.exec(n.valueOf())[1]}else{if(!r(n,Sn))throw"invalid component";if(!n.render){var u=function(){return n};return u.stateless=rn,u}i=n}var a=new L(o);e(i,function(n,t){r(n,kn)?"render"!==t&&(a[t]=n.bind(a)):a[t]=n}),a[dn]&&(a.state=a[dn]()),a[vn]&&(a.props=a[vn]());var c=T([[V,a],[On,rn]]),f=i.render.bind(a,a.props,a.state,a);a.render=function(){return new c(f())};var s;return t.id=V,t}function L(n){this.props={},this.state={},n&&(this.displayName=n)}function U(n,t){n.props=n.props||{},r(t,kn)&&(t=t()),t&&e(t,function(t,e){n.props[e]=t})}function M(n,t){if(n.state=n.state||{},r(t,kn)&&(t=t()),t)return e(t,function(t,e){n.state[e]=t}),rn}function P(n,t,i){function o(n,t,e){var i;r(t,En)?(i=t in n?n[t]:n.getAttribute(t),i!==on&&i!==tn&&e(i)):(i=t(),i!==on&&i!==tn&&(e in n?n[e]=i:n.setAttribute(e,i)))}return function(){var u=this;r(n,jn)?e(n,function(n,e){o(u,n,t[e])}):o(u,n,t),i&&i()}}function A(n,t,e){function r(n,t){return n[pn]?n[pn].contains(t):n[ln].indexOf(t)>-1}function i(n,t){if(n[pn])n[pn].add(t);else if(!r(n,t)){var e=n[ln].split(" ");e.push(t),n[ln]=e.join(" ")}}function o(n,t){if(n[pn])n[pn].remove(t);else{var e=n[ln].split(" ");e.splice(e.indexOf(t),1),n[ln]=e.join(" ")}}function u(n,t){n[pn]?n[pn].toggle(t):r(n,t)?o(n,t):i(n,t)}var a={add:i,remove:o,hasClass:r,toggle:u};return a[n](t,e)}function D(){function n(n,t,r,i){e(t,function(t){n[i+"EventListener"](t,r)})}function t(n){var t=n.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}function i(n,t,e){if(!n||n[t]!==tn&&n[t]!==on)n[t]=e;else for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[cn];i++)t=r[i]+t[0].toUpperCase()+t.slice(1),n[t]!==on&&(n[t]=e)}function o(e,o,u,a,c){return function(f,s){function p(n){if(v)x="finish";else{if(n.target!==f)return;i(y,"transition",on),i(y,"transform",on)}f.removeEventListener(x,p),i(y,"transformOrigin",on),A("remove",f,g),A("remove",w,g),s&&s(f)}if(u=u||"",r(f,En)&&(f=nn.querySelector(f)),!f&&f.nodeType)throw"can't animate without an element";var l,d,v,h=[],m={},f=f.currentTarget||f,y=f.style,w=nn.body,g="animation-running",x="transitionend";if(r(f.animate,kn)&&(v=rn),l=t(f),e&&A("toggle",f,e),d=e?t(f):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,o=o||200,c=c||"cubic-bezier(0,0,0.32,1)",h[0]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",h[0]=h[0]+" "+u,h[1]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",a&&i(y,"transformOrigin",a),A("add",f,g),A("add",w,g),v){var b=f.animate([{transform:h[0]},{transform:h[1]}],{duration:o,easing:c});b.addEventListener("finish",p)}else n(f,[x],p,"add"),i(y,"transform",h[0]),f.offsetWidth,i(y,"transition","transform "+o+"ms "+c+", opacity "+o+"ms "+c),i(y,"transform",h[1]);return o}}function u(n){return function t(r,i){return i=i||"add",(i<0||i!==on&&!i)&&(i="remove"),function(o,u){Un(function(){if(A(i,o,r),u){var a=0,c=getComputedStyle(o);c=c[n+"Duration"],c=c.replace(/s| /g,"").split(","),e(c,function(n){a+=1e3*parseFloat(n)}),u&&Un(function(){u(o,t)},a)}})}}}return{flip:o,transitions:u("transition"),animations:u("animation")}}function W(){function n(n){var t,e,r=n.responseText,i=n.getResponseHeader("content-type");return i.indexOf(";")!==-1?(e=i.split(";"),e=e[0].split("/")):e=i.split("/"),e=e[1],t="json"===e?JSON.parse(r):"html"===e?(new DOMParser).parseFromString(r,"text/html"):r}function t(t,r,i,o,u){return q(function(a,c){var f=new Nn,s=_.location,p=nn.createElement("a");p.href=t;var l=!(p.hostname===s.hostname&&p.port===s.port&&p.protocol===s.protocol&&"file:"!==s.protocol);p=on,f.open(r,t),f.onload=function(){a(n(this))},f.onerror=function(){c(this.statusText)},l&&u&&(f.withCredentials=rn),"POST"!==r&&"PUT"!==r||(f.setRequestHeader("Content-type",o),o.indexOf("x-www-form-urlencoded")>-1?i=e(i):o.indexOf("json")>-1&&(i=JSON.stringify(i))),f.send(i)})}function e(n,t){var r=[];for(var i in n){var o=t?t+"["+i+"]":i,u=n[i];r.push("object"==typeof u?e(u,o):Rn(o)+"="+Rn(u))}return r.join("&")}function r(n){return function(r,i,o,u){return o?"json"===o?o="application/json":"text"===o?o="text/plain":"file"===o&&(o="multipart/form-data"):o="application/x-www-form-urlencoded",i&&"GET"===n&&(r+="?"+e(i)),r=Ln(r),t(r,n,i,o,u)}}function i(n){return i[n.method.toLowerCase()](n.url,n.payload,n.enctype,n.withCredentials)}return i.get=r("GET"),i.post=r("POST"),i.put=r("PUT"),i["delete"]=r("DELETE"),i}function H(n){function t(n){return function(t,e){return t=t||{},Sn.keys(n).reduce(function(r,i){return r[i]=n[i](t[i],e),r},{})}}function i(n){function t(){return a}function i(t,i){if(!r(t,Sn))throw"action must be a plain object";if(t.type===on)throw"actions must have a type";a=n(a,t),e(c,function(n){return n(a)})}function o(n){if(!r(n,kn))throw"listener should be a function";return c.push(n),function(){n=c.filter(function(t){return t!==n})}}function u(n,e){e&&(n=N(n,e)),n(t()),o(function(){n(t())})}var a,c=[];return i({type:G}),{getState:t,dispatch:i,subscribe:o,connect:u}}return i(r(n,Sn)?t(n):n)}function I(n,t,i,o){function u(n,t,i){function o(){clearInterval(s),s=setInterval(function(){var n=_.location.pathname;f!==n&&(f=n,a())},50)}function u(){e(n,function(e,r){var i=[],o=/([:*])(\w+)|([\*])/g,u=r.replace(o,function(){var n=arguments,t=n[2];return t?(i.push(t),"([^/]+)"):"(?:.*)"}),u=u+"$";u=t?t+u:u,u=new Tn(u),n[r]=[e,u,i]})}function a(){e(n,function(n){var t,e=n[0],i=n[1],o=n[2];if(t=f.match(i)){var u=t.slice(1,t[cn]).reduce(function(n,t,e){return n||(n={}),n[o[e]]=t,n},on);r(e,kn)&&e(u)}})}function c(n){t&&(n=t+n),history.pushState(on,on,n)}var f,s;return"/"===t.substr(-1)&&(t=t.substr(0,t[cn]-1)),u(),o(),i&&c(i),{nav:c,back:history.back,foward:history.foward,go:history.go}}return r(n,kn)&&(n=n()),o&&e(n,function(t,e){var r;r=t.id!==Y?N(t,o):t,n[e]=function(n){r(n,tn,rn)}}),u(n,t,i)}function q(n,t){function i(){return o(arguments)}function o(n){if(n[cn])return a=n[0],u("then",a),i;var e;return e=t===rn?a():r(t,kn)?t(a):a}function u(n,t){f[n][cn]&&e(f[n],function(e){try{var r=e(c[n]||t);r&&(c[n]=r)}catch(o){i.reject(o)}})}var a,c={then:on,"catch":on},f={"catch":[],then:[]};return i.toJSON=function(){return a},i.valueOf=function(){return a},i.resolve=function(n){return i(n)},i.reject=function(n){u("catch",n)},i.push=function(n,t,e){return f[n].push(function(n){return t(n)}),e?on:i},i.then=function(n,t){if(t&&i["catch"](t),n)return i.push("then",n,t)},i.done=function(n,t){i.then(n,t||rn)},i["catch"]=function(n){return i.push("catch",n)},i.map=function(n){var t=i;return q(function(e){e(function(){return n(t())})},rn)},i.end=function(){c.then=on,c["catch"]=on,f["catch"]=[],f.then=[]},i.id=B,r(n,kn)?n(i.resolve,i.reject,i):i(n),i}function F(n,t,e){function i(n,t){if(r(n,En))return n;var e=n.type,i=n.props,a=n[fn];return c[e]?"<"+e+o(i)+">":"<"+e+o(i)+">"+u(a,t)+"</"+e+">"}function o(n){return n=Sn.keys(n).filter(function(t){return n[t]!==on&&n[t]!==tn&&n[t]!==en}).map(function(t){var e=n[t];if(!r(e,kn)&&"key"!==t&&"ref"!==t)return e===rn?t:t+'="'+e+'"'}).join(" ").replace(/  +/g," ").trim(),n?" "+n:""}function u(n){return 0===n[cn]?"":n.map(function(n){return i(n)}).join("")}var a,c={area:rn,base:rn,br:rn,"!doctype":rn,col:rn,embed:rn,wbr:rn,track:rn,hr:rn,img:rn,input:rn,keygen:rn,link:rn,meta:rn,param:rn,source:rn};return a=r(n,kn)?n(t,e,n.id===V?on:V):n,i(a)}function z(){function n(n,t){var r;return e(c,function(i){n.indexOf(i)>-1&&(r="",e(a,function(e,i,o){r+="-"+e+"-"+n+": "+t+";\n\t"}),r+=n)}),r?r+": "+t:n+": "+t}function t(u,a,c){var p="";return e(u,function(u,p,l){if(l.hasOwnProperty(p)){if(!r(u,jn)&&a.indexOf(s)>-1&&(p.indexOf("%")>-1||!isNaN(p))){isNaN(p)||(p+="%");var d="";e(u,function(n,t){r(n,kn)&&(n=n()),d+=t+":"+n+";"}),u="{"+d+"}"}if(r(u,Sn))t(u,a+" "+p,c);else{r(u,kn)&&(u=u()),r(u,jn)&&(u="{"+u.join(":")+";}");var v=" { ";p!==p.toLowerCase()&&(p=i(p)),r(u,Cn)&&(u+="px"),"animation"!==p&&"animation-name"!==p||(u=o(f)+u);var h=a+v+n(p,u);a.indexOf(s)>-1&&(h=h.replace(/%:/g,"%")),"}"!==h.substr(-1)&&(h+=";");var m=h.split(v),y=m[0].replace(/ &|^ /g,""),w=m[1],g=c[y];w="\t"+w,g=g?g+w:w,c[y]=g+"\n"}}}),p}function i(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(n){var t=n.substr(0,1);return"#"!==t&&"."!==t||(n="\\"+n),n}function u(n){var r={},i="",u=a.concat([""]);t(n,"",r),e(r,function(n,t){if(n=t+" {\n"+n+"}\n",n.indexOf(s)>-1){var r=s[cn],a=[];n=s+n.split(s)[1];var c=n.indexOf(s)+r;e(u,function(t){t=t?"-"+t+"-":t;var e=n.substr(0,1)+t+n.substr(1,c);e+=o(f)+n.substr(c+1),a.push(e)}),n=a.join("")}else if(n.indexOf(p)>-1)n=n.split(p)[1].replace(" ","");else if(t.indexOf(",")>-1){var l=t.split(",");e(l,function(n,t){var e=t>0?"":" ";l[t]=f+e+n}),l=l.join(", "),n=n.replace(new Tn(t),l)}else n=":"===n.substr(0,1)?f+n:f+" "+n;i+=n});var c=f?" data-id="+f:"";return"<style"+c+">\n"+i+"</style>"}var a=["webkit","moz","ms"],c=["animation","transform","appearance","transition","box-shadow","linear-gradient"],f="",s="@keyframes",p="@at-root";return function(n,t,e){f=t||"",r(n,kn)&&(n=n());var i=u(n);return nn&&nn.head&&!e&&nn.head.insertAdjacentHTML("beforeend",i),i}}function $(n,t,e){return function(r){return r&&r.preventDefault&&e&&r.preventDefault(),t&&t[cn]?n.apply(this,t):n.call(this,r)}}function J(n,i){function o(n){return function(e,r){return u.call(tn,n,e,t(arguments,1))}}r(n,jn)||(n=t(arguments));var a=n[cn];if(1!==a){var c=n[a-1]===rn?_:{};return e(n,function(n){c[n]=o(n)}),c}var f=o(n[0]);return n[a-1]!==rn?f:void(_[n[0]]=f)}var Z="@@dio",B=Z+"/STREAM",G=Z+"/STORE",V=Z+"/COMPONENT",X=Z+"/HYPERSCRIPT",Y=Z+"/RENDER",K="data-hydrate",Q={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml"},_=n,nn=_.document,tn=null,en=!1,rn=!0,on=void 0,un="constructor",an="prototype",cn="length",fn="children",sn="childNodes",pn="classList",ln="className",dn="getInitialState",vn="getDefaultProps",hn="componentWillReceiveProps",mn="componentDidMount",yn="componentWillMount",wn="componentWillUnmount",gn="componentDidUnmount",xn="componentWillUpdate",bn="componentDidUpdate",On="shouldComponentUpdate",Cn=Number,jn=Array,Sn=Object,kn=Function,En=String,Nn=XMLHttpRequest,Tn=RegExp,Rn=encodeURIComponent,Ln=encodeURI,Un=setTimeout,Mn=T();L[an]={setState:function(n,t){t=t||this,M(t,n)&&t.forceUpdate()},setProps:function(n,t){t=t||this,U(t,n)},forceUpdate:function(n){n=n||this,n["render()"]&&n["render()"]()},withAttr:function(n,t,e,i){return i=i||this,r(e,kn)||(e=function(){i.forceUpdate.call(i)}),P(n,t,e.bind(i))}},q.combine=function(n,e){e=r(e,jn)?t(e):t(arguments,1),e.push(on);var i=e[cn]-1;return q(function(t){t(function(){return e[i]=n.apply(on,e)})},rn)},q.all=function(n){function t(t,e){r.push(t),r[cn]===n[cn]&&e(r)}var r=[];return q(function(r,i){e(n,function(n,e,o){n.id===B?n.done(function(n){t(n,r)},function(n){i(n)}):t(n,r)})})},q.scan=function(n,t,e){return q(function(r){e.then(function(){t=n(t,e),r(t)})})},n.h=u,n.dio={request:W(),curry:$,animateWith:D(),createStyle:z(),createStream:q,createRouter:I,createHTML:F,createElement:u,createStore:H,createFactory:J,createRender:N,render:N,createComponent:R,createClass:R,Component:R}});