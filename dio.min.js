!function(n,t){"use strict";"function"==typeof define&&define.amd?define([],t):t("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:n)}(this,function(n){"use strict";function t(n,t,e){return wn[nn].slice.call(n,t,e)}function e(n,t){var e;if(r(n,wn)){var i=n[tn];for(e=0;e<i;++e)if(t(n[e],e,n)===Y)return}else for(e in n)if(t(n[e],e,n)===Y)return}function r(n,t){return t?n!==Q&&n!==X?n[_]===t:Y:n?K:Y}function i(n,t,e,r,i,o){if(n&&(!n||!n[J]||n[J][F]||n.render)){var u;return e?u=n:n[J]&&n[J][F]&&(u=n[J][F]),u&&u[t]?(r=r||u.props,i=i||u.state,u[t](r,i,u,o)):void 0}}function o(){function n(n,u){var a,c=arguments,f=c[tn],s=2;u&&u[J]||!r(u,gn)?(s=1,u={}):r(u,gn)||(u={});var p=new o({type:n,props:u,children:[]});(n.indexOf("[")>-1||n.indexOf("#")>-1||n.indexOf(".")>-1)&&(p=i(p)),"svg"!==p.type&&"math"!==p.type||p.props.xmlns||(p.props.xmlns=B[p.type]);for(var l=s;l<f;l++)a=c[l],r(a,wn)?e(a,function(n){p[en].push(t(n))}):p[en].push(t(a));return p}function t(n,t){return r(n,gn)||(n+=""),n}function i(n){var t,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=n.props?n.props:{},o=n.type;for(n.type="div";t=r.exec(o);){var u=t[1],a=t[2],c=t[3],f=t[4],s=t[6];if(""===u&&""!==a)n.type=a;else if("#"===u)i.id=a;else if("."===u)e.push(a);else if("["===c[0]){var p=s;p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[f]=p||K}}return e[tn]>0&&(i["class"]=e.join(" ")),n.props=i,n}var o=L();return n}function u(n,t,e,r){e?a(n,t,e,0,r,t,e,t[en][tn],e[en][tn],t[en],e[en]):a(n,t,e,0,r)}function a(n,t,e,i,o,u,y,w,g,b,O){if(i=i||0,e===Q){var j=m(t,o);l(n,j,t),y&&y[rn].splice(i,0,j)}else if(t===Q){var S=e.dom;y&&S?(p(n,S,e),y[rn].splice(i,1)):(p(n,y[rn][i],e),kn(function(){y[rn].splice(i,1)}))}else if(f(t,e)){var k=y[rn][i];if(w<g)return p(n,k,t),O.splice(i,1),y[rn].splice(i,1),-1;var j=m(t,Q,Q,e);w>g?(d(n,k,j,t),O.splice(i,0,t),y[rn].splice(i,0,j)):(v(n,k,j,t),y[rn][i]=j)}else if(h(t,e)){var S=y[rn][i];if(e.type||t.type){var j=m(t,Q,Q,e);v(n,S,j,t),y[rn][i]=j,O[i]=t}else S.nodeValue=t}else if(r(t[en],wn)&&r(e[en],wn)){var j=e.dom||y[rn][i],b=t[en],O=e[en],w=b[tn],g=O[tn];x(j,t,e);for(var N=0;N<w||N<g;N++){if(s(T))return;var T=b[N],C=O[N],E=a(j,T,C,N,Q,t,e,w,g,b,O);E!==Q&&(w+=E,g+=E)}}c(t,e)}function c(n,t){t&&n&&t.type&&n.type&&(n.dom=t.dom,n[rn]=t[rn])}function f(n,t){return n&&t&&n.props&&t.props&&n.props.key!==t.props.key}function s(n){return n&&n[mn]&&n[mn]===Y}function p(n,t,e){i(e,ln),n.removeChild(t),i(e,dn)}function l(n,t,e){i(e,pn),n.appendChild(t),i(e,sn)}function d(n,t,e,r){i(r,pn),n.insertBefore(e,t),i(r,sn)}function v(n,t,e,r){i(r,vn),n.replaceChild(e,t),i(r,hn)}function h(n,t){var e=!n.type&&n!==t,r=n.type!==t.type;return e||r}function m(n,t,i,o){var u;if(!n.type)return u=n,r(u,bn)||(u+=""),V.createTextNode(u);var u,a=n[en];if(n[rn]=[],n.props&&n.props.xmlns&&(i=n.props.xmlns),i?(u=V.createElementNS(i,n.type),n.props.xmlns||(n.props.xmlns=i)):u=V.createElement(n.type),n.props&&n.props.ref){var c=n.props.ref;t&&r(c,bn)?(t.refs=t.refs||{},t.refs[c]=u):r(c,xn)&&c(u)}return O(u,n.props),g(u,n.props),r(a,wn)&&e(a,function(e){var r=m(e,t,i,o);n[rn].push(r),u.appendChild(r)}),n.dom=u,u}function y(n,t){return"on"===n.substr(0,2)&&r(t,xn)}function w(n){return n.substr(2,n[tn]).toLowerCase()}function g(n,t){for(var e in t){var r=t[e];y(e,r)&&n.addEventListener(w(e),r,Y)}}function x(n,t,r){var o=b(t.props,r.props);o[tn]&&(i(t,vn),e(o,function(e){j(n,e.name,e.value,e.op,t.props.xmlns)}),i(t,hn))}function b(n,t){var e=[];t=t||{};var r={};for(var i in n)r[i]=n[i];for(var i in t)r[i]=t[i];for(var i in r){var o=t[i],u=n[i],a=u===Q||u===X,c=o===Q||o===X||u!==o;if(c||a){var f=a===-1?o:u;e.push({name:i,value:f,op:c||a})}}return e}function O(n,t){for(var e in t)j(n,e,t[e],1,t.xmlns)}function j(n,t,i,o,u){if("ref"!==t&&"key"!==t&&!y(t,i))return o=o===-1?"removeAttribute":"setAttribute","xlink:href"===t?n[o+"NS"](B.xlink,"href",i):void(i!==B.svg&&i!==B.math&&(u===B.svg?"className"===t&&(t="class"):"class"===t&&(t="className"),r(i,gn)?t===un||"class"===t?e(i,function(t,e){var r=t?"add":"remove";k(r,n,e)}):e(i,function(e,i){r(n[t][i])||(n[t][i]=e)}):!r(i,wn)||t!==un&&"class"!==t?n[t]!==Q&&u!==B.svg?n[t]=i:n[o](t,i):n[o](t,i.join(" "))))}function S(){function n(n,t,r,i){e(t,function(t){n[i+"EventListener"](t,r)})}function t(n){var t=n.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}function i(n,t,e){if(!n||n[t]!==X&&n[t]!==Q)n[t]=e;else for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[tn];i++)t=r[i]+t[0].toUpperCase()+t.slice(1),n[t]!==Q&&(n[t]=e)}function o(e,o,u,a,c){return function(f,s){function p(n){if(v)x="finish";else{if(n.target!==f)return;i(y,"transition",Q),i(y,"transform",Q)}f.removeEventListener(x,p),i(y,"transformOrigin",Q),k("remove",f,g),k("remove",w,g),s&&s(f)}if(u=u||"",r(f,bn)&&(f=V.querySelector(f)),!f&&f.nodeType)throw"can't animate without an element";var l,d,v,h=[],m={},f=f.currentTarget||f,y=f.style,w=V.body,g="animation-running",x="transitionend";if(r(f.animate,xn)&&(v=K),l=t(f),e&&k("toggle",f,e),d=e?t(f):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,o=o||200,c=c||"cubic-bezier(0,0,0.32,1)",h[0]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",h[0]=h[0]+" "+u,h[1]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",a&&i(y,"transformOrigin",a),k("add",f,g),k("add",w,g),v){var b=f.animate([{transform:h[0]},{transform:h[1]}],{duration:o,easing:c});b.addEventListener("finish",p)}else n(f,[x],p,"add"),i(y,"transform",h[0]),f.offsetWidth,i(y,"transition","transform "+o+"ms "+c+", opacity "+o+"ms "+c),i(y,"transform",h[1]);return o}}function u(n){return function t(r,i){return i=i||"add",(i<0||i!==Q&&!i)&&(i="remove"),function(o,u){kn(function(){if(k(i,o,r),u){var a=0,c=getComputedStyle(o);c=c[n+"Duration"],c=c.replace(/s| /g,"").split(","),e(c,function(n){a+=1e3*parseFloat(n)}),u&&kn(function(){u(o,t)},a)}})}}}return{flip:o,transitions:u("transition"),animations:u("animation")}}function k(n,t,e){function r(n,t){return n[on]?n[on].contains(t):n[un].indexOf(t)>-1}function i(n,t){if(n[on])n[on].add(t);else if(!r(n,t)){var e=n[un].split(" ");e.push(t),n[un]=e.join(" ")}}function o(n,t){if(n[on])n[on].remove(t);else{var e=n[un].split(" ");e.splice(e.indexOf(t),1),n[un]=e.join(" ")}}function u(n,t){n[on]?n[on].toggle(t):r(n,t)?o(n,t):i(n,t)}var a={add:i,remove:o,hasClass:r,toggle:u};return a[n](t,e)}function N(){function n(n){var t,e,r=n.responseText,i=n.getResponseHeader("content-type");return i.indexOf(";")!==-1?(e=i.split(";"),e=e[0].split("/")):e=i.split("/"),e=e[1],t="json"===e?JSON.parse(r):"html"===e?(new DOMParser).parseFromString(r,"text/html"):r}function t(t,r,i,o,u){return W(function(a,c){var f=new On,s=G.location,p=V.createElement("a");p.href=t;var l=!(p.hostname===s.hostname&&p.port===s.port&&p.protocol===s.protocol&&"file:"!==s.protocol);p=Q,f.open(r,t),f.onload=function(){a(n(this))},f.onerror=function(){c(this.statusText)},l&&u&&(f.withCredentials=K),"POST"!==r&&"PUT"!==r||(f.setRequestHeader("Content-type",o),o.indexOf("x-www-form-urlencoded")>-1?i=e(i):o.indexOf("json")>-1&&(i=JSON.stringify(i))),f.send(i)})}function e(n,t){var r=[];for(var i in n){var o=t?t+"["+i+"]":i,u=n[i];r.push("object"==typeof u?e(u,o):Sn(o)+"="+Sn(u))}return r.join("&")}function r(n){return function(r,i,o,u){return o?"json"===o?o="application/json":"text"===o?o="text/plain":"file"===o&&(o="multipart/form-data"):o="application/x-www-form-urlencoded",i&&"GET"===n&&(r+="?"+e(i)),t(r,n,i,o,u)}}return{get:r("GET"),post:r("POST"),put:r("PUT"),"delete":r("DELETE")}}function T(n,t,e){function i(n,t){if(r(n,bn))return n;var e=n.type,i=n.props,a=n[en];return c[e]?"<"+e+o(i)+">":"<"+e+o(i)+">"+u(a,t)+"</"+e+">"}function o(n){return n=gn.keys(n).filter(function(t){return n[t]!==Q&&n[t]!==X&&n[t]!==Y}).map(function(t){var e=n[t];if(!r(e,xn)&&"key"!==t&&"ref"!==t)return e===K?t:t+'="'+e+'"'}).join(" ").replace(/\s+$/g,""),n?" "+n:""}function u(n,t){if(0===n[tn])return"";t=t||0;var e="\t".repeat(t+1),r="\t".repeat(t);return"\n"+e+n.map(function(n){return i(n,t+1)}).join("\n"+e)+"\n"+r}var a,c={area:K,base:K,br:K,"!doctype":K,col:K,embed:K,wbr:K,track:K,hr:K,img:K,input:K,keygen:K,link:K,meta:K,param:K,source:K};return a=r(n,xn)?n(t,e,n.id===F?Q:F):n,i(a)}function C(n){function t(n){return function(t,e){return t=t||{},gn.keys(n).reduce(function(r,i){return r[i]=n[i](t[i],e),r},{})}}function i(n){function t(){return a}function i(t,i){if(!r(t,gn))throw"action must be a plain object";if(t.type===Q)throw"actions must have a type";a=n(a,t),e(c,function(n){return n(a)})}function o(n){if(!r(n,xn))throw"listener should be a function";return c.push(n),function(){n=c.filter(function(t){return t!==n})}}function u(n,e){e&&(n=R(n,e)),n(t()),o(function(){n(t())})}var a,c=[];return i({type:z}),{getState:t,dispatch:i,subscribe:o,connect:u}}return i(r(n,gn)?t(n):n)}function E(n,t,i,o){function u(n,t,i){function o(){clearInterval(s),s=setInterval(function(){var n=G.location.pathname;f!==n&&(f=n,a())},50)}function u(){e(n,function(e,r){var i=[],o=/([:*])(\w+)|([\*])/g,u=r.replace(o,function(){var n=arguments,t=n[2];return t?(i.push(t),"([^/]+)"):"(?:.*)"}),u=u+"$";u=t?t+u:u,u=new jn(u),n[r]=[e,u,i]})}function a(){e(n,function(n){var t,e=n[0],i=n[1],o=n[2];if(t=f.match(i)){var u=t.slice(1,t[tn]).reduce(function(n,t,e){return n||(n={}),n[o[e]]=t,n},Q);r(e,xn)&&e(u)}})}function c(n){t&&(n=t+n),history.pushState(Q,Q,n)}var f,s;return"/"===t.substr(-1)&&(t=t.substr(0,t[tn]-1)),u(),o(),i&&c(i),{nav:c,back:history.back,foward:history.foward,go:history.go}}return r(n,xn)&&(n=n()),o&&e(n,function(t,e){var r;r=t.id!==Z?R(t,o):t,n[e]=function(n){r(n,X,K)}}),u(n,t,i)}function R(n,t){function e(e,r){o=n(e,r),u(t,o,a),a=o}function r(r,i){!f&&c&&(c["render()"]||(c["render()"]=e)),o=n(r,i),t.textContent="",o&&(u(t,o,Q,c),a=o,s=Y)}function i(t,o,u){return u===F?n(t,o):(s||u?r(t,o):e(t,o),i)}i.id=Z;var n,o,a,t,c,f,s=K;if(n=M(n),t=t&&t.nodeType?t:V.querySelector(t),t&&t!==V||(t=V.body),n)return n.stateless&&(f=K),f||(c=n(Q,Q,K)),i;throw"can't find the component"}function L(n){function t(n){if(!n)throw"not a hyperscript";var t=this;t.type=n.type,t.props=n.props,t[en]=n[en]}return t[nn][J]={},n&&e(n,function(n,e){t[nn][J][n[0]]=n[1]}),t[nn][_]=gn,t}function M(n){function t(n,t,e){if(e)return c;if(t&&(n=n||{},n[en]=t),p){if(c[mn]===Y||i(c,mn,K,n)===Y)return p[J][mn]=Y,p;p[J][mn]=K}return n&&(i(c,fn,K,n),U(c,n)),p=c.render()}var o,u;if(r(n,xn)){if(n.id===F)return n;if(o=n(),!o)throw"no render";if(!o.render)return n.stateless=K,n;u=/function ([^(]*)/.exec(n.valueOf())[1]}else{if(!r(n,gn))throw"invalid component";if(!n.render){var a=function(){return n};return a.stateless=K,a}o=n}var c=new P(u);e(o,function(n,t){r(n,xn)?"render"!==t&&(c[t]=n.bind(c)):c[t]=n}),c[an]&&(c.state=c[an]()),c[cn]&&(c.props=c[cn]());var f=L([[F,c],[mn,K]]),s=o.render.bind(c,c.props,c.state,c);c.render=function(){return new f(s())};var p;return t.id=F,t}function P(n){this.props={},this.state={},n&&(this.displayName=n)}function U(n,t){n.props=n.props||{},r(t,xn)&&(t=t()),t&&e(t,function(t,e){n.props[e]=t})}function D(n,t){if(n.state=n.state||{},r(t,xn)&&(t=t()),t)return e(t,function(t,e){n.state[e]=t}),K}function A(n,t,i){function o(n,t,e){var i;r(t,bn)?(i=t in n?n[t]:n.getAttribute(t),i!==Q&&i!==X&&e(i)):(i=t(),i!==Q&&i!==X&&(e in n?n[e]=i:n.setAttribute(e,i)))}return function(){var u=this;r(n,wn)?e(n,function(n,e){o(u,n,t[e])}):o(u,n,t),i&&i()}}function W(n,t){function i(){return o(arguments)}function o(n){if(n[tn])return a=n[0],u("then",a),i;var e;return e=t===K?a():r(t,xn)?t(a):a}function u(n,t){f[n][tn]&&e(f[n],function(e){try{var r=e(c[n]||t);r&&(c[n]=r)}catch(o){i.reject(o)}})}var a,c={then:Q,"catch":Q},f={"catch":[],then:[]};return i.toJSON=function(){return a},i.valueOf=function(){return a},i.resolve=function(n){return i(n)},i.reject=function(n){u("catch",n)},i.push=function(n,t,e){return f[n].push(function(n){return t(n)}),e?Q:i},i.then=function(n,t){if(t&&i["catch"](t),n)return i.push("then",n,t)},i.done=function(n,t){i.then(n,t||K)},i["catch"]=function(n){return i.push("catch",n)},i.map=function(n){var t=i;return W(function(e){e(function(){return n(t())})},K)},i.end=function(){c.then=Q,c["catch"]=Q,f["catch"]=[],f.then=[]},i.id=$,r(n,xn)?n(i.resolve,i.reject,i):i(n),i}function H(){function n(n,t){var r;return e(c,function(i){n.indexOf(i)>-1&&(r="",e(a,function(e,i,o){r+="-"+e+"-"+n+": "+t+";\n\t"}),r+=n)}),r?r+": "+t:n+": "+t}function t(u,a,c){var p="";return e(u,function(u,p,l){if(l.hasOwnProperty(p)){if(!r(u,wn)&&a.indexOf(s)>-1&&(p.indexOf("%")>-1||!isNaN(p))){isNaN(p)||(p+="%");var d="";e(u,function(n,t){r(n,xn)&&(n=n()),d+=t+":"+n+";"}),u="{"+d+"}"}if(r(u,gn))t(u,a+" "+p,c);else{r(u,xn)&&(u=u()),r(u,wn)&&(u="{"+u.join(":")+";}");var v=" { ";p!==p.toLowerCase()&&(p=i(p)),r(u,yn)&&(u+="px"),"animation"!==p&&"animation-name"!==p||(u=o(f)+u);var h=a+v+n(p,u);a.indexOf(s)>-1&&(h=h.replace(/%:/g,"%")),"}"!==h.substr(-1)&&(h+=";");var m=h.split(v),y=m[0].replace(/ &|^ /g,""),w=m[1],g=c[y];w="\t"+w,g=g?g+w:w,c[y]=g+"\n"}}}),p}function i(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function o(n){var t=n.substr(0,1);return"#"!==t&&"."!==t||(n="\\"+n),n}function u(n){var r={},i="",u=a.concat([""]);t(n,"",r),e(r,function(n,t){if(n=t+" {\n"+n+"}\n",n.indexOf(s)>-1){var r=s[tn],a=[];n=s+n.split(s)[1];var c=n.indexOf(s)+r;e(u,function(t){t=t?"-"+t+"-":t;var e=n.substr(0,1)+t+n.substr(1,c);e+=o(f)+n.substr(c+1),a.push(e)}),n=a.join("")}else if(n.indexOf(p)>-1)n=n.split(p)[1].replace(" ","");else if(t.indexOf(",")>-1){var l=t.split(",");e(l,function(n,t){var e=t>0?"":" ";l[t]=f+e+n}),l=l.join(", "),n=n.replace(new jn(t),l)}else n=":"===n.substr(0,1)?f+n:f+" "+n;i+=n});var c=f?" data-id="+f:"";return"<style"+c+">\n"+i+"</style>"}var a=["webkit","moz","ms"],c=["animation","transform","appearance","transition","box-shadow","linear-gradient"],f="",s="@keyframes",p="@at-root";return function(n,t){f=t||"",r(n,xn)&&(n=n());var e=u(n);return V&&V.head&&V.head.insertAdjacentHTML("beforeend",e),e}}function q(n,t,e){return function(r){return r&&r.preventDefault&&e&&r.preventDefault(),t&&t[tn]?n.apply(this,t):n.call(this,r)}}var I="@@dio",$=I+"/STREAM",z=I+"/STORE",F=I+"/COMPONENT",J=I+"/HYPERSCRIPT",Z=I+"/RENDER",B={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml"},G=window||n,V=G.document,X=null,Y=!1,K=!0,Q=void 0,_="constructor",nn="prototype",tn="length",en="children",rn="childNodes",on="classList",un="className",an="getInitialState",cn="getDefaultProps",fn="componentWillReceiveProps",sn="componentDidMount",pn="componentWillMount",ln="componentWillUnmount",dn="componentDidUnmount",vn="componentWillUpdate",hn="componentDidUpdate",mn="shouldComponentUpdate",yn=Number,wn=Array,gn=Object,xn=Function,bn=String,On=XMLHttpRequest,jn=RegExp,Sn=encodeURIComponent,kn=setTimeout;P[nn]={setState:function(n,t){t=t||this,D(t,n)&&t.forceUpdate()},setProps:function(n,t){t=t||this,U(t,n)},forceUpdate:function(n){n=n||this,n["render()"]&&n["render()"]()},withAttr:function(n,t,e,i){return i=i||this,r(e,xn)||(e=function(){i.forceUpdate.call(i)}),A(n,t,e.bind(i))}},W.combine=function(n,e){e=r(e,wn)?t(e):t(arguments,1),e.push(Q);var i=e[tn]-1;return W(function(t){t(function(){return e[i]=n.apply(Q,e)})},K)},W.all=function(n){function t(t,e){r.push(t),r[tn]===n[tn]&&e(r)}var r=[];return W(function(r,i){e(n,function(n,e,o){n.id===$?n.done(function(n){t(n,r)},function(n){i(n)}):t(n,r)})})},W.scan=function(n,t,e){return W(function(r){e.then(function(){t=n(t,e),r(t)})})},n.h=o(),n.dio={request:N(),curry:q,animateWith:S(),createStyle:H(),createStream:W,createRender:R,createStore:C,createRouter:E,createHTML:T,createComponent:M}});