!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):n("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";function n(t,n){return _[I].slice.call(t,n)}function e(t,n){var e;if(r(t,_)||t[q]&&r(t[q],Y)&&t[0]){var i=t[q];for(e=0;e<i;++e)if(n.call(t[e],t[e],e,t)===U)return}else for(e in t)if(n.call(t[e],t[e],e,t)===U)return}function r(t,n){return n?t!==R&&t!==P?t[D]===n:U:t?N:U}function i(t,n){n=n||0,ut(t,n)}function o(t,n,e,r,i){if(t&&(t.internal||t.render)){var o=e?t:t.internal;return o&&o[n]?(r=r||o.props,i=i||o.state,o[n](r,i,o)):void 0}}function a(){function t(t,o){var a,u=arguments,s=u[q],f=2;n(o)||!r(o,tt)?(f=1,o={}):o!==P&&o!==R&&r(o,tt)||(o={});var c={type:t,props:o,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(c=i(c)),"svg"!==c.type&&"math"!==c.type||c.props.xmlns||(c.props.xmlns=E[c.type]);for(var p=f;p<s;p++)if(a=u[p],r(a,_))for(var l=0;l<a[q];l++)c.children[p-f+l]=e(a[l],c);else c.children[p-f]=e(a,c);return c}function n(t){var n=t&&t.type&&t.children&&t.props;if(!n)return U;var e=0;for(var r in t){if(e>3)break;t.hasOwnProperty(r)&&e++}return 3===e}function e(t){return r(t,tt)&&n(t)||(r(t,tt)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function i(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type;for(t.type="div";n=r.exec(o);)if(""===n[1]&&n[2])t.type=n[2];else if("#"===n[1])i.id=n[2];else if("."===n[1])e.push(n[2]);else if("["===n[3][0]){var a=n[6];a&&(a=a.replace(/\\(["'])/g,"$1")),i[n[4]]=a||N}return e[q]>0&&(i["class"]=e.join(" ")),t.props=i,t}return t}function u(t,n,a,u){function s(t,n,e,r,i,a,u){if(r=r||0,o(n,Q)!==U)if(e===R&&n){var f=m(n,i);l(t,f,n)}else if(n===R){var f=t[A][r];p(t,f,e)}else{if(n.props&&e.props&&(n.props.key||e.props.key)&&n.props.key!==e.props.key){var d,f,y=a[q],g=u[q];return y>g?d=1:y<g&&(d=-1),c(t,a,u,d,r,n)}if(v(n,e)){var w=t[A][r],f=m(n);h(t,f,w,n)}else if(n.type){var x=t[A],y=n[H][q],g=e[H][q];b(x[r],n,e);for(var k=0;k<y||k<g;k++){var a=n[H],u=e[H],O=s(x[r],a[k],u[k],k,R,a,u);O!==R&&(y+=O,g+=O)}}}}function c(t,n,e,r,i,o){var a,u=t[A][i];if((r>0||!r)&&(a=m(o)),r>0)e.splice(i,0,R),d(t,a,u,o);else{if(r<0)return e.splice(i,1),p(t,u,o),-1;h(t,a,u,o)}}function p(t,n,e){if(n){var a=o(e,G,n);r(a,Y)||(a=0),i(function(){n&&t.removeChild(n)},a)}}function l(t,n,e){n&&(o(e,Z),t.appendChild(n),o(e,z))}function d(t,n,e,r){n&&(o(r,Z),t.insertBefore(n,e),o(r,z))}function h(t,n,e,r){n&&e&&(o(r,X),t.replaceChild(n,e),o(r,K))}function v(t,n){var e=t[D]!==n[D],i=r(t,rt)&&t!==n,o=t.type!==n.type,a=U;return t&&n&&t.props&&n.props&&(t.props[V]||n.props[V])&&(a=t.props[V]!==n.props[V]),i||o||e||a}function m(t,n,i){if(r(t,rt))return M.createTextNode(t);var o,i;if(t.props&&t.props.xmlns&&(i=t.props.xmlns),o=i?M.createElementNS(i,t.type):M.createElement(t.type),t.props&&t.props.ref){var a=t.props.ref;n&&r(a,rt)?(n.refs=n.refs||{},n.refs[a]=o):r(a,nt)&&a(o)}return k(o,t.props),w(o,t.props),t.props&&t.props[V]&&(o.innerHTML=t.props[V]),r(t.children,_)&&e(t.children,function(t){o.appendChild(m(t,n,i))}),o}function y(t,n){return"on"===t.substr(0,2)&&r(n,nt)}function g(t){return t.substr(2,t[q]).toLowerCase()}function w(t,n){for(var e in n){var r=n[e];y(e,r)&&r&&t.addEventListener(g(e),r,U)}}function b(t,n,r){var i=x(t,n.props,r.props);i[q]&&(o(n,X),e(i,function(t){O(t.target,t.name,t.value,t.op)}),o(n,K))}function x(t,n,e){var r=[];e=e!==R?e:{};var i={};for(var o in n)i[o]=n[o];for(var o in e)i[o]=e[o];for(var o in i){var a=e[o],u=n[o],s=u===R||u===P,f=a===R||a===P||u!==a&&!y(o,i[o]),c=s===-1?a:u;(f||s)&&r.push({target:t,name:o,value:c,op:f||s})}return r}function k(t,n){for(var e in n)O(t,e,n[e],1)}function O(t,n,i,o){if(!y(n,i)&&"ref"!==n&&"key"!==n&&n!==V){var a=(o===-1?"remove":"set")+"Attribute";if("xlink:href"===n)return t.setAttributeNS(E.xlink,"href",i);if(i!==E.svg&&i!==E.math)if(r(i,tt))n===J||"class"===n?e(i,function(n,e){var r=n?"add":"remove";f(r,t,e)}):e(i,function(e,i){r(t[n][i])||(t[n][i]=e)});else if(!r(i,_)||n!==J&&"class"!==n)if(n.indexOf("-")>-1||t[n]===R||t.namespaceURI!==E.html)n===J&&(n="class"),o===-1?t[a](n):t[a](n,i);else try{t[n]=i}catch(u){}else t[n]=i.join(" ")}}s(t,n,a,R,u)}function s(){function t(t,n,e,a,u){return function(s,c){function p(t){if(h)b="finish";else{if(t.target!==s)return;o(y,"transition",P),o(y,"transform",P)}s.removeEventListener(b,p),o(y,"transformOrigin",P),y.willChange&&(y.willChange=P),f("remove",s,w),f("remove",g,w),c&&c(s)}if(e=e||"",r(s,rt)&&(s=document.querySelector(s)),!s&&s.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},s=s.currentTarget||s,y=s.style,g=M.body,w="animation-running",b="transitionend";if(r(s.animate,nt)&&(h=N),y.willChange&&(y.willChange="transform"),l=i(s),t&&f("toggle",s,t),d=t?i(s):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,n=n||200,u=u||"cubic-bezier(0,0,0.32,1)",v[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",v[1]=v[1]+" "+e,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",a&&o(y,"transformOrigin",a),f("add",s,w),f("add",g,w),h){var x=s.animate([{transform:v[1]},{transform:v[2]}],{duration:n,easing:u});x.addEventListener("finish",p)}else o(y,"transform",v[1]),s.offsetWidth,o(y,"transition","transform "+n+"ms "+u+", opacity "+n+"ms "+u),o(y,"transform",v[2]);return h||s.addEventListener(b,p),n}}function n(t){return function(n,r){f("add",n,t);var i=0,o=getComputedStyle(n);o=o.transitionDuration,o=o.replace(/s| /g,"").split(","),e(o,function(t){i+=1e3*parseFloat(t)}),r&&ut(function(){r(n)},i)}}function i(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}function o(t,n,e){if(t&&t[n]===P)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[q];i++)n=r[i]+n[0].toUpperCase()+n.slice(1),t[n]!==R&&(t[n]=e);else t[n]=e}return{flip:t,transition:n}}function f(t,n,e){function r(t,n){return t[W]?t[W].contains(n):t[J].indexOf(n)>-1}function i(t,n){if(t[W])t[W].add(n);else if(!r(t,n)){var e=t[J].split(" ");e.push(n),t[J]=e.join(" ")}}function o(t,n){if(t[W])t[W].remove(n);else{var e=t[J].split(" ");e.splice(e.indexOf(n),1),t[J]=e.join(" ")}}function a(t,n){t[W]?t[W].toggle(n):r(t,n)?o(t,n):i(t,n)}var u={add:i,remove:o,hasClass:r,toggle:a};return u[t](n,e)}function c(){function t(t,e,i,o,a,u){function s(t){var n,e,r=t.responseText,i=t.getResponseHeader("content-type");return i.indexOf(";")!==-1?(e=i.split(";"),e=e[0].split("/")):e=i.split("/"),e=e[1],n="json"===e?JSON.parse(r):"html"===e?(new DOMParser).parseFromString(r,"text/html"):r}var f=k(R,R,function(t,n,e){var i;if(t){var o=t.currentTarget;r(o,it)?i=o:r(t,it)&&(i=t)}return i?i.status>=200&&i.status<400?n(s(i)):void(r(e,nt)&&e(i.statusText)):n(t)}),c=new it,p=L.location,l=M.createElement("a");l.href=t;var d=!(l.hostname===p.hostname&&l.port===p.port&&l.protocol===p.protocol&&"file:"!==p.protocol);return l=R,c.open(e,t),c.onload=function(){f(this)},c.onerror=function(t){if(f){var n=this;f.then&&f.then(function(){throw n.statusText}),f(n)}},d&&u&&(c.withCredentials=N),"POST"!==e&&"PUT"!==e||(c.setRequestHeader("Content-type",o),o.indexOf("x-www-form-urlencoded")>-1?i=n(i):o.indexOf("json")>-1&&(i=JSON.stringify(i))),c.send(i),f}function n(t,e){var r=[];for(var i in t){var o=e?e+"["+i+"]":i,a=t[i];r.push("object"==typeof a?n(a,o):at(o)+"="+at(a))}return r.join("&")}function e(n){return function(e,i,o,a,u){if(r(o,nt)){var s=a;a=o,o=s}return o?"json"===o?o="application/json":"text"===o?o="text/plain":"file"===o&&(o="multipart/form-data"):o="application/x-www-form-urlencoded",t(e,n.toUpperCase(),i,o,a,u)}}return{get:e("GET"),post:e("POST"),put:e("PUT"),"delete":e("DELETE")}}function p(){function t(t){e(t,function(t){L[t]=function(){var e=n(arguments),i=e[0];return!r(i,rt)||"#"!==i.substr(0,1)&&"."!==i.substr(0,1)&&"["!==i.substr(0,1)||(t+=i,e.shift(i)),e.unshift(t),h.apply(null,e)}})}var i=arguments;t(i[q]?n(i):["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"])}function l(t,n,e){function i(t,n){if(r(t,rt))return t;var e=t.type,i=t.props,s=t.children;return u[e]?"<"+e+o(i)+">":"<"+e+o(i)+">"+a(s,n)+"</"+e+">"}function o(t){return t=tt.keys(t).filter(function(n){return t[n]!==R&&t[n]!==P&&t[n]!==U}).map(function(n){var e=t[n];if(!r(e,nt)&&"key"!==n&&"ref"!==n)return e===N?n:n+'="'+e+'"'}).join(" ").replace(/\s+$/g,""),t?t:""}function a(t,n){if(0===t[q])return"";n=n||0;var e="\t".repeat(n+1),r="\t".repeat(n);return"\n"+e+t.map(function(t){return i(t,n+1)}).join("\n"+e)+"\n"+r}var u={area:N,base:N,br:N,"!doctype":N,col:N,embed:N,wbr:N,track:N,hr:N,img:N,input:N,keygen:N,link:N,meta:N,param:N,source:N},s=r(t,nt)?t(n,e,S):t;return i(s)}function d(t){function n(t){return function(n,e){return n=n||{},tt.keys(t).reduce(function(r,i){return r[i]=t[i](n[i],e),r},{})}}function i(t){function n(){return u}function i(n,i){if(!r(n,tt))throw"action must be a plain object";if(n.type===R)throw"actions must have a type";u=t(u,n),e(s,function(t){return t(u)})}function o(t){if(!r(t,nt))throw"listener should be a function";return s.push(t),function(){t=s.filter(function(n){return n!==t})}}function a(t,e){e&&(t=m(t,e)),t(n()),o(function(){t(n())})}var u,s=[];return i({type:j}),{getState:n,dispatch:i,subscribe:o,connect:a}}return i(r(t,tt)?n(t):t)}function v(){function t(t,n,i){function o(){clearInterval(c),c=setInterval(function(){var t=L.location.pathname;f!==t&&(f=t,u())},50)}function a(){e(t,function(e,r){var i=[],o=/([:*])(\w+)|([\*])/g,a=r.replace(o,function(){var t=arguments,n=t[2];return n?(i.push(n),"([^/]+)"):"(?:.*)"}),a=a+"$";t[r]=[e,n?n+a:a,i]})}function u(){e(t,function(t){var n,e=t[0],i=t[1],o=t[2];if(n=f.match(new ot(i))){var a=n.slice(1,n[q]).reduce(function(t,n,e){return t||(t={}),t[o[e]]=n,t},P);r(e,nt)&&e(a)}})}function s(t){n&&(t=n+t),history.pushState(R,R,t)}var f,c;return a(),o(),i&&s(i),{nav:s,back:history.back,foward:history.foward,go:history.go}}return t.apply(R,n(arguments))}function m(){function t(t,n){s=a(t,n),u(c,s,f),f=s}function i(n,e){!l&&p&&(p[B]&&(b(p,p[B]()),delete p[B]),p[F]&&(w(p,p[F]()),delete p[F]),p["render()"]||(p["render()"]=t)),s=a(n,e),c.innerHTML="",s&&(u(c,s,R,p),f=s,d=U)}function o(n,e,r){return r===S?a(n,e):(d||r?i(n,e):t(n,e),o)}var a,s,f,c,p,l,d=N,h=n(arguments);if(e(h,function(t){r(t,nt)||r(t,tt)?a=y(t):t.nodeType?c=t===M?M.body:t:r(t,rt)&&(c=M.querySelector(t))}),c||(c=M.body),a)return a.stateless&&(l=N),l||(p=a(R,R,N)),o;throw"can't find the component"}function y(t){function n(t){var n=this;if(!t)throw"not a hyperscript";n.type=t.type,n.props=t.props,n.children=t.children}var i;if(r(t,nt)){if(i=t(),!i)throw"no render";if(!i.render)return t.stateless=N,t}else{if(!r(t,tt))throw"invalid component";i=t.render?t:{render:function(){return t}}}var a=new g;e(i,function(t,n){r(t,nt)?"render"===n?a[n]=t.bind(a,a.props,a.state,a):a[n]=t.bind(a):a[n]=t}),n[I].internal=a,n[I][D]=tt;var u=a.render;return function(t,e,r){return a.render=function(){return new n(u())},e&&(t=t||{},t.children=e),t&&(o(a,$,N,t),w(a,t)),r?a:a.render()}}function g(){this.props={},this.state={}}function w(t,n){t.props=t.props||{},n&&e(n,function(n,e){t.props[e]=n})}function b(t,n){if(t.state=t.state||{},r(n,nt)&&(n=n()),n)return e(n,function(n,e){t.state[e]=n}),N}function x(t,n,i){function o(t,n,e){var i;r(n,rt)?(i=n in t?t[n]:t.getAttribute(n),i!==R&&i!==P&&e(i)):(i=n(),i!==R&&i!==P&&(e in t?t[e]=i:t.setAttribute(e,i)))}return function(){var a=this;r(t,_)?e(t,function(t,e){o(a,t,n[e])}):o(a,t,n),i&&i()}}function k(t,n,i){function o(){var n=arguments;return n[q]&&(v=t=n[0],h[q]&&e(h,function(t){v=t(v)||v})),a()}function a(){return t&&t.id===T?t():n?n(t):t}function u(n){function e(){return a(),n(t)}return e.id=T,k(e)}function s(t,n){if(r(t,nt)&&h.push(function(e){var o;try{if(i)d?o=i(e,t):(o=i(e,t,l),d=N);else var o=t(e)}catch(a){r(l,nt)&&l(a)}return n&&(h=v=l=R),o}),r(n,nt)&&(l=n),!n)return this}function f(t){s(R,t)}function c(t,n){n=n||N,s(t,n)}function p(){return a()}var l,d,h=[],v=t;return o.map=u,o.toJSON=p,o.valueOf=valueOf,o.toString=toString,o.then=s,o.done=c,o["catch"]=f,o.id=C,o}function O(t,n,e){var i=[];return r(n,et)?e=n:i=r(n,_)?n:[n],function(r){return r&&r.preventDefault&&e&&r.preventDefault(),i[q]&&n||(i=arguments),t.apply(this,i)}}var S="@@dio",T=S+"/MAPPER",C=S+"/PROP",j=S+"/INIT",E={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml"},M=document,L=window,P=null,U=!1,N=!0,R=void 0,D="constructor",I="prototype",q="length",A="childNodes",H="children",W="classList",J="className",B="getInitialState",F="getDefaultProps",$="componentWillReceiveProps",z="componentDidMount",Z="componentWillMount",G="componentWillUnmount",X="componentWillUpdate",K="componentDidUpdate",Q="shouldComponentUpdate",V="dangerouslySetInnerHTML",Y=Number,_=Array,tt=Object,nt=Function,et=Boolean,rt=String,it=XMLHttpRequest,ot=RegExp,at=encodeURIComponent,ut=L.setTimeout;g[I]={setState:function(t,n){n=n||this,b(n,t)&&n.forceUpdate()},setProps:function(t,n){n=n||this,w(n,t)},forceUpdate:function(t){t=t||this,t["render()"]&&t["render()"]()},withAttr:function(t,n,e,i){return i=i||this,r(e,nt)||(e=function(){i.forceUpdate.call(i)}),x(t,n,e.bind(i))}},k.combine=function(t){function n(){return e.forEach(function(t,n){r(t,nt)&&t.id===C&&(e[n]=t())}),t.apply(R,e)}var e=_[I].slice.call(arguments,1);return n.id=T,k(n)},t.h=a(),t.dio={animate:s(),request:c(),stream:k,curry:O,exposeDOM:p,createRender:m,createRouter:v,createStore:d,createHTML:l}});