!function(t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,global,"undefined"==typeof __webpack_require__?require:global):t(window.dio={},window,window)}(function(t,n,e){"use strict";function r(){this.next=this,this.prev=this,this.length=0}function o(){this.hash=""}function i(){}function c(t,n){for(var e in n)t[e]=n[e]}function u(t,n,e){for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t}function a(t,n){for(var e=0;e<t.length;++e)t[e]instanceof Array?a(t[e],n):n.push(t[e]);return n}function s(t,n){for(var e=t.next();!0!==e.done;)n(e.value),e=t.next(e.value)}function f(t){Gt(t,16)}function l(t,n){throw new Error("#"+t+"(...): "+n+".")}function p(t){this.flag=t,this.work=en,this.keyed=!1,this.xmlns="",this.key=null,this.ref=null,this.type=null,this.props=null,this.state=null,this.children=null,this.owner=null,this.instance=null,this.event=null,this.DOM=null,this.context=null,this.parent=null,this.host=null,this.next=null,this.prev=null}function d(t){var n=new p(tn);return n.type="#text",n.children=t,n}function v(t){var n=new p(Yt);return n.context={},n.DOM=t,n}function y(t){var n=new p(Qt),e=new r;switch(n.type="#fragment",n.children=e,t.constructor){case p:k(n,e,t,0);break;case Array:for(var o=0;o<t.length;++o)k(n,e,t[o],o)}return n}function w(t,n){var e=0;return s(t,function(t){e=k(n,n.children,t,e)}),n}function x(t,n){return O("details",O("summary",t),h("pre",n))}function g(t){return"function"==typeof t.next?w(t,y(t)):"function"==typeof t[Jt]?g(t[Jt]()):"function"==typeof t?g(t()):t.constructor===Error?x(t+"",(t.children||"")+"\n"+t.stack):O("pre",JSON.stringify(t,null,2))}function m(t,n){return n>0&&t.flag!==Xt&&b(t.children.next)?t.children.next:b(t.next)?t.next:v(kt(null))}function k(t,n,e,r){if(null==e)return k(t,n,d(""),r);switch(e.constructor){case p:null==e.key?e.key+="#"+r:!1===t.keyed&&(t.keyed=!0),n.push(e);break;case Array:for(var o=0;o<e.length;++o)k(t,n,e[o],r+o);return r+o;case String:case Number:return k(t,n,d(e),r);case Function:case Ht:return k(t,n,O(e),r);case Boolean:case Bt:return k(t,n,null,r);default:return k(t,n,g(e),r)}return r+1}function b(t){return t instanceof p}function O(t,n){var e=null!=n?1:2,o=0,i=0,c="function"!=typeof t?$t:Zt,a=arguments.length,s=new p(c),f=s.children=new r;if(e<2)switch(n.constructor){case Object:if(void 0===n[Jt]){void 0!==n.key&&(s.key=n.key),void 0!==n.xmlns&&(s.xmlns=n.xmlns),void 0!==n.ref&&(s.ref=n.ref),void 0!==n.children&&k(s,f,n.children,i),s.props=n,e++;break}default:s.props={}}else s.props={};if((o=a-e)>0)if(c!==Zt)for(;e<a;++e)i=k(s,f,arguments[e],i);else{if(o>1)for(f=Array(o);e<a;++e)f[i++]=arguments[e];else f=arguments[e];s.props.children=f}switch((s.type=t).constructor){case Function:null!=t.defaultProps&&(s.props=R(s,t.defaultProps,n));case String:break;case p:s.flag=t.flag,s.type=t.type,s.props=u({},t.props,s.props);break;case Ht:s.flag=Kt;break;default:Ot(t)&&(s.flag=Xt)}return s}function E(t,n){switch(typeof n){case"object":if(!n)break;case"function":Wt||_(t,t.instance,n)}}function M(t,n,e,r,o){try{return n.call(t.instance,e,r,o)}catch(n){yt(t,n,rn,0)}}function D(t,n){try{return t.owner[n].call(t.instance)}catch(e){yt(t,e,n,1)}}function A(t,n){try{var e=t.owner[n].call(t.instance,mt(t));if(e instanceof Ht)return e;E(t,e)}catch(e){yt(t,e,n,1)}}function j(t,n,e,r,o){try{if("object"!=typeof(r=t.owner[n].call(t.instance,e,r,o)))return r;E(t,r)}catch(e){yt(t,e,n,1)}}function C(t,n){this.refs=null,this.state=null,this.props=t,this.context=n,this[Vt]=null}function S(t){var n,e,r=t.type,o=r.prototype;return o&&o.render?(o.setState||Object.defineProperties(o,wn),n=r=B(t)):(n=new C).render=r,t.owner=r,t.instance=n,n[Vt]=t,n.refs={},n.props=t.props,n.context=t.context=t.context||{},r[yn]?n.state=W(t,n,D(t,yn)):n.state||(n.state={}),r[vn]&&(t.context=H(t)),e=q(t),e.context=t.context,t.children=e}function N(t,n,e){if(!(t.work<en)){t.work=nn;var r=t.instance,o=t.owner,i=r.context,a=r.state,s=e>1?u({},a,t.state):a,f=t.props,l=n.props;switch(o[vn]&&c(t.context,H(t)),e){case 0:break;case 1:o[sn]&&j(t,sn,l,i);case 2:if(o[fn]&&!1===j(t,fn,l,s,i))return void(t.work=en)}o[ln]&&j(t,ln,l,s,i),r.state=s,r.props=l,ft(t.children,q(t)),o[hn]&&j(t,hn,f,a,i),t.ref!==n.ref&&$(t,n.ref,2),t.work=en}}function P(t,n,e,r,o){if(o>0&&t.owner[pn]&&(t.state=A(t,pn))&&t.state.constructor===Ht)return!!t.state.then(function(){t.state=void X(n,e,r)});X(n,e,r)}function L(t,n,e){this.refs&&(n!==e.ref&&delete this.refs[e.ref],this.refs[n]=e.instance)}function _(t,n,e,r){if(e)switch(e.constructor){case Ht:return T(t,n,e,r);case Function:return _(t,n,F(t,n,e),r);default:t.state=t.work===en?e:u({},t.state,e),U(t,n,r,2)}}function F(t,n,e){try{return e.call(n,n.state,n.props)}catch(n){yt(t,n,rn+":"+J(e),1)}}function T(t,n,e,r){e.then(function(e){f(function(){_(t,n,e,r)})})}function U(t,n,e,r){return null==t?f(function(){U(V(n),n,e,r)}):t.work<en?f(function(){U(t,n,e,r)}):void(t.DOM&&(N(t,t,r),"function"==typeof e&&F(t,n,e)))}function W(t,n,e){if(e)switch(e.constructor){case Ht:T(t,n,e);case Boolean:break;default:return e}return n.state||{}}function B(t){try{return new t.type(t.props,t.context)}catch(n){return yt(t.host,n,cn,1),new C}}function q(t){try{return z(t.instance.render(t.instance.props,t.instance.state,t.context))}catch(n){return yt(t,n,on,1)}}function H(t){return t.owner[vn]?D(t,vn)||t.context||{}:t.context||{}}function I(t){return t.flag!==Zt?t:I(t.children)}function V(t){return b(t)?t:t[Vt]}function J(t){switch(typeof t){case"function":return J(t.displayName||t.name);case"string":if(t)return t;default:return"anonymous"}}function R(t,n,e){return"function"!=typeof n?u({},n,e):(Object.defineProperty(t.type,"defaultProps",{value:R(t,M(t,n),e)}),t.type.defaultProps)}function z(t){if(null!=t)switch(t.constructor){case p:return t;case Array:return y(t);case String:case Number:return d(t);case Function:case Ht:return O(t);case Boolean:case Bt:break;default:return g(t)}return d("")}function G(t,n){n.type.then(function(n){t.DOM&&(t.flag===Kt?lt(t,y(z(n))):ft(t,z(n)))})}function K(t,n,e){for(var r=t.children,o=r.length,i=r.next;o-- >0;)Q(i.DOM?c(new p($t),i):i,n,t,e,0),i=i.next}function Q(t,n,e,r,o){switch(t.host=r,t.parent=e,t.context=r.context,t.flag){case Zt:return t.work=nn,S(t),t.owner[un]&&A(t,un),Q(t.children,n,e,t,o),t.DOM=t.children.DOM,t.ref&&$(t,t.ref,1),t.owner[an]&&A(t,an),void(t.work=en);case Xt:t.DOM=kt(t.type);break;case Kt:G(t,t);case Qt:t.DOM=kt(bt(e));break;case $t:t.xmlns=Ut(t.type,e.xmlns);case tn:if(t.DOM=et(t),o<1?ut(t,e):ct(t,n,e),t.flag>$t)return}K(t,t,r),nt(t,t.props,1)}function X(t,n,e){if(t.flag===Zt)return P(t,t.children,n,e,1);it(t,n),Z(t,e)}function Y(t,n,e){if(e>0&&X(t,t.parent,1))t.state.then(function(){Y(t,n,0)});else{Q(n,m(t,0),t.parent,t.host,1);for(var r in n)switch(r){case"DOM":c(t[r],n[r]);case"next":case"prev":break;default:t[r]=n[r]}}}function Z(t,n){if(t.flag!==tn)for(var e=0,r=t.children,o=r.length,i=r.next;e++<o;)switch(i.flag){case Zt:i.owner[pn]&&A(i,pn);default:Z(i,1),i=i.next}t.ref&&$(t,t.ref,-1),n<1&&(t.context=null,t.state=null,t.event=null,t.DOM=null)}function $(t,n,e,r){switch(typeof n){case"string":return $(t,L,e,n);case"function":switch(e){case-1:return M(t.host,n,t.ref=null,r,t);case 0:t.ref=n;case 1:return M(t.host,n,t.instance||mt(t),r,t);case 2:$(t,n,-1,r),$(t,n,0,r)}break;default:$(t,t.ref||i,-1,r)}}function tt(t,n,e){t.event||(t.event={}),t.event[n]=e,gn.addEventListener(t,n)}function nt(t,n,e){for(var r in n)"ref"===r?$(t,n[r],e):111===r.charCodeAt(0)&&110===r.charCodeAt(1)?tt(t,r.toLowerCase(),n[r]):Tt(t,r,n[r],t.xmlns)}function et(t){try{return t.flag===$t?Dt(t):At(t)}catch(n){return et(yt(t,n,on,1))}}function rt(t,n){Ct(t,n)}function ot(t){jt(t)}function it(t,n){t.flag>Yt?St(t,n):t.children.forEach(function(e){it(e,t.flag<Xt?n:t)})}function ct(t,n,e){if(n.flag<Yt)return ct(t,m(n,1),e);t.flag>Yt?Nt(t,n,e):t.flag<Xt&&t.children.forEach(function(t){ct(t,n,e)})}function ut(t,n){if(n.flag<Xt)return ct(t,m(n,0),n);t.flag>Yt?Pt(t,n):t.flag<Xt&&t.children.forEach(function(t){ut(t,n)})}function at(t,n){var e,r,o,i=0,c={};for(var u in t)null==n[u]&&(c[(i++,u)]=null);for(var u in n)(o=n[u])!==(r=t[u])&&("object"!=typeof o||null===o?c[(i++,u)]=o:(e=at(r||{},o))&&(c[(i++,u)]=e));if(i>0)return c}function st(t,n){nt(t,at(t.props,n.props),2),t.props=n.props}function ft(t,n){if(n.flag===Kt)return G(t,n);if(t.key!==n.key||t.type!==n.type)return Y(t,n,1);switch(t.flag){case Xt:case Qt:return lt(t,n);case Zt:return N(t,n,1);case tn:t.children!==n.children&&rt(t,t.children=n.children);break;case $t:lt(t,n),st(t,n)}}function lt(t,n){var e=t.host,r=t.children,o=n.children,i=r.length,c=o.length,u=r.next,a=o.next,s=0;switch(i+c){case 0:return;case i:return dt(u,t,r,0,i);case c:return pt(a,a,t,e,r,0,c,0)}if(n.keyed){var f=0,l=0,h=i-1,p=c-1,d=r.prev,v=o.prev;t:for(;;){for(;u.key===a.key;){if(ft(u,a),f++,l++,f>h||l>p)break t;u=u.next,a=a.next}for(;d.key===v.key;){if(ft(d,v),h--,p--,f>h||l>p)break t;d=d.prev,v=v.prev}break}f>h?l<=p++&&pt(p<c?(s=1,a):a.next,d,t,e,r,l,p,s):l>p?dt(p+1<c?u:u.next,t,r,f,h+1):ht(t,e,r,u,a,f,l,h+1,p+1)}else{for(s=i>c?c:i;s--;)ft(u,a),a=a.next,u=u.next;if(i!==c)if(i>c)for(;i>c;)X(r.pop(),t,(i--,0));else for(;i<c;)u=a,a=a.next,Q(r.push(u),u,t,e,0),i++}}function ht(t,n,e,r,o,i,c,u,a){for(var s=i,f=c,l=r,h=o,p=l,d=h,v="",y=0,w={};f<a&&s<u;)l.key===h.key?(ft(l,h),l=l.next,h=h.next,s++,f++):(w[l.key]=l,l=l.next,y++,s++);if(y!==u){for(;f++<a;)v=h.key,d=h.next,p=w[v],(p=w[v])?(l===e?ut(e.push(e.remove(p)),t):ct(e.insert(e.remove(p),l),l,t),ft(p,h),delete w[v]&&y--):l===e?Q(e.push(h),h,t,n,0):Q(e.insert(h,l),l,t,n,1),h=d;if(y>0)for(v in w)X(e.remove(w[v]),t,0)}else dt(r,t,e,0,u),pt(o,o,t,n,e,0,a,0)}function pt(t,n,e,r,o,i,c,u){for(var a=i,s=t,f=t;a++<c;)Q(o.push((s=(f=s).next,f)),n,e,r,u)}function dt(t,n,e,r,o){for(var i=r,c=t,u=t;i++<o;)X(e.remove((c=(u=c).next,u)),n,0)}function vt(t,n){if(!(this instanceof Error))return vt.call(new Error(this),t,n);for(var e="",r="",o=t,i=this.stack;o.type;)e+=r+"<"+J(o.type)+">\n",r+="  ",o=o.host;return this.children=e,this.from=n,console.error("Error caught in `\n\n"+e+'\n` from "'+n+'"\n\n'+i+"\n\n"),this}function yt(t,n,e,r){return wt(t,vt.call(n,t,e),e,r)}function wt(t,n,e,r){var o=d("");try{r>0&&(t.owner&&t.owner[dn]?(t.work=nn,o=z(t.owner[dn].call(t.instance,n)),t.work=en):t.host.owner&&f(function(){wt(t.host,n,e,r)}),e===on||Wt||f(function(){ft(I(t),o)}))}catch(n){f(function(){yt(t.host,n,dn,r)})}return o}function xt(t,n,e){return b(t)?n?(Rt.has(n)?ft(Rt.get(n),z(t)):gt(t,v(kt(n)),n),void("function"==typeof e&&M(t,e,mt(t)))):xt(t,Mt(),e):xt(z(t),n,e)}function gt(t,n,e){if(!Ot(e))return l("render","Target container is not a DOM element");Rt.set(e,t),ot(n),Q(t,t,n,n,0)}function mt(t){if(t){if(Ot(t))return t;if(Ot(t.target))return t.target;if(b(t[Vt]))return mt(t[Vt]);if(b(t))return mt(t.flag>Qt?t.DOM:m(t,1))}return null}function kt(t){return{target:t}}function bt(t){return t.DOM.target}function Ot(t){return t instanceof It}function Et(t,n,e){zt.addEventListener(t,n,e)}function Mt(){return zt.documentElement}function Dt(t){return kt(t.xmlns?zt.createElementNS(t.xmlns,t.type):zt.createElement(t.type))}function At(t){return kt(zt.createTextNode(t.children))}function jt(t){bt(t).textContent=""}function Ct(t,n){bt(t).nodeValue=n}function St(t,n){bt(n).removeChild(bt(t))}function Nt(t,n,e){bt(e).insertBefore(bt(t),bt(n))}function Pt(t,n){bt(n).appendChild(bt(t))}function Lt(t,n){for(var e in n)e.indexOf("-")<0?bt(t).style[e]=n[e]:bt(t).style.setProperty(e,n[e])}function _t(t,n,e){bt(t)[n]=e}function Ft(t,n,e,r,o){r?bt(t)[o+"NS"](r,n,e):bt(t)[o](n,e)}function Tt(t,n,e,r){switch(n){case"xlink:href":r||Tt(t,n,e,"http://www.w3.org/1999/xlink");case"key":case"xmlns":case"children":return;case"dangerouslySetInnerHTML":return Tt(t,"innerHTML",e&&e.__html,"");case"style":if("object"==typeof e)return Lt(t,e);break;case"className":if(r||null===e)return Tt(t,"class",e,r);case"id":return _t(t,n,e);case"width":case"height":if("img"===t.type)break;default:if(!r&&n in bt(t))return _t(t,n,e)}Ft(t,n,e,r,(null!=e&&!1!==e?"set":"remove")+"Attribute")}function Ut(t,n){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";case"foreignObject":return""}return n}var Wt=e!==n;r.prototype=Object.create(null,{constructor:{value:r},insert:{value:function(t,n){return t.next=n,t.prev=n.prev,n.prev.next=t,n.prev=t,this.length++,t}},remove:{value:function(t){if(!(this.length<1))return t.next.prev=t.prev,t.prev.next=t.next,this.length--,t}},pop:{value:function(){return this.remove(this.prev)}},push:{value:function(t){return this.insert(t,this)}},forEach:{value:function(t){for(var n=0,e=this;n<this.length;++n)t.call(this,e=e.next,n)}}}),o.prototype=Object.create(null,{constructor:{value:o},set:{value:function(t,n){t[this.hash]=n}},get:{value:function(t){return t[this.hash]}},has:{value:function(t){return this.hash in t}}});var Bt=n.Symbol||function(t){return"Symbol("+t+")"},qt=n.WeakMap||o,Ht=n.Promise||i,It=n.Node||i,Vt=Bt("dio"),Jt=Bt.iterator||Vt,Rt=new qt,zt=n.document||i,Gt=n.requestAnimationFrame||setTimeout,Kt=-3,Qt=-2,Xt=-1,Yt=0,Zt=1,$t=2,tn=3,nn=0,en=1,rn="callback",on="render",cn="constructor",un="componentWillMount",an="componentDidMount",sn="componentWillReceiveProps",fn="shouldComponentUpdate",ln="componentWillUpdate",hn="componentDidUpdate",pn="componentWillUnmount",dn="componentDidCatch",vn="getChildContext",yn="getInitialState";p.prototype=Object.create(null,{constructor:{value:p}});var wn={forceUpdate:{value:function(t){U(this[Vt],this,t,0)}},setState:{value:function(t,n){_(this[Vt],this,t,n)}}},xn={constructor:{value:C},render:{value:i}};C.prototype=Object.create(null,c(xn,wn));var gn={addEventListener:function(t,n){this[n]||(this[n]=new Map,Et(n.substring(2),this,!0)),this[n].set(bt(t),t)},handleEvent:function(t){var n="on"+t.type,e=this[n].get(t.target);if(e)try{var r=e.host,o=r.instance,i=e.event[n],c=null;if(!i)return;"function"==typeof i?c=i.call(o,t):"function"==typeof i.handleEvent&&(c=i.handleEvent(t)),o&&c&&E(r,c)}catch(t){yt(r,t,n+":"+J(i.handleEvent||i),0)}}},mn={toArray:function(t){var n=[];if(null==t)return n;if(b(t)||"object"!=typeof t)return[t];if(t instanceof Array)n=t;else{if("function"!=typeof t.next)return"function"==typeof t[Jt]?this.toArray(child[Jt]()):this.toArray([t]);s(t,function(t){n.push(t)})}return a(n,[])},forEach:function(t,n,e){null!=t&&this.toArray(t).forEach(n,e)},map:function(t,n,e){return null!=t?this.toArray(t).map(n,e):t},only:function(t){if(b(t))return t;l("Children.only","Expected to receive a single element")},count:function(t){return this.toArray(t).length}};t.version="8.0.0",t.render=xt,t.Component=C,t.Children=mn,t.findDOMNode=mt,t.cloneElement=function(){return O.apply(null,arguments)},t.isValidElement=b,t.h=t.createElement=n.h=O,Wt&&e("./dio.server.js")(t,S,z,p)});