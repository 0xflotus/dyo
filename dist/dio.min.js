!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):n("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";function n(t){return K[U].slice.call(t)}function e(){function t(t,n){return t[D]?t[D].contains(n):t[I].indexOf(n)>-1}function n(n,e){if(n[D])n[D].add(e);else if(!t(n,e)){var r=n[I].split(" ");r.push(e),n[I]=r.join(" ")}}function e(t,n){if(t[D])t[D].remove(n);else{var e=t[I].split(" ");e.splice(e.indexOf(n),1),t[I]=e.join(" ")}}function r(r,i){r[D]?r[D].toggle(i):t(r,i)?e(r,i):n(r,i)}return{add:n,remove:e,hasClass:t,toggle:r}}function r(){function t(t,i){var a,u=arguments,s=u[q],c=2;n(i)||!o(i,Q)?(c=1,i={}):i!==N&&i!==M&&o(i,Q)||(i={});var f={type:t,props:i,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(f=r(f)),"svg"!==f.type&&"math"!==f.type||f.props.xmlns||(f.props.xmlns=C[f.type]);for(var p=c;p<s;p++)if(a=u[p],o(a,K))for(var l=0;l<a[q];l++)f.children[p-c+l]=e(a[l],f);else f.children[p-c]=e(a,f);return f}function n(t){var n=t&&t.type&&t.children&&t.props;if(!n)return E;var e=0;for(var r in t){if(e>3)break;t.hasOwnProperty(r)&&e++}return 3===e}function e(t,e){return t&&o(t.props,Q)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),o(t,Q)&&n(t)||(o(t,Q)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function r(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type;for(t.type="div";n=r.exec(o);)if(""===n[1]&&n[2])t.type=n[2];else if("#"===n[1])i.id=n[2];else if("."===n[1])e.push(n[2]);else if("["===n[3][0]){var a=n[6];a&&(a=a.replace(/\\(["'])/g,"$1")),i[n[4]]=a||L}return e[q]>0&&(i["class"]=e.join(" ")),t.props=i,t}return t}function i(t,n){var e;if(o(t,K)||t[q]&&o(t[q],X)&&t[0]){var r=t[q];for(e=0;e<r;++e)if(n.call(t[e],t[e],e,t)===E)return}else for(e in t)if(n.call(t[e],t[e],e,t)===E)return}function o(t,n){return n?t!==M&&t!==N?t[R]===n:E:t?L:E}function a(t,n,e,r,i){if(t&&(t.internal||t.render)){var a=i?t:t.internal;return a&&a[n]?(e=e?o(e,Y)?a.props:e:M,r=r?o(r,Y)?a.state:r:M,a[n](e,r)):void 0}}function u(t,n){n=n||0,0===n&&o(requestAnimationFrame,V)?requestAnimationFrame(t):et(t,n)}function s(t,r,s,c){function f(t,n,e,r,i){if(r=r||0,a(n,G,L,L)!==E)if(e===M){var o=v(n,i);l(t,o,n)}else if(n===M){var o=t[P][r];p(t,o,e)}else{if(n.props&&e.props&&n.props.key!==e.props.key){var o=t[P][r];return p(t,o,e),L}if(h(n,e)){var u=t[P][r],o=v(n);d(t,o,u,n)}else if(n.type){w(t[P][r],n,e);for(var s=n[A][q],c=e[A][q],m=0;m<s||m<c;m++)f(t[P][r],n[A][m],e[A][m],m)&&(s>c?(n[A].splice(m,1),s--):s<c&&(e[A].splice(m,1),c--))}}}function p(t,n,e){var r=a(e,z,n);o(r,X)||(r=M),u(function(){n&&t.removeChild(n)},r)}function l(t,n,e){a(e,$),n&&t.appendChild(n),a(e,J,n)}function d(t,n,e,r){a(r,B),u(function(){n&&e&&t.replaceChild(n,e)}),a(r,Z)}function h(t,n){var e=t[R]!==n[R],r=o(t,_)&&t!==n,i=t.type!==n.type;return r||i||e}function v(t,e){if(o(t,_))return T.createTextNode(t);if(t.trust){var r=T.createElement("div"),a=T.createDocumentFragment();r.innerHTML=t.children[0];var u=n(r.childNodes);return i(u,function(t){a.appendChild(t)}),a}var s;if(s=t.props&&t.props.xmlns?T.createElementNS(t.props.xmlns,t.type):T.createElement(t.type),x(s,t.props),y(s,t.props),o(t.children,K)&&i(t.children,function(t){s.appendChild(v(t,e))}),e){var c=t.props,f=c?c.ref:M;f&&(e.refs=e.refs||{},o(f,V)?f(s):o(f,_)&&(e.refs[f]=s))}return s}function m(t,n){return"on"===t.substr(0,2)&&o(n,V)}function g(t){return t.substr(2,t[q]).toLowerCase()}function y(t,n){for(var e in n){var r=n[e];m(e,r)&&r&&t.addEventListener(g(e),r,E)}}function w(t,n,e){var r=b(t,n.props,e.props);r[q]&&(a(n,B,L,L),i(r,function(t){k(t.target,t.name,t.value,t.op)}),a(n,Z,L,L))}function b(t,n,e){var r=[];e=e!==M?e:{};var i={};for(var o in n)i[o]=n[o];for(var o in e)i[o]=e[o];for(var o in i){var a=e[o],u=n[o],s=u===M||u===N,c=a===M||a===N||u!==a&&!m(o,i[o]),f=s===-1?a:u;(c||s)&&r.push({target:t,name:o,value:f,op:c||s})}return r}function x(t,n){for(var e in n)k(t,e,n[e],1)}function k(t,n,r,a){if(!m(n,r)&&"ref"!==n&&"key"!==n){var u=(a===-1?"remove":"set")+"Attribute";return"xlink:href"===n?t.setAttributeNS(C.xlink,"href",r):void(t[n]!==M&&t.namespaceURI!==C.svg?o(r,Q)?"className"===n||"class"===n?i(r,function(n,r){var i=n?"add":"remove";e[i](t,r)}):i(r,function(e,r){t[n][r]!==M&&(t[n][r]=e)}):o(r,K)?"className"!==n&&"class"!==n||(t[n]=r.join(" ")):t[n]=r:r!==C.svg&&r!==C.math&&(a===-1?t[u](n):t[u](n,r)))}}f(t,r,s,M,c)}function c(t){function n(t,n){if(o(t,_))return t;var a=t.type,u=t.props,s=t.children;return i[a]?"<"+a+e(u)+">":"<"+a+e(u)+">"+r(s,n)+"</"+a+">"}function e(t){return t=Q.keys(t).filter(function(n){return t[n]!==M&&t[n]!==N&&t[n]!==E}).map(function(n){var e=t[n];if(!o(e,V)&&"key"!==n&&"ref"!==n)return e===L?n:n+'="'+e+'"'}).join(" ").replace(/\s+$/g,""),t?t:""}function r(t,e){if(0===t[q])return"";e=e||0;var r="\t".repeat(e+1),i="\t".repeat(e);return"\n"+r+t.map(function(t){return n(t,e+1)}).join("\n"+r)+"\n"+i}var i={area:L,base:L,br:L,"!doctype":L,col:L,embed:L,wbr:L,track:L,hr:L,img:L,input:L,keygen:L,link:L,meta:L,param:L,source:L};return n(t)}function f(){function t(t,n,i,u,s){return function(c,f){function p(t){if(!h){if(t.target!==c)return;a(g,"transition",N),a(g,"transform",N)}a(g,"transformOrigin",N),g.willChange&&(g.willChange=N),e.remove(c,w),e.remove(y,w),c.removeEventListener(b,p),f&&f(c)}if(i=i||"",o(c,_)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},c=c.currentTarget||c,g=c.style,y=document.body,w="animation-running",b="transitionend";if(o(c.animate,V)&&(h=L),g.willChange&&(g.willChange="transform"),l=r(c),t&&e.toggle(c,t),d=t?r(c):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,n=n||200,s=s||"cubic-bezier(0,0,0.32,1)",v[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",v[1]=v[1]+" "+i,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",u&&a(g,"transformOrigin",u),e.add(c,w),e.add(y,w),h){var x=c.animate([{transform:v[1]},{transform:v[2]}],{duration:n,easing:s});x.addEventListener("finish",p)}else a(g,"transform",v[1]),c.offsetWidth,a(g,"transition","transform "+n+"ms "+s+", opacity "+n+"ms "+s),a(g,"transform",v[2]);return h||c.addEventListener(b,p),n}}function n(t){return function(n,r){e.add(n,t);var o=0,a=getComputedStyle(n)["transition-duration"].replace(/s| /g,"").split(",");i(a,function(t){o+=1e3*parseFloat(t)}),et(function(){r(n)},o)}}function r(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}function a(t,n,e){if(t&&t[n]===N)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[q];i++)n=r[i]+n[0].toUpperCase()+n.slice(1),t[n]!==M&&(t[n]=e);else t[n]=e}return e=e(),{flip:t,transition:n}}function p(t){function n(){this.type="p",this.props={},this.children=[t]}return n[U].trust=L,n[U][R]=Q,new n}function l(){function t(t){i(t,function(t){S[t]=function(){var e=n(arguments),r=e[0];return!o(r,_)||"#"!==r.substr(0,1)&&"."!==r.substr(0,1)&&"["!==r.substr(0,1)||(t+=r,e.shift(r)),e.unshift(t),h.apply(null,e)}})}var e=arguments;t(e[q]?n(e):["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"])}function d(t){function n(){var t=this;t.settings={},t.url=N,t.interval=N,t.back=function(){history.back()},t.foward=function(){history.foward()},t.go=function(t){history.go(t)},t.nav=function(t){var n=this.settings.root;t=n?n+t:t,history.pushState(N,N,t)},t.config=function(t){var n=this;i(t,function(t,e){n.settings[e]=t})},t.init=function(){var t=this,n=function(){var n=S.location.pathname;t.url!==n&&(t.url=n,t.changed())};clearInterval(t.interval),t.interval=setInterval(n,50)},t.on=function(t){var n,e=this;if(e.routes||(e.routes={}),o(t,Q))n=t;else{var t=arguments;n={},n[t[0]]=t[1]}i(n,function(t,n){var r=e.settings.root,i=[],o=/([:*])(\w+)|([\*])/g,a=n.replace(o,function(){var t=arguments,n=t[2];return n?(i.push(n),"([^/]+)"):"(?:.*)"}),a=a+"$";e.routes[n]={callback:t,pattern:r?r+a:a,variables:i}})},t.changed=function(){var n=this.url,e=this.routes;i(e,function(e){var r,i=e.callback,a=e.pattern,u=e.variables;if(r=n.match(new RegExp(a))){var s=r.slice(1,r[q]).reduce(function(t,n,e){return t||(t={}),t[u[e]]=n,t},N);if(!o(i,V))throw"could not find render method";i(s,t.url)}})}}var e=t.mount,r=t.root,a=t.init,u=t.routes,s=new n;return e&&s.config({mount:e}),r&&s.config({root:r}),u&&s.on(u),s.init(),a&&s.nav(a),s}function v(){function t(t,r,i,o,a){return new e(function(e,u){var s=new tt,c=S.location,f=T.createElement("a");f.href=t;var p=!(f.hostname===c.hostname&&f.port===c.port&&f.protocol===c.protocol&&"file:"!==c.protocol);f=N,s.open(r,t),s.onload=function(){var t,n=s.responseText,r=s.statusText;if(s.status>=200&&s.status<400){var i,o=s.getResponseHeader("content-type");o.indexOf(";")!==-1?(i=o.split(";"),i=i[0].split("/")):i=o.split("/"),i=i[1],t="json"===i?JSON.parse(n):"html"===i?(new DOMParser).parseFromString(n,"text/html"):n,a?a(t):e(t)}else a?a(r):u(r)},s.onerror=function(){u(s.statusText)},p&&(s.withCredentials=L),"POST"!==r&&"PUT"!==r||(s.setRequestHeader("Content-type",o),o.indexOf("x-www-form-urlencoded")>-1?i=n(i):o.indexOf("json")>-1&&(i=JSON.stringify(i))),s.send(i)})}function n(t,e){var r=[];for(var i in t){var o=e?e+"["+i+"]":i,a=t[i];r.push("object"==typeof a?n(a,o):nt(o)+"="+nt(a))}return r.join("&")}function e(t){function n(t){u="rejected",a=t,s&&i(s)}function r(t){try{if(t&&o(t.then,V))return void t.then(r,n);a=t,u="resolved",s&&i(s)}catch(e){n(e)}}function i(t){return"pending"===u?void(s=t):void et(function(){var n;if(n="resolved"===u?t.onResolved:t.onRejected,!n)return void("resolved"===u?t.resolve(a):t.reject(a));var e;try{e=n(a),t.resolve(e)}catch(r){t.reject(r)}},0)}var a,u="pending",s=N;this.then=function(t,n){return new e(function(e,r){i({onResolved:t,onRejected:n,resolve:e,reject:r})})},this.done=function(t,n){var e=arguments[q]?this.then.apply(this,arguments):this;e.then(N,function(t){et(function(){throw t},0)})},t(r,n)}function r(n){return function(e,r,i,a){if(o(i,V)){var u=a;a=i,i=u}return i?"json"===i?i="application/json":"text"===i?i="text/plain":"file"===i&&(i="multipart/form-data"):i="application/x-www-form-urlencoded",t(e,n.toUpperCase(),r,i,a)}}return{get:r("GET"),post:r("POST"),put:r("PUT"),"delete":r("DELETE")}}function m(){function t(t,n){a=r(t,n),a&&u(function(){s(p,a,f),f=a})}function e(n,e){if(!l)throw"if you are using pure functions please make sure you return an object with a render method";l[F]&&(b(l,l[F]()),delete l[F]),l[H]&&(w(l,l[H]()),delete l[H]),l["render()"]||(l["render()"]=t),a=r(n,e),p.innerHTML="",a&&(s(p,a,M,l),f=a,d=E)}var r,a,f,p,l,d=L,h=n(arguments);if(i(h,function(t){o(t,V)?r=y(t):o(t,Q)?r=y(t):t.nodeType?p=t:o(t,_)&&(p=T.querySelector(t))}),p&&r)return l=r(M,M,L),function(n,i,o,u){return u?r(n,i):"html"===o?c(r(n,i)):(d||o?e(n,i):t(n,i),a)};if(!p)throw"can't find the element";if(!r)throw"can't find the component"}function g(){this.props={},this.state={}}function y(t){function n(t){var n=this;n.type=t.type,n.props=t.props,n.children=t.children}var e;if(o(t,Q)&&!t.render)throw"can't find render, invalid component";if(o(t,V)&&(e=t()),!e.render)return t;var r=new g;i(e,function(t,n){o(t,V)?"render"===n?r[n]=t.bind(r,r.props,r.state):r[n]=t.bind(r):r[n]=t}),n[U].internal=r,n[U][R]=Q;var u=r.render;return function(t,e,i){return r.render=function(){return new n(u())},e&&(t=t||{},t.children=e),t&&(a(r,W,L,M,L),w(r,t)),i?r:r.render()}}function w(t,n){t.props=t.props||{},n&&i(n,function(n,e){t.props[e]=n})}function b(t,n){t.state=t.state||{},o(n,V)&&(n=n()),n&&(i(n,function(n,e){t.state[e]=n}),x(t))}function x(t){t["render()"]&&t["render()"]()}function k(t){function n(t){return function(n,e){return n=n||{},Q.keys(t).reduce(function(r,i){return r[i]=t[i](n[i],e),r},{})}}function e(t){function n(){return u}function e(n,e){if(!o(n,Q))throw"action must be plain object";if(n.type===M)throw"actions must have a type";u=t(u,n),i(s,function(t){return t(u)})}function r(t){if(!o(t,V))throw"listener should be a function";return s.push(t),function(){t=s.filter(function(n){return n!==t})}}function a(t,e){t(n()),r(function(){t(n())})}var u,s=[];return e({type:"@@dio/INIT"}),{getState:n,dispatch:e,subscribe:r,connect:a}}return e(o(t,Q)?n(t):t)}function j(t,n){function e(t,n,e){var r=n in t?t[n]:t.getAttribute(n);r!==M&&r!==N&&(o(e,_)?n in t?t[n]=r:t.setAttribute(n,r):e(r))}return function(){var r=this;o(t,K)?i(t,function(t,i){e(r,t,n[i])}):e(r,t,n)}}function O(t){function n(){var n=arguments;return n[q]&&(t=n[0]),t}return n.toJSON=function(){return t},n}var C={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},T=document,S=window,N=null,E=!1,L=!0,M=void 0,R="constructor",U="prototype",q="length",P="childNodes",A="children",D="classList",I="className",F="getInitialState",H="getDefaultProps",W="componentWillReceiveProps",J="componentDidMount",$="componentWillMount",z="componentWillUnmount",B="componentWillUpdate",Z="componentDidUpdate",G="shouldComponentUpdate",X=Number,K=Array,Q=Object,V=Function,Y=Boolean,_=String,tt=XMLHttpRequest,nt=encodeURIComponent,et=S.setTimeout;g[U]={setState:function(t){b(this,t)},setProps:function(t){w(this,t)},forceUpdate:function(){x(this)}},t.h=r(),t.dio={animate:f(),request:v(),render:m,router:d,store:k,trust:p,prop:O,bind:j,DOM:l,toHTML:c}});