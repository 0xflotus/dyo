!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(e,"undefined"==typeof __webpack_require__?require:e):"function"==typeof define&&define.amd?define(n(e,e)):e.dio=n(e,e)}(this,function(e,n){"use strict";function t(e,n){for(var t in n)e[t]=n[t]}function r(e,n,t){for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}function c(e){De(e,16)}function o(e,n,t){return!e[n]||e[n].__html!==t.__html}function i(e){this.flag=e,this.sync=0,this.keyed=!1,this.key=null,this.ref=null,this.type=null,this.props=null,this.state=null,this.children=null,this.xmlns=null,this.owner=null,this.instance=null,this.host=null,this.parent=null,this.event=null,this.style=null,this.DOM=null,this.context=null,this.next=null,this.prev=null}function s(){this.next=this,this.prev=this,this.length=0}function a(e){var n=new i(Ce);return n.type=tn,n.children=e,n}function u(e){var n=new i(Ne),t=new s;switch(n.type=nn,n.children=t,e.constructor){case i:h(n,t,e,0,0);break;case Array:for(var r=0;r<e.length;r++)h(n,t,e[r],r,0);break;case s:e.forEach(function(e,r){h(n,t,e,r,0)})}return n}function l(e,n){for(var t=0,r=n.children,c=e.next();!0!==c.done;)t=h(n,r,c.value,t,0),c=e.next(c.value);return n}function f(e){return"function"==typeof e.next?l(e,u(e)):"function"==typeof e[Ae]?f(e[Ae]()):"function"==typeof e?f(e()):y("pre",JSON.stringify(e,null,2))}function h(e,n,t,r,c){if(null==t)return h(e,n,a(""),r,c);switch(t.constructor){case i:null!==t.key&&!1===e.keyed&&(e.keyed=!0),n.push((t.key=c+"|"+r+"|"+t.key,t));break;case Array:for(var o=0;o<t.length;o++)h(e,n,t[o],r+o,c+1);return r+o;case String:case Number:case Date:return h(e,n,a(t),r,c);case je:case Function:return h(e,n,y(t),r,c);case Boolean:case Se:return h(e,n,a(""),r,c);default:return h(e,n,f(t),r,c)}return r+1}function p(e){return e instanceof i}function d(e){return e instanceof Ee}function y(e,n){var t=null!=n?1:2,c=0,o=0,a="function"!=typeof e?_e:Le,u=null,l=arguments.length,f=new i(a);if(t<2)switch(n.constructor){case Object:if(void 0===n[Ae]){null!=n.key&&(f.key=n.key),null!=n.xmlns&&(f.xmlns=n.xmlns),null!=n.ref&&(f.ref=n.ref),f.props=n,t++;break}default:f.props={}}else f.props={};if((c=l-t)>0)if(a!==Le)for(u=f.children=new s;t<l;t++)o=h(f,u,arguments[t],o,0);else{if(c>1)for(u=Array(c);t<l;t++)u[o++]=arguments[t];else u=arguments[t];f.props.children=u}else a===_e&&(f.children=new s);switch((f.type=e).constructor){case Function:null!=e.defaultProps?f.props=W(f,e.defaultProps,n):null!=e.propTypes&&U(e,e.propTypes,0);case String:break;case i:f.flag=e.flag,f.type=e.type,f.props=r({},e.props,f.props);break;case je:f.flag=Pe;break;default:d(e)&&(f.flag=Te)}return f}function v(e,n,t,r,c){try{return n.call(e.instance,t,r,c)}catch(n){le(e,n,qe)}}function w(e,n){try{return e.owner[n].call(e.instance)}catch(t){le(e,t,n)}}function x(e,n){switch(typeof n){case"object":if(null===n)break;case"function":ke||k(e,e.instance,n)}}function m(e,n){try{var t=e.owner[n].call(e.instance,(e.DOM||an).node);return t instanceof je?t:x(e,t)}catch(t){le(e,t,n)}}function g(e,n,t,r,c){try{return"object"!=typeof(r=e.owner[n].call(e.instance,t,r,c))?r:x(e,r)}catch(t){le(e,t,n)}}function b(e,n){this.node=null,this.refs=null,this.state=null,this.props=e,this.context=n}function k(e,n,t,c){if(t)switch(t.constructor){case je:return M(e,n,t,c);case Function:return k(e,n,O(e,n,t),c);default:e.state=e.sync===We?t:r({},e.state,t),D(e,n,c,2)}}function O(e,n,t){try{return t.call(n,n.state)}catch(n){le(e,n,qe)}}function M(e,n,t,r){t.then(function(t){c(function(){k(e,n,t,r)})})}function D(e,n,t,r){return null==e?c(function(){D(F(n),n,t,r)}):e.sync!==We?c(function(){D(e,n,t,r)}):void(e.DOM&&(S(e,e,e.flag,r),"function"==typeof t&&O(e,n,t)))}function E(e){for(var n in rn)n!==Be&&Object.defineProperty(e,n,rn[n])}function j(e){var n=e.context,t=e.type,r=t.prototype,c=t,o=null;r&&r.render?(r.setState||E(r),o=c=N(e)||new b,e.owner=c):((o=new b).render=t,e.owner=t),o.refs={},o.context=n,o.node=e,o.props=e.props,e.owner=c,e.instance=o,c[Ye]?o.state=_(e,o,c):o.state||(o.state={}),c[Xe]&&(e.context=T(e)),e.children=P(e),e.children.context=n}function S(e,n,c,o){if(!(e.sync<We)){e.sync=Ue;var i=e.instance,s=e.owner,a=i.context,u=i.state,l=o>1?r({},u,e.state):u,f=e.props,h=n.props;switch(s[Xe]&&t(e.context,T(e)),o){case 0:break;case 1:s[Je]&&g(e,Je,h,l,a);case 2:if(s[Re]&&!1===g(e,Re,h,l,a))return}s[ze]&&g(e,ze,h,l,a),i.state=l,i.props=h,re(e.children,P(e)),s[Ge]&&g(e,Ge,f,u,a),e.ref!==n.ref&&ee(e,n.ref,2),e.sync=We}}function A(e,n,t,r,c,o){o>0&&e.owner[Ke]&&(e.state=m(e,Ke))&&e.state.constructor===je?e.state.then(function(){A(e,n,t,r,c,0)}):(c<1?V(e.children,t,r,c):V(n,e.children,r,c),z(e,0,c))}function C(e,n,t){this.refs&&(n!==t.ref&&delete this.refs[t.ref],this.refs[n]=t.instance)}function _(e,n,t){var r=w(e,Ye);return r?r.constructor!==je||ke?r:M(e,n,e.state)||{}:n.state||{}}function N(e){try{return new e.type(e.props,e.context)}catch(n){le(e.host,n,He)}}function P(e){try{return q(e.instance.render(e.instance.props,e.instance.state,e.context))}catch(n){return le(e,n,Be)}}function T(e){return e.owner[Xe]?w(e,Xe)||e.context||{}:e.context||{}}function L(e){return null==e||null==e.DOM?a(""):e.flag<Le?e:e.children}function F(e){return p(e)?e:e.node}function U(e,n,t){try{var r=e.dislayName||e.name,c=null;for(var o in n)c=n[o](element.props,o,r),(t>0?"context":"prop")&&console.error(c)}catch(e){console.error(e)}}function W(e,n,t){return"function"!=typeof n?r({},n,t):(Object.defineProperty(e.type,"defaultProps",{value:W(e,v(e,n),t)}),e.type.defaultProps)}function q(e){if(null!=e)switch(e.constructor){case s:case Array:return u(e);case Function:return y(e);case String:case Number:case Date:return a(e);case Boolean:case Se:return q(null);case i:return e;case je:return q(y(e));default:return f(e)}return L(e)}function B(e,n){n.type.then(function(n){e.DOM&&(e.flag===Pe?ce(e,u(q(n))):re(e,q(n)))})}function H(e){try{return e.flag>Ce?we(e.type,e.xmlns):ve(e.children)}catch(n){return H(le(e,n,Be))}}function I(e,n,r,c,o){var s=null,a=null,u=c,l=e.flag,f=0;switch(e.host=u,e.parent=r,e.context=u.context,l===Le&&(j((e.sync=Ue,u=e)),e.owner[Ie]&&m(e,Ie)),a=e.children,l){case Ce:e.DOM=H(e);break;case _e:switch(e.type){case"svg":e.xmlns=en;break;case"math":e.xmlns=Ze;break;default:null===e.xmlns&&(e.xmlns=r.xmlns)}s=a.next,f=a.length,e.DOM=H(e);break;case Pe:B(e,e);case Te:l===Te&&(e.DOM={node:e.type});case Ne:e.DOM=l!==Te?r.DOM:e.DOM,s=a.next,f=a.length;break;case Le:I(a,n,r,u,o),e.DOM=a.DOM}if(f>0)for(;f-- >0;)s.DOM&&(s=t(new i(_e),s)),I(s,s,e,u,0),s=s.next;if(l<Ne){switch(o){case 0:K(e,r);break;case 1:Q(e,n,r);break;case 2:V(e,n,r,o)}l!==Ce&&te(e,e,0)}else l===Le&&(e.ref&&ee(e,e.ref,1),e.owner[Ve]&&m(e,Ve),e.sync=We)}function V(e,n,t,r){r<1?e.flag<Le?(G(e,t),z(e,1,r)):A(e,e,n,t,r,1):n.flag<Le?(X(e,n,t),z(n,1,r),R(n,e)):A(n,e,n,t,r,1)}function J(e,n){I(n,e,e.parent,e.host,2)}function R(e,n){for(var r in n)switch(r){case"DOM":t(e[r],n[r]);case"next":case"prev":break;default:e[r]=n[r]}}function z(e,n,t){switch(e.flag*n){case Ce:break;default:for(var r=0,c=e.children,o=c.length,i=c.next;r++<o;)switch(i.flag){case Le:i.owner[Ke]&&m(i,Ke);default:z(i,1,1),i=i.next}}t<1&&(e.context=e.DOM=null),e.ref&&ee(e,e.ref,-1)}function G(e,n){if(e.flag===Ne)return e.children.forEach(function(e){G(e,n)});me(e.DOM,n.DOM)}function K(e,n){return n.flag===Ne?Q(e,n.next||sn,n):e.flag===Ne?e.children.forEach(function(e){K(e,n)}):void be(e.DOM,n.DOM)}function Q(e,n,t){return n.flag===Ne?Q(e,n.children.next||n.next||sn,t):e.flag===Ne?e.children.forEach(function(e){Q(e,n,t)}):void ge(e.DOM,n.DOM,t.DOM)}function X(e,n,t){return e.flag===Ne?e.children.length>0?e.children.forEach(function(e){e!==this.prev?Q(e,n,t):X(this.prev,n,t)}):G(n,t):n.flag===Ne?n.children.length>0?n.children.forEach(function(n){n===this.next?X(e,this.next,t):G(n,t)}):Q(e,n.next||sn,t):void xe(e.DOM,n.DOM,t.DOM)}function Y(e,n){ye(e.DOM,e.children=n.children)}function Z(e,n,t,r,c){switch(n){case"dangerouslySetInnerHTML":return!t||r>1&!o(e.props,n,t)?void 0:Z(e,"innerHTML",t.__html,r,c);case"ref":ee(e,t,r);case"key":case"xmlns":case"children":break;case"className":if(c)return Z(e,"class",t,r,!c);case"id":return pe(e.DOM,n,t,r,c,3);case"innerHTML":return pe(e.DOM,n,t,r,c,2);case"xlink:href":return pe(e,n,t,r,c,1);case"style":if(null!=t&&"string"!=typeof t)return r>1?pe(e.DOM,n,ne(e.style,t),r,c,0):pe(e.DOM,n,e.style=t,r,c,0);default:if(111===n.charCodeAt(0)&&110===n.charCodeAt(1))return $(e,n.toLowerCase(),t,r);pe(e.DOM,n,t,r,c,4)}}function $(e,n,t,r){switch(r){case-1:null!==e.event&&e.event.length>0&&(delete e.event[n],0==--e.event.length&&de(e.DOM,n.substring(2),e.event,0));break;case 0:$(e,n,t,r-1);case 1:null===e.event&&(e.event=new ae(e)),e.event[n]=t,e.event.length++,de(e.DOM,n.substring(2),e.event,1)}}function ee(e,n,t,r){switch(typeof n){case"string":return ee(e,C,t,n);case"undefined":case"object":return ee(e,e.ref||Oe,-1,r);case"function":switch(t){case-1:return v(e.host,n,e.ref=null,n,r,e);case 0:e.ref=n;case 1:v(e.host,n,e.DOM.node,r,e);break;case 2:ee(e,n,-1,r),ee(e,n,0,r)}}}function ne(e,n){var t,r={};for(var c in n)switch(t=n[c]){case e[c]:break;default:r[c]=t}return element.style=n,r}function te(e,n,t){var c=e.props,o=0===t?c:r({},c,n.props),i=null!==e.xmlns,s=null;switch(t){case 0:for(var a in o)Z(e,a,o[a],1,i);return;case 1:for(var a in o)switch(s=o[a]){case c[a]:break;default:Z(e,a,s,null==s?0:2,i)}}e.props=n.props}function re(e,n){if(n.flag===Pe)return B(e,n);if(e.key!==n.key||e.type!==n.type)return J(e,n);switch(n.flag){case Ce:e.children!==n.children&&Y(e,n);break;case Te:case _e:return ce(e,n),te(e,n,1);case Ne:return ce(e,n);case Le:return S(e,n,e.flag,1)}}function ce(e,n){var t=e.host,r=e.children,c=n.children,o=r.length,i=c.length,s=r.next,a=c.next,u=0;switch(o+i){case 0:return;case o:return se(s,e,r,0,o);case i:return ie(a,a,e,t,r,0,i,0)}if(n.keyed){var l=0,f=0,h=o-1,p=i-1,d=r.prev,y=c.prev;e:for(;;){for(;s.key===a.key;){if(re(s,a),l++,f++,l>h||f>p)break e;s=s.next,a=a.next}for(;d.key===y.key;){if(re(d,y),h--,p--,l>h||f>p)break e;d=d.prev,y=y.prev}break}l>h?f<=p++&&(p<i?u=1:a=a.next,ie(a,d,e,t,r,f,p,u)):f>p?se(p+1<i?s:s.next,e,r,l,h+1):oe(e,t,r,s,a,l,f,h+1,p+1)}else{for(u=o>i?i:o;u--;)re(s,a),a=a.next,s=s.next;if(o!==i)if(o>i)for(;o>i;)V(r.pop(),e,e,0),o--;else for(;o<i;)s=a,a=a.next,I(r.push(s),s,e,t,0),o++}}function oe(e,n,t,r,c,o,i,s,a){for(var u=o,l=i,f=r,h=c,p=f,d=h,y="",v=0,w={};l<a&&u<s;)f.key===h.key?(re(f,h),f=f.next,h=h.next,u++,l++):(w[f.key]=f,f=f.next,v++,u++);if(v!==s){for(;l++<a;)y=h.key,d=h.next,p=w[y],(p=w[y])?(f===t?K(t.push(t.remove(p)),e):Q(t.insert(p,f),f,e),delete w[y]&&re(p,h)):f===t?I(t.push(h),h,e,n,0):I(t.insert(h,f),f,e,n,1),h=d;if(v>0)for(y in w)V(t.remove(w[y]),e,e,0)}else se(r,e,t,0,s),ie(c,c,e,n,t,0,a,0)}function ie(e,n,t,r,c,o,i,s){for(var a=o,u=e,l=u;a++<i;)l=(u=l).next,I(c.push(u),n,t,r,s)}function se(e,n,t,r,c){for(var o=r,i=e,s=i;o++<c;)s=(i=s).next,V(t.remove(i),n,n,0)}function ae(e){this.length=0,this.element=e}function ue(e,n){if(!(this instanceof Error))return ue.call(new Error(this),e,n);var t="",r="",c=e;for(this.stack;c.type;)r+=t+"<"+(c.type.name||"anonymous")+">\n",t+="  ",c=c.host;return this.from=n,this.tree=r,console.error("Error caught in `\n\n"+r+'\n` from "'+n+'"\n\n'+this.stack+"\n\n"),this}function le(e,n,t){try{return fe(e,ue.call(n,e,t),t)}catch(e){}}function fe(e,n,t){if(!e||!e.owner)return L(e);if(!e.owner[Qe])return fe(e.host,r,n,t);try{var r=e.owner[Qe].call((e.sync=Fe,e.instance),n);switch(e.sync=We,typeof r){case"boolean":case"undefined":break;default:if(t===Be)return q(r);re(e.children,q(r))}}catch(n){return le(e.host,n,Qe)}return L(e)}function he(e,n,t){try{e.node[n]=t}catch(e){}}function pe(e,n,r,c,o,i){if(c>0)switch(i){case 0:return t(e.node[n],r);case 1:return e.node.setAttributeNS($e,n,r);case 2:return he(e,n,r);case 3:if(!1===o)return he(e,n,r);default:if(!1===o&&n in e.node)switch(n){case"width":case"height":if("string"==typeof r)break;default:return he(e,n,r)}!1!==r?e.node.setAttribute(n,r):pe(e,n,r,-1,o,i)}else 1!==i?e.node.removeAttribute(n):e.node.removeAttributeNS(n)}function de(e,n,t,r){r>0?e.node.addEventListener(n,t,!1):e.node.removeEventListener(n,t,!1)}function ye(e,n){e.node.nodeValue=n}function ve(e){return{node:Me.createTextNode(e)}}function we(e,n){return{node:null===n?Me.createElement(e):Me.createElementNS(n,e)}}function xe(e,n,t){t.node.replaceChild(e.node,n.node)}function me(e,n){n.node.removeChild(e.node)}function ge(e,n,t){t.node.insertBefore(e.node,n.node)}function be(e,n){n.node.appendChild(e.node)}var ke=void 0===e||e.window!==e,Oe=function(){},Me=e.document||Oe,De=e.requestAnimationFrame||setTimeout,Ee=e.Node||Oe,je=e.Promise||Oe,Se=e.Symbol||Oe,Ae=Se.iterator||Se("iterator")||"Symbol(Symbol.iterator)",Ce=0,_e=1,Ne=2,Pe=3,Te=4,Le=5,Fe=-2,Ue=-1,We=1,qe="callback",Be="render",He="constructor",Ie="componentWillMount",Ve="componentDidMount",Je="componentWillReceiveProps",Re="shouldComponentUpdate",ze="componentWillUpdate",Ge="componentDidUpdate",Ke="componentWillUnmount",Qe="componentDidCatch",Xe="getChildContext",Ye="getInitialState",Ze="http://www.w3.org/1998/Math/MathML",$e="http://www.w3.org/1999/xlink",en="http://www.w3.org/2000/svg",nn="#Fragment",tn="#Text";i.prototype=Object.create(null,{constructor:{value:i}}),s.prototype=Object.create(null,{constructor:{value:s},remove:{value:function(e){if(!(this.length<1))return e.next.prev=e.prev,e.prev.next=e.next,this.length--,e}},insert:{value:function(e,n){return e.next=n,e.prev=n.prev,n.prev.next=e,n.prev=e,this.length++,e}},pop:{value:function(){return this.remove(this.prev)}},push:{value:function(e){return this.insert(e,this)}},forEach:{value:function(e){for(var n=0,t=this;n<this.length;n++)e.call(this,t=t.next,n)}}});var rn={render:{value:Oe,writable:!0},forceUpdate:{value:function(e){D(this.node,this,e,0)}},setState:{value:function(e,n){k(this.node,this,e,n)}}};b.prototype=Object.create(null,rn);var cn=[],on=[];ae.prototype=Object.create(null,{handleEvent:{value:function(e){try{var n=e.type,t=this["on"+n],r=this.element.host,c=r.instance,o=null;switch(typeof t){case"object":t&&"function"==typeof t.handleEvent&&(o=t.handleEvent(e));break;case"function":o=t.call(c,e)}o&&c&&x(r,o)}catch(e){le(r,e,"on"+n+":"+(t.handleEvent||t).name||"anonymous")}}}});var sn=new i(0),an=sn.DOM={node:null};(function(e){this.node=e}).prototype=Object.create(null);var un={h:y,createElement:y,Component:b,render:function(e,n,t){var r=null!=n?n:DOMDocument(),c=cn[on.indexOf(r)],o=null;if(c)return re(c,q(e));c=q(e),(o=new i(0)).DOM={node:r},o.context={},cn.push(c),on.push(r),I(c,c,o,o,0),"function"==typeof t&&v(c,t,r)},isValidElement:p,cloneElement:function(){return y.apply(null,arguments)}};return ke?n("dio.node.js")(un):e.h=y,un});