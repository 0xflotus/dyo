module.exports=function(e,t,r,n){"use strict";function a(e){return(e+"").replace(b,s)}function s(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&#x27;";case"&":return"&amp;";default:return e}}function c(e){switch(e){case"area":case"base":case"br":case"meta":case"source":case"keygen":case"img":case"col":case"embed":case"wbr":case"track":case"param":case"link":case"input":case"hr":case"!doctype":return h;default:return g}}function i(e){"function"!=typeof e.getHeader||e.getHeader("Content-Type")||e.setHeader("Content-Type","text/html")}function o(e,t){var r="";for(var n in t){var s=t[n];switch(n){case"dangerouslySetInnerHTML":if(!s||!s.__html)break;s=s.__html;case"innerHTML":e.DOM=s+"";break;case"defaultValue":t.value||(r+=' value="'+a(s)+'"');case"key":case"ref":case"children":break;case"style":r+=' style="'+("string"==typeof s?s:u(s))+'"';break;case"className":n="class";default:switch(typeof s){case"boolean":if(!1===s)break;case"string":case"number":r+=" "+n+(!0!==s?'="'+a(s)+'"':"")}}}return r}function u(e){var t="";for(var r in e)t+=(r!==r.toLowerCase()?r.replace(m,"$1-").replace(k,"-$1").toLowerCase():r)+":"+e[r]+";";return t}function l(e){this.stack=[e],v.call(this)}function f(e,t,s){for(;e.id===d;)e=r(e);var i=e.type,u=e.children,l=u.length,v="";switch(e.id){case p:return void e.type.then(function(e){f(n(e),t,s)});case y:v=a(u);break;case g:if(v="<"+i+o(e,e.props)+">",c(i)===h)break;if("string"==typeof e.DOM&&(v+=e.DOM,e.DOM=null,l=0),0===l){v+="</"+i+">";break}default:for(e.id===g&&(u.prev.DOM="</"+i+">");l-- >0;)t.push(u=u.prev)}"string"==typeof e.DOM&&(v+=e.DOM,e.DOM=null),s.push(v)}var p=-3,h=0,d=1,g=2,y=3,v=require("stream").Readable,b=/[<>&"']/g,m=/([a-zA-Z])(?=[A-Z])/g,k=/^(ms|webkit|moz)/;Object.defineProperties(t.prototype,{toJSON:{value:function(){var e=this;switch(e.id){case d:return r(e).toJSON();case y:return e.children}for(var t={type:e.type,props:e.props,children:[]},n=e.children,a=n.length;a-- >0;)t.children.push((n=n.next).toJSON());return e.id<h?t.children:t}},toString:{value:function(){var e=this;switch(e.id){case d:return r(e).toString();case y:return a(e.children)}var t=e.type,n=e.children,s=n.length,i=e.id===g?"<"+t+o(e,e.props)+">":"";if(c(t)===h)return i;if("string"!=typeof e.DOM)for(;s-- >0;)i+=(n=n.next).toString();else i+=e.DOM,e.DOM=null;return e.id===g?i+"</"+t+">":i}},toStream:{value:function(e){var t=new l(this);return"function"==typeof e&&t.on("end",e),t}}}),e.renderToString=function(e,t,r){if(!t||!t.writable)return n(e).toString();i(t),t.end(n(e).toString(),"utf8",r)},e.renderToStream=function(e,t,r){if(!t||!t.writable)return n(e).toStream();i(t),n(e).toStream(r).pipe(t)},l.prototype=Object.create(v.prototype,{_read:{value:function(){this.stack.length?f(this.stack.pop(),this.stack,this):this.push(null)}}})};
//# sourceMappingURL=dio.node.js.map