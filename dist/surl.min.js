!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):e("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var e={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},n=document,r=window,i=null,o=!1,a=!0,s=void 0,u="constructor",c="prototype",l="length",p="getInitialState",f="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,k=Object,S=Function,T=Boolean,M=String,O=XMLHttpRequest,R=encodeURIComponent,E=function(){function t(t,e){return e?t!==s&&t!==i?t[u]===e:o:!!t}return t}(),L=function(){function t(t,e){var n;if(E(t,C)||t[l]&&E(t[l],x)&&t[0]){var r=t[l];for(n=0;n<r;++n)if(e.call(t[n],t[n],n,t)===o)return t}else for(n in t)if(e.call(t[n],t[n],n,t)===o)return t;return t}return t}(),N=function(){function t(t,s){var u=new O,c=r.location,l=t.url,s=t.callback,p=t.method,f=t.data||{},d=n.createElement("a");d.href=l;var h=!(d.hostname===c.hostname&&d.port===c.port&&d.protocol===c.protocol&&"file:"!==c.protocol);return d=i,u.open(p,l,a),u.onerror=function(){s(this,a)},u.onload=function(){if(s){var t,e,n=u.responseText;if(this.status>=200&&this.status<400){var r,i=u.getResponseHeader("content-type");i.indexOf(";")!==-1?(r=i.split(";"),r=r[0].split("/")):r=i.split("/"),r=r[1],e="json"===r?JSON.parse(n):"html"===r?(new DOMParser).parseFromString(n,"text/html"):n,t=[e,o]}else t=[this,a];s(t[0],t[1])}},h&&(u.withCredentials=a),"GET"!==p&&u.setRequestHeader("Content-Type",E(f,k)?"application/json":"text/plain"),"POST"===p?(u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(e(f))):u.send(),u}function e(t,n){var r=[];for(var i in t){var o=n?n+"["+i+"]":i,a=t[i];r.push("object"==typeof a?e(a,o):R(o)+"="+R(a))}return r.join("&")}return t}(),q=function(){function t(t,o){var a,c=arguments,p=c[l],f=2;n(o)||!E(o,k)?(f=1,o={}):o!==i&&o!==s&&E(o,k)||(o={});var d={type:t,props:o,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=e[d.type]);for(var h=f;h<p;h++)if(a=c[h],E(a,C))for(var v=0;v<a[l];v++)d.children[h-f+v]=r(a[v],d);else d.children[h-f]=r(a,d);return d}function n(t){var e=t&&t.type&&t.children&&t.props;if(!e)return o;var n=0;for(var r in t){if(n>3)break;t.hasOwnProperty(r)&&n++}return 3===n}function r(t,e){return E(t.props,k)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),E(t,k)&&n(t)||(E(t,k)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type;for(t.type="div";e=r.exec(o);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])i.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var s=e[6];s&&(s=s.replace(/\\(["'])/g,"$1")),i[e[4]]=s||a}return n[l]>0&&(i["class"]=n.join(" ")),t.props=i,t}return t}(),P=function(){function t(t,e,n,r,i){if(E(t,k)){var o=i?t:t.Component;return o&&o[e]?(n=n?E(n,T)?o.props:n:s,r=r?E(r,T)?o.state:r:s,o[e](n,r)):void 0}}return t}(),j=function(){function t(t,e,n){this.mount=t,this.render=e,n&&(this.data=n)}function r(t,e,n,i,u){if(i=i||0,n=p(n),e=p(e),P(e,b,a,a)!==o)if(n===s){var c=d(e,u);P(e,m,c),t.appendChild(c),P(e,v,c)}else if(e===s){var c=t.childNodes[i],h=P(n,g,c)||0;E(h,x)||(h=0),setTimeout(function(){t.removeChild(c)},h)}else if(f(e,n))P(e,y,a,a),t.replaceChild(d(e),t.childNodes[i]),P(e,w,a,a);else if(e.type&&!e.trust){var C=O(t.childNodes[i],e.props,n.props,e);C[l]&&(P(e,y,a,a),L(C,function(t){N(t.target,t.name,t.value,t.op)}),P(e,w,a,a));for(var k=e.children[l],S=n.children[l],T=0;T<k||T<S;T++)r(t.childNodes[i],e.children[T],n.children[T],T,u)}}function p(t){return t===s||t!==i&&0!==t&&t!==o||(t+=""),t}function f(t,e){var n=t[u]!==e[u],r=E(t,M)&&t!==e,i=t.type!==e.type;return n||r||i}function d(t,e){if(E(t,M))return n.createTextNode(t);if(t.trust){var r=n.createElement("div"),i=n.createDocumentFragment();r.innerHTML=t.children[0];var o=C[c].slice.call(r.childNodes);return L(o,function(t){i.appendChild(t)}),i}var a;if(a=t.props&&t.props.xmlns?n.createElementNS(t.props.xmlns,t.type):n.createElement(t.type),R(a,t.props),T(a,t.props),E(t.children,C)&&L(t.children,function(t){a.appendChild(d(t,e))}),E(e,S)){var u=t.props,l=u?u.ref:s;if(l){var p=e(s,s,!0);p.refs={},E(l,S)?l(a):E(l,M)&&(p.refs[l]=a)}}return a}function h(t,e){return"on"===t.substring(0,2)&&E(e,S)}function k(t){return t.substring(2,t[l]).toLowerCase()}function T(t,e){for(var n in e){var r=e[n];h(n,r)&&r&&t.addEventListener(k(n),r,o)}}function O(t,e,n,r){var o=[];n=n!==s?n:{};var a={};for(var u in e)a[u]=e[u];for(var u in n)a[u]=n[u];for(var u in a){var c=n[u],l=e[u],p=l===s||l===i,f=c===s||c===i||l!==c&&!h(u,a[u]),d=p===-1?c:l;(f||p)&&o.push({target:t,name:u,value:d,op:f||p})}return o}function R(t,e){for(var n in e)N(t,n,e[n],1)}function N(t,n,r,i){if(!h(n,r)&&"ref"!==n){var o=(i===-1?"remove":"set")+"Attribute";return"xlink:href"===n?t.setAttributeNS(e.xlink,"href",r):void(t[n]!==s&&t.namespaceURI!==e.svg?t[n]=r:r!==e.svg&&r!==e.math&&(i===-1?t[o](n):t[o](n,r)))}}return t[c]={update:function(){var t=this.render(),e=this.old;r(this.mount,t,e,s,this.render),this.old=t},init:function(){this.data?this.old=this.render(this.data):this.old=this.render(),this["new"]=this.old,r(this.mount,this.old,s,s,this.render)}},t}(),U=function(){function t(t){var e=this;t&&e.Mount(t)}return t[c]={Req:function(){var t=arguments,e={method:"GET"};return L(t,function(t){if(E(t,k))e.data=t;else if(E(t,S))e.callback=t;else if(E(t,M)){var n=t.toUpperCase();"POST"===n||"GET"===n?e.method=n:e.url=t}}),N(e)},Mount:function(t){var e=this;t===n?t=t.body:E(t,M)&&(t=n.querySelector(t)),t&&t.nodeType?e.parent=t:e.parent=s},Render:function(t,e,r){var i=this;if(e&&(E(e,M)?i.parent=n.querySelector(e):e.nodeType&&(i.parent=e)),!i.parent)throw"element to mount does not exist";if(i.parent.innerHTML="",E(t,k)){var o=t;t=i.Component({render:function(){return o}})}i.virtual=new j(i.parent,t,r),i.virtual.init()},Component:function e(t){function n(){var e=this;L(t,function(t,n){E(t,S)&&(t=t.bind(e)),e[n]=t})}function r(t){this.type=t.type,this.props=t.props,this.children=t.children}function e(t,e,n){return t&&P(l,d,t,s,a),t&&e?t.children=e:!t&&e&&(t={},t.children=e),t&&l.setProps(t),n?l:l.render()}var i=this;if(E(t,S))return i.Component(t());t.props=t.props||{},t.state=t.state||{},L(["Props","State"],function(t){var e=t.toLowerCase();n[c]["set"+t]=function(t,n){var r=this;t&&(E(t,S)&&(t=t(r.state,r.props)),L(t,function(t,n){r[e][n]=t}),"state"===e&&!n&&i.virtual&&i.virtual.update())}});var l=new n;if(!l.render)throw"no render method";l[p]&&l.setState(l[p](),o),l[f]&&l.setProps(l[f](),o),L(l,function(t,e){r[c].Component=l}),r[c][u]=k;var h=l.render;return l.render=function(){return new r(h())},e},DOM:function(){L(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var e=C[c].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})},Route:function(t){function e(){this.settings={},this.url=i,this.interval=i,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var e=this.settings.addr;t=e?e+t:t,history.pushState(i,i,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var e=this;L(t,function(t,n){e.settings[n]=t})},this.init=function(){var t=this,e=function(){var e=r.location.pathname;t.url!==e&&(t.url=e,t.changed())};clearInterval(t.interval),t.interval=setInterval(e,50)},this.on=function(t){var e,n=this;if(n.routes||(n.routes={}),E(t,k))e=t;else{var t=arguments;e={},e[t[0]]=t[1]}L(e,function(t,e){var r=n.settings.addr,i=[],o=/([:*])(\w+)|([\*])/g,a=e.replace(o,function(){var t=arguments,e=t[2];return e?(i.push(e),"([^/]+)"):"(?:.*)"}),a=a+"$";n.routes[e]={callback:t,pattern:r?r+a:a,variables:i}})},this.changed=function(){var t=this.url,e=this.routes;L(e,function(e){var r,o=e.callback,a=e.pattern,u=e.variables;if(r=t.match(new RegExp(a))){var c=r.slice(1,r[l]).reduce(function(t,e,n){return t||(t={}),t[u[n]]=e,t},i);if(!E(o,S))throw"could not find render method";n.Render(o,s,c)}})}}var n=this,o=t.mount,a=t.addr,u=t.init,c=t.routes,p=new e;o&&n.Mount(o),a&&p.config({addr:a}),c&&p.on(c),p.init(),u&&p.nav(u),n.route=p},Element:q},t}(),D=function(){function t(t,e,n){return function(){var r=this,o=t in r?r[t]:r.getAttribute(t);if(o!==s&&o!==i){var a={};a[n]=o,e.setState(a)}}}return t}(),H=function(){function t(t){function e(){this.type="p",this.props={},this.children=[t]}return e[c].trust=a,e[c][u]=k,new e}return t}(),I=function(){function t(t,r,o,s,u){return function(o){function c(t){if(!f){if(t.target!==o)return;e(g,"transition",i),e(g,"transform",i)}e(g,"transformOrigin",i),g.willChange&&(g.willChange=i),y.remove(b),w.remove(b),o.removeEventListener(x,c)}if(E(o,M)&&(o=document.querySelector(o)),!o&&o.nodeType)throw"can't animate without an element";var l,p,f,d={},h={},v={},m=m||"",o=o.currentTarget||o,g=o.style,y=o.classList,w=n.body.classList,b="animate-running",x="transitionend";if(E(o.animate,S)&&(f=a),g.willChange&&(g.willChange="transform"),h[1]=getComputedStyle(o).opacity,l=o.getBoundingClientRect(o),t&&y.toggle(t),p=t?o.getBoundingClientRect(o):l,h[2]=getComputedStyle(o).opacity,v.x=l.left-p.left,v.y=l.top-p.top,v.sx=l.width/p.width,v.sy=l.height/p.height,r=r||200,u=u||"cubic-bezier(0,0,0.32,1)",d[1]="translate("+v.x+"px,"+v.y+"px) translateZ(0) scale("+v.sx+","+v.sy+")",d[1]=d[1]+" "+m,d[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",s&&e(g,"transformOrigin",s),y.add(b),w.add(b),f){var C=o.animate([{transform:d[1],opacity:h[1]},{transform:d[2],opacity:h[2]}],{duration:r,easing:u});C.addEventListener("finish",c)}else g.opacity=h[1],e(g,"transform",d[1]),o.offsetWidth,e(g,"transition","transform "+r+"ms "+u+", opacity "+r+"ms "+u),g.opacity=h[2],e(g,"transform",d[2]);return f||o.addEventListener(x,c),r}}function e(t,e,n){if(t&&null===t[e])for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r.length;i++)e=r[i]+e[0].toUpperCase()+e.slice(1),void 0!==t[e]&&(t[e]=n);else t[e]=n}return t}();t.surl=U,t.h=q,t.bind=D,t.trust=H,t.animate=I});