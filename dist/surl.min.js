!function(){"use strict";function t(t,e){return e?t!==E&&t!==T?t[f]===e:k:!!t}function e(e,n){var r;if(t(e,v)||e[d]&&t(e[d],m)&&e[0]){var i=e[d];for(r=0;r<i;++r)if(n.call(e[r],e[r],r,e)===k)return e}else for(r in e)if(n.call(e[r],e[r],r,e)===k)return e;return e}function n(t,e,n){var r=(new w).getTime();e=e||60;var i=1e3/e;return function o(e){n.id=requestAnimationFrame(o);var a=(new w).getTime(),s=a-r;s>i&&(r=a-s%i,t(e))}(0)}function r(t,e){var n=[];for(var i in t){var o=e?e+"["+i+"]":i,a=t[i];n.push("object"==typeof a?r(a,o):M(o)+"="+M(a))}return n.join("&")}function i(e,n){var i=new x,o=l.location,a=e.url,n=e.callback,s=e.method,u=e.data||{},f=c.createElement("a");f.href=a;var p=!(f.hostname===o.hostname&&f.port===o.port&&f.protocol===o.protocol&&"file:"!==o.protocol);return f=T,i.open(s,a,R),i.onerror=function(){n(this,R)},i.onload=function(){if(n){var t,e,r=i.responseText;if(this.status>=200&&this.status<400){var o,a=i.getResponseHeader("content-type");a.indexOf(";")!==-1?(o=a.split(";"),o=o[0].split("/")):o=a.split("/"),o=o[1],e="json"===o?JSON.parse(r):"html"===o?(new DOMParser).parseFromString(r,"text/html"):r,t=[e,k]}else t=[this,R];n(t[0],t[1])}},p&&(i.withCredentials=R),"GET"!==s&&i.setRequestHeader("Content-Type",t(u,g)?"application/json":"text/plain"),"POST"===s?(i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(r(u))):i.send(),i}function o(t,e,n){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t);if(i!==E&&i!==T){var o={};o[n]=i,e.setState(o)}}}function a(t){return{content:t,trust:R,$:R}}function s(e,n,r,i,o){return function(a){function s(t){if(!f){if(t.target!==a)return;d.transition=T,d.transform=T}d.transformOrigin=T,d.willChange=T,h.remove(v),m.remove(v),a.removeEventListener(g,s)}var u,l,f,p={},a=a.currentTarget||a,d=a.style,h=a.classList,m=c.body.classList,v="animation-running",g="transitionend";if(n){if(t(a.animate,y)&&(f=R),d.willChange="transform",u=a.getBoundingClientRect(a),h.toggle(n),l=a.getBoundingClientRect(a),p.x=u.left-l.left,p.y=u.top-l.top,p.sx=u.width/l.width,p.sy=u.height/l.height,e=e||200,o=o||"cubic-bezier(0,0,0.32,1)",u="translate("+p.x+"px,"+p.y+"px) translateZ(0) scale("+p.sx+","+p.sy+")",u=r?u+" "+r:u,l="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",i&&(d.transformOrigin=i),h.add(v),m.add(v),f){var b=a.animate([{transform:u},{transform:l}],{duration:e,easing:o});b.addEventListener("finish",s)}else d.transform=u,a.offsetWidth,d.transition="transform "+e+"ms "+o,d.transform=l;f||a.addEventListener(g,s)}}}var u={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},c=document,l=window,f="constructor",p="prototype",d="length",m=Number,v=Array,g=Object,y=Function,b=String,w=Date,x=XMLHttpRequest,C=Math,T=null,k=!1,R=!0,E=void 0,M=encodeURIComponent,O="getInitialState",S="getDefaultProps",q="componentWillReceiveProps",L="componentDidMount",A="componentWillMount",N="componentWillUnmount",D="componentWillUpdate",F="componentDidUpdate";!function(){for(var t="requestAnimationFrame",e="cancelAnimationFrame",n=["ms","moz","webkit"],r=n[d],i="AnimationFrame",o=0,a=0;a<r&&!l[t];++a)l[t]=l[n[a]+"Request"+i],l[e]=l[n[a]+"Cancel"+i]||l[n[a]+"CancelRequest"+i];l[t]||(l[t]=function(t){var e=(new w).getTime(),n=C.max(0,16-(e-o)),r=l.setTimeout(function(){t(e+n)},n);return o=e+n,r}),l[e]||(l[e]=function(t){clearTimeout(t)})}();var P=function(t){var e=this;t&&e.mount(t),e.settings={auto:k}};P[p]={Router:{back:function(){history.back()},foward:function(){history.foward()},go:function(t){history.go(t)},destroy:function(){this.routes={},cancelAnimationFrame(this.raf.id)},nav:function(t){var e=this.settings.root;t=e?e+t:t,history.pushState(T,T,t)},config:function(t){var n=this;n.settings||(n.settings={}),e(t,function(t,e){n.settings[e]=t})},listen:function(){var t=this;t.url=T,t.raf={id:0},n(function(){var e=l.location.pathname;t.url!==e&&(t.url=e,t.changed())},60,t.raf)},on:function(n){var r,i=this;if(i.routes||(i.routes={}),i.raf||i.listen(),t(n,g))r=n;else{var n=arguments;r={},r[n[0]]=n[1]}e(r,function(t,e){var n=i.settings.root,r=[],o=/([:*])(\w+)|([\*])/g,a=e.replace(o,function(){var t=arguments,e=t[2];return e?(r.push(e),"([^/]+)"):"(?:.*)"});i.routes[e]={callback:t,pattern:n?n+a:a,variables:r}})},changed:function(){var n=this,r=n.url,i=n.routes;e(i,function(e){var n,i=e.callback,o=e.pattern,a=e.variables;if(n=r.match(new RegExp(o))){var s=n.slice(1,n[d]).reduce(function(t,e,n){return t||(t={}),t[a[n]]=e,t},T);if(!t(i,y))throw"could not find render method";l.surl.Render(i,E,s)}})}},VDOM:function(){function r(t){return"on"===t.substring(0,2)}function i(t){return t.substring(2,t[d]).toLowerCase()}function o(t,e){for(var n in e)if(r(n)){var o=e[n];o&&t.addEventListener(i(n),o,k)}}function a(t,e,n,i){if(!r(e)&&"ref"!==e){var o=(i===-1?"remove":"set")+"Attribute";return"xlink:href"===e?t.setAttributeNS(u.xlink,"href",n):void(t[e]!==E&&t.namespaceURI!==u.svg?t[e]=n:n!==u.svg&&n!==u.math&&(i===-1?t[o](e):t[o](e,n)))}}function s(t,e,n){var i=e===E||e===T,o=n===E||n===T||e!==n&&!r(t);return i?-1:o?1:void 0}function l(t,n,r,i){var o=[];r=r!==E?r:{};var u={};for(var c in n)u[c]=n[c];for(var c in r)u[c]=r[c];for(var c in u){var l=r[c],f=n[c],p=s(c,f,l),h=p===-1?l:f;p&&o.push({target:t,name:c,val:h,change:p})}if(o[d]){if(i[D]){var m=i[D].getCmp();i[D](m.props,m.state)}if(e(o,function(t){a(t.target,t.name,t.val,t.change)}),i[F]){var m=i[F].getCmp();i[F](m.props,m.state)}}}function h(t,e){for(var n in e)a(t,n,e[n],1)}function m(n,r){if(t(n,b))return c.createTextNode(n);if(n.trust&&n.$){var i=c.createElement("div"),a=c.createDocumentFragment();i.innerHTML=n.content;var s=v[p].slice.call(i.childNodes);return e(s,function(t){a.appendChild(t)}),a}var u;if(u=n.props&&n.props.xmlns?c.createElementNS(n.props.xmlns,n.type):c.createElement(n.type),h(u,n.props),o(u,n.props),t(n.children,v)&&e(n.children,function(t){u.appendChild(m(t,r))}),t(r,y)){var l=n.props,f=l?l.ref:E;if(f){var d=r(E,E,!0);d.refs={},t(f,y)?f(u):t(f,b)&&(d.refs[f]=u)}}return u}function g(e,n){var r=e[f]!==n[f],i=t(e,b)&&e!==n,o=e.type!==n.type;return r||i||o}function w(t){return t===E||t!==T&&0!==t&&t!==k||(t+=""),t}function x(t,e,n,r,i){if(r=r||0,n=w(n),e=w(e),n===E)t.appendChild(m(e,i)),e[L]&&e[L]();else if(e===E){var o=t.childNodes[r];setTimeout(function(){t.removeChild(o),n[N]&&n[N]()},0)}else if(g(e,n)){if(e[D]){var a=e[F].getCmp();e[D](a.props,a.state)}if(t.replaceChild(m(e),t.childNodes[r]),e[F]){var a=e[F].getCmp();e[F](a.props,a.state)}}else if(e.type){l(t.childNodes[r],e.props,n.props,e);for(var s=e.children[d],u=n.children[d],c=0;c<s||c<u;c++)x(t.childNodes[r],e.children[c],n.children[c],c,i)}}function C(t,e){this.mount=t,this.raf=T,this.render=e}return C[p]={update:function(){var t=this.render(),e=this.old;x(this.mount,t,e,E,this.render),this.old=t},init:function(){this.old=this.render(),this["new"]=this.old,x(this.mount,this.old,E,E,this.render)},auto:function(t){var e=this;t?(e.raf={id:1},n(function(){e.update()},60,e.raf)):cancelAnimationFrame(e.raf.id)}},C}(),Req:function(){var n=arguments,r={method:"GET"};return e(n,function(e){if(t(e,g))r.data=e;else if(t(e,y))r.callback=e;else if(t(e,b)){var n=e.toUpperCase();"POST"===n||"GET"===n?r.method=n:r.url=e}}),i(r)},Mount:function(e){var n=this;e===c?e=e.body:t(e,b)&&(e=c.querySelector(e)),e&&e.nodeType?n.parent=e:n.parent=E},Render:function(e,n,r){var r,i=this;if(n&&(t(n,b)?i.parent=c.querySelector(n):n.nodeType&&(i.parent=n)),!i.parent)throw"element to mount does not exist";if(i.parent.innerHTML="",t(e,g)){var o=e;e=i.Component({render:function(){return o}})}var a=e(E,E,!0);a[A]&&a[A](r),i.virtual=new i.VDOM(i.parent,e),i.virtual.init(),i.settings.auto&&i.virtual.auto(R)},Component:function(n){function r(t){this.type=t.type,this.props=t.props,this.children=t.children,this.$=!0}var i=this;n.props=n.props||{},n.state=n.state||{};var o=function(){var r=this;e(n,function(e,n){t(e,y)&&(e=e.bind(r)),r[n]=e})};e(["Props","State"],function(n){var r=n.toLowerCase();o[p]["set"+n]=function(n,o){var a=this;n&&(t(n,y)&&(n=n(a.state,a.props)),e(n,function(t,e){a[r][e]=t}),"state"!==r||o||i.settings.auto||!i.virtual||i.virtual.update())}});var a=new o;a[O]&&a.setState(a[O](),k),a[S]&&a.setProps(a[S]()),e(a,function(t,e){e!==A&&e!==N&&e!==q&&e!==D&&e!==L&&e!==F||(t.getCmp=function(){return a},r[p][e]=t)}),r[p][f]=g,a.render=function(){return new r(this())}.bind(a.render);var s=function(t,e,n){return e&&a.setProps({children:e}),t&&a.setProps(t),(t||e)&&a[q]&&(t&&e?t.children=e:!t&&e&&(t={},t.children=e),a[q](t)),n?a:a.render()};return s},Element:function(){function e(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type;for(t.type="div";e=r.exec(o);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])i.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var a=e[6];a&&(a=a.replace(/\\(["'])/g,"$1")),i[e[4]]=a||R}return n[d]>0&&(i["class"]=n.join(" ")),t.props=i,t}function n(e,n){return t(e,g)&&n.props.xmlns&&(e.props.xmlns=n.props.xmlns),t(e,g)||t(e,b)||t(e,v)||(e+="","null"!==e&&"undefined"!==e||(e="")),e}function r(r,i){var o,a=arguments,s=a[d],c=2;i&&i.$||!t(i,g)?(c=1,i={}):i!==T&&i!==E&&t(i,g)||(i={});var l={type:r,props:i,children:[],$:R};r.indexOf("[")===-1&&r.indexOf("#")===-1&&r.indexOf(".")===-1||(l=e(l)),"svg"!==l.type&&"math"!==l.type||l.props.xmlns||(l.props.xmlns=u[l.type]);for(var f=c;f<s;f++)if(o=a[f],t(o,v))for(var p=0;p<o[d];p++)l.children[f-c+p]=n(o[p],l);else l.children[f-c]=n(o,l);return l}return r}(),DOM:function(){e(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){l[t]=function(){var e=v[p].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})}},l.surl=new P,l.h=l.surl.Element,l.bind=o,l.trust=a,l.animate=s}();