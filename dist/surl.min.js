!function(){"use strict"
function t(){for(var t="requestAnimationFrame",n="cancelAnimationFrame",e=["ms","moz","webkit"],r=e.length,i="AnimationFrame",o=0,a=window,s=0;r>s&&!a[t];++s)a[t]=a[e[s]+"Request"+i],a[n]=a[e[s]+"Cancel"+i]||a[e[s]+"CancelRequest"+i]
a[t]||(a[t]=function(t){var n=(new Date).getTime(),e=Math.max(0,16-(n-o)),r=a.setTimeout(function(){t(n+e)},e)
return o=n+e,r}),a[n]||(a[n]=function(t){clearTimeout(t)})}function n(t,n){var e
if(t[c]===Array){var r=t.length
for(e=0;r>e;++e)if(n.call(t[e],t[e],e,t)===!1)return t}else for(e in t)if(n.call(t[e],t[e],e,t)===!1)return t
return t}function e(t,n,e){var r=(new Date).getTime()
n=n||60
var i=1e3/n
return function o(n){e.id=requestAnimationFrame(o)
var a=(new Date).getTime(),s=a-r
s>i&&(r=a-s%i,t(n))}(0)}function r(t){var n=[]
for(var e in t){var i=t[e]
n.push("object"==typeof i?r(i,e):encodeURIComponent(e)+"="+encodeURIComponent(i))}return n.join("&")}function i(t,n){var e=new XMLHttpRequest,i=window.location,o=t.url,n=t.callback,a=t.method,s=document.createElement("a")
s.href=o
var u=!(s.hostname===i.hostname&&s.port===i.port&&s.protocol===i.protocol&&"file:"!==i.protocol)
return s=null,e.open(a,o,!0),e.onerror=function(){n(this,!0)},e.onload=function(){if(n){var t,r
if(this.status>=200&&this.status<400){var i,o=e.getResponseHeader("content-type");-1!==o.indexOf(";")?(i=o.split(";"),i=i[0].split("/")):i=o.split("/"),o=i[1],r="json"===o?JSON.parse(e.responseText):"html"===o?(new DOMParser).parseFromString(e.responseText,"text/html"):e.responseText,t=[r,!1]}else t=[this,!0]
n(t[0],t[1])}},u&&(e.withCredentials=!0),"GET"!==a&&e.setRequestHeader("Content-Type",t.data[c]===Object?"application/json":"text/plain"),"POST"===a?(e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(r(t))):e.send(),e}function o(t){var r=this
t&&(r.parent=r.__$(t)),r.settings={loop:!0},r.router={url:null,nav:function(t){history.pushState(null,null,t),window.dispatchEvent(new Event("popstate"))},back:function(){history.back()},foward:function(){history.foward()},go:function(t){history.go(t)},destroy:function(){this.routes={},cancelAnimationFrame(this.raf.id)},listen:function(){var t=this,n=window.location
t.url=null,t.raf={id:0},e(function(){var e=n.pathname
t.url!==e&&(t.url=e,t.changed())},60,t.raf)},on:function(t){var e,r=this
if(r.routes||(r.routes={}),r.raf||r.listen(),t[c]!==Object){var i=arguments
e={},e[i[0]]=i[1]}else e=t
n(e,function(t,n){var e=[],i=/([:*])(\w+)|([\*])/g,o=n.replace(i,function(){var t=arguments,n=t[2]
return n?(e.push(n),"([^/]+)"):"(?:.*)"})
r.routes[n]={callback:t,pattern:o,variables:e}})},changed:function(){var t=this
n(t.routes,function(n){var e,i=n.callback,o=n.pattern,a=n.variables,s=t.url
if(e=s.match(RegExp(o))){var u=e.slice(1,e.length).reduce(function(t,n,e){return t||(t={}),t[a[e]]=n,t},null)
if(!i||i[c]!==Function)throw"could not find the render method"
i.cmp?r.mount(i,void 0,u):i(u)}}.bind(this))}}}function a(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type
for(t.type="div";n=r.exec(o);)if(""===n[1]&&n[2])t.type=n[2]
else if("#"===n[1])i.id=n[2]
else if("."===n[1])e.push(n[2])
else if("["===n[3][0]){var a=n[6]
a&&(a=a.replace(/\\(["'])/g,"$1")),i[n[4]]=a||!0}return e.length>0&&(i["class"]=e.join(" ")),t.props=i,t}function s(t,n){return t&&t[c]===Object&&n.props.xmlns&&(t.props.xmlns=n.props.xmlns),t=void 0===t||null===t||t[c]!==Object&&t[c]!==String&&t[c]!==Array?t+"":t,t="null"===t||"undefined"===t?"":t}function u(t,n){var e,r=arguments,i=r.length,o=2
n&&(n.hs||n[c]===String||n[c]===Array)?(o=1,n={}):(null===n||void 0===n||n[c]!==Object)&&(n={})
var u={type:t,props:n,children:[],hs:!0};(-1!==u.type.indexOf("[")||-1!==u.type.indexOf("#")||-1!==u.type.indexOf("."))&&(u=a(u)),("svg"===u.type||"math"===u.type)&&(u.props.xmlns||(u.props.xmlns=d[u.type]))
for(var l=o;i>l;l++)if(e=r[l],e&&e[c]===Array)for(var f=0;f<e.length;f++)u.children[l-o+f]=s(e[f],u)
else u.children[l-o]=s(e,u)
return u}function l(){function t(n){if(!f){if(n.target!=a)return
a.style.transition=null,a.style.transform=null}a.style.transformOrigin=null,a.style.willChange=null,a.classList.remove("animation-running"),document.body.classList.remove("animation-running"),a.removeEventListener("transitionend",t)}for(var n,e,r,i,o,a,s,u,l,d,f,s=u=l=d={},n=Array.prototype.slice.call(arguments),p=n.length-1;p>=0;p--){var h=n[p]
h[c]===Array?i=h.join(" "):h[c]===Number?r=h:h[c]===String?-1!==h.indexOf(",")?o=h:e=h:h.target&&(a=h.target)}if(this[c]===Number?r=this:this[c]===String?e=this:e||(e="animation-active"),e&&a){if(a.style.willChange="transform",s=a.getBoundingClientRect(),a.classList.toggle(e),u=a.getBoundingClientRect(),l.x=s.left-u.left,l.y=s.top-u.top,l.sx=s.width/u.width,l.sy=s.height/u.height,a.animate&&a.animate[c]===Function)var f=!0
if(d.first="translate("+l.x+"px,"+l.y+"px) translateZ(0) scale("+l.sx+","+l.sy+")",d.first=i?d.first+" "+i:d.first,d.last="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",d.duration=r?r:200,d.easing=o?"cubic-bezier("+o+")":"cubic-bezier(0,0,0.32,1)",a.style.transformOrigin="0 0",a.classList.add("animation-running"),document.body.classList.add("animation-running"),document.body.classList.toggle("animation-active"),f){var m=a.animate([{transform:d.first},{transform:d.last}],{duration:d.duration,easing:d.easing})
m.addEventListener("finish",t)}else a.style.transform=d.first,a.offsetWidth,a.style.transition="transform "+d.duration+"ms "+d.easing,a.style.transform=d.last
f||a.addEventListener("transitionend",t)}}var c="constructor",d={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}
o.prototype={__vdom:function(){function t(t){return"on"===t.substring(0,2)}function r(t){return t.substring(2,t.length).toLowerCase()}function i(n,e){for(var i in e)if(t(i)){var o=e[i]
o&&n.addEventListener(r(i),o,!1)}}function o(n,e,r,i){if(!t(e)){var o=(-1===i?"remove":"set")+"Attribute"
if("xlink:href"===e)return n.setAttributeNS(d.xlink,"href",r)
if(void 0!==n[e]&&n.namespaceURI!==d.svg)n[e]=r
else if(r!==d.svg&&r!==d.math)return-1===i?n[o](e):n[o](e,r)}}function a(t,n,e,r){void 0===e||null===e?o(t,n,r,-1):(void 0===r||null===r||e!==r)&&o(t,n,e,1)}function s(t,n,e){e=void 0!==e?e:{}
var r={}
for(var i in n)r[i]=n[i]
for(var i in e)r[i]=e[i]
for(var i in r)a(t,i,n[i],e[i])}function u(t,n){for(var e in n)o(t,e,n[e],1)}function l(t){if(t[c]===String)return document.createTextNode(t)
var e
return e=t.props&&t.props.xmlns?document.createElementNS(t.props.xmlns,t.type):document.createElement(t.type),u(e,t.props),i(e,t.props),t.children&&t.children[c]===Array&&n(t.children.map(l),e.appendChild.bind(e)),e}function f(t,n){var e=t[c]!==n[c],r=t[c]===String&&t!==n,i=t.type!==n.type
return e||r||i}function p(t){return void 0===t||null!==t&&0!==t&&t!==!1||(t+=""),t}function h(t,n,e,r){if(r=r?r:0,e=p(e),n=p(n),void 0===e)t.appendChild(l(n))
else if(void 0===n){var i=t.childNodes[r]
setTimeout(function(){t.removeChild(i)},0)}else if(f(n,e))t.replaceChild(l(n),t.childNodes[r])
else if(n.type){s(t.childNodes[r],n.props,e.props)
for(var o=n.children.length,a=e.children.length,u=0;o>u||a>u;u++)h(t.childNodes[r],n.children[u],e.children[u],u)}}function m(t,n){this.parent=t,this.render=n,this.raf=null}return m.prototype.update=function(){var t=this.render(),n=this.old
h(this.parent,t,n),this.old=t},m.prototype.init=function(){this.old=this.render(),h(this.parent,this.old)},m.prototype.destroy=function(){this.auto(!1),this.old=void 0,this.render=void 0,this.raf=void 0,this.parent=void 0},m.prototype.auto=function(t){var n=this
return t?(n.raf={id:1},void e(function(){n.update()},60,n.raf)):(cancelAnimationFrame(n.raf.id),n.raf.id)},m},__$:function(t){return t===document?t=t.body:t[c]===String&&(t=document.querySelector(t)),t&&t.nodeType?t:void 0},req:function(){var t=arguments,e={}
n(t,function(t){if(t[c]===Object)e.data=t
else if(t[c]===Function)e.callback=t
else if(t[c]===String){var n=t.toUpperCase()
"POST"===n||"GET"===n?e.method=n:e.url=t}}),i(e)},mount:function(t,n,e){var e,r=this
if(n&&(n[c]===String?r.parent=document.querySelector(n):n.nodeType&&(r.parent=n)),!r.parent)throw"the element to mount to does not exist"
r.parent.innerHTML="",r.vdom&&r.vdom.destroy(),t.__constructor&&t.__constructor(e),r.vdom=this.__vdom(),r.vdom=new r.vdom(r.parent,t),r.vdom.init(),this.settings.loop&&r.vdom.auto(!0)},component:function(t){t.props=t.props||{},t.state=t.state||{}
var e=function(){var e=this
n(t,function(t,n){t[c]===Function&&(t=t.bind(e)),e[n]=t})}
n(["Props","State"],function(t){var r=t.toLowerCase()
e.prototype["set"+t]=function(t){var e=this
n(t,function(t,n){e[r][n]=t})}})
var r=new e,i=function(t){return t&&r.setProps(t),r.render()}
return r.__constructor&&(i.__constructor=r.__constructor),i.cmp=!0,i},createClass:function(t){return this.component(t)}},t(),window.h=u,window.animate=l,window.surl=o}()
