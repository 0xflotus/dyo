!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):e("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var e={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},n=document,r=window,i=null,o=!1,s=!0,a=void 0,u="constructor",c="prototype",p="length",l="getInitialState",f="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,S=Object,k=Function,R=Boolean,T=String,O=XMLHttpRequest,j=encodeURIComponent,M=function(){function t(t,e){return e?t!==a&&t!==i?t[u]===e:o:!!t}return t}(),N=function(){function t(t,e){var n;if(M(t,C)||t[p]&&M(t[p],x)&&t[0]){var r=t[p];for(n=0;n<r;++n)if(e.call(t[n],t[n],n,t)===o)return t}else for(n in t)if(e.call(t[n],t[n],n,t)===o)return t;return t}return t}(),E=function(){function t(e){function n(t){try{if(t&&M(t.then,k))return void t.then(n);o=t,s="resolved",a&&r(a)}catch(e){reject(e)}}function r(t){return"pending"===s?void(a=t):void setTimeout(function(){var e;if(e="resolved"===s?t.onResolved:t.onRejected,!e)return void("resolved"===s?t.resolve(o):t.reject(o));var n;try{n=e(o),t.resolve(n)}catch(r){t.reject(r)}},0)}var o,s="pending",a=i;this.then=function(e){return new t(function(t){r({onResolved:e,resolve:t})})},this.done=function(t,e){var n=arguments[p]?this.then.apply(this,arguments):this;n.then(i,function(t){setTimeout(function(){throw t},0)})},e(n)}return t}(),L=function(){function t(t,o,a,u){return new E(function(c){var p,l=new O,f=r.location;a=a||{};var d=n.createElement("a");d.href=t;var h=!(d.hostname===f.hostname&&d.port===f.port&&d.protocol===f.protocol&&"file:"!==f.protocol);d=i,l.open(o,t,s),l.onload=function(){var t,e=l.responseText,n=l.statusText;if(this.status>=200&&this.status<400){var r,i=l.getResponseHeader("content-type");i.indexOf(";")!==-1?(r=i.split(";"),r=r[0].split("/")):r=i.split("/"),r=r[1],t="json"===r?JSON.parse(e):"html"===r?(new DOMParser).parseFromString(e,"text/html"):e,u?u(t):c(t)}else u?u(n):reject(n)},l.onerror=function(){reject(l.statusText)},h&&(l.withCredentials=s),"POST"===o?(l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p=e(a)):"GET"!==o&&(l.setRequestHeader("Content-Type",M(a,S)?"application/json":"text/plain"),p=JSON.stringify(a)),l.send(p)})}function e(t,n){var r=[];for(var i in t){var o=n?n+"["+i+"]":i,s=t[i];r.push("object"==typeof s?e(s,o):j(o)+"="+j(s))}return r.join("&")}return t}(),q=function(){function t(t,o){var s,c=arguments,l=c[p],f=2;n(o)||!M(o,S)?(f=1,o={}):o!==i&&o!==a&&M(o,S)||(o={});var d={type:t,props:o,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=e[d.type]);for(var h=f;h<l;h++)if(s=c[h],M(s,C))for(var v=0;v<s[p];v++)d.children[h-f+v]=r(s[v],d);else d.children[h-f]=r(s,d);return d}function n(t){var e=t&&t.type&&t.children&&t.props;if(!e)return o;var n=0;for(var r in t){if(n>3)break;t.hasOwnProperty(r)&&n++}return 3===n}function r(t,e){return M(t.props,S)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),M(t,S)&&n(t)||(M(t,S)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type;for(t.type="div";e=r.exec(o);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])i.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var a=e[6];a&&(a=a.replace(/\\(["'])/g,"$1")),i[e[4]]=a||s}return n[p]>0&&(i["class"]=n.join(" ")),t.props=i,t}return t}(),P=function(){function t(t,e,n,r,i){if(M(t,S)){var o=i?t:t.Component;return o&&o[e]?(n=n?M(n,R)?o.props:n:a,r=r?M(r,R)?o.state:r:a,o[e](n,r)):void 0}}return t}(),U=function(){function t(t,e,n){this.mount=t,this.render=e,n&&(this.data=n)}function r(t,e,n,i,u){if(i=i||0,n=l(n),e=l(e),P(e,b,s,s)!==o)if(n===a){var c=d(e,u);P(e,m,c),t.appendChild(c),P(e,v,c)}else if(e===a){var c=t.childNodes[i],h=P(n,g,c)||0;M(h,x)||(h=0),setTimeout(function(){t.removeChild(c)},h)}else if(f(e,n))P(e,y,s,s),t.replaceChild(d(e),t.childNodes[i]),P(e,w,s,s);else if(e.type&&!e.trust){var C=O(t.childNodes[i],e.props,n.props,e);C[p]&&(P(e,y,s,s),N(C,function(t){E(t.target,t.name,t.value,t.op)}),P(e,w,s,s));for(var S=e.children[p],k=n.children[p],R=0;R<S||R<k;R++)r(t.childNodes[i],e.children[R],n.children[R],R,u)}}function l(t){return t===a||t!==i&&0!==t&&t!==o||(t+=""),t}function f(t,e){var n=t[u]!==e[u],r=M(t,T)&&t!==e,i=t.type!==e.type;return n||r||i}function d(t,e){if(M(t,T))return n.createTextNode(t);if(t.trust){var r=n.createElement("div"),i=n.createDocumentFragment();r.innerHTML=t.children[0];var o=C[c].slice.call(r.childNodes);return N(o,function(t){i.appendChild(t)}),i}var s;if(s=t.props&&t.props.xmlns?n.createElementNS(t.props.xmlns,t.type):n.createElement(t.type),j(s,t.props),R(s,t.props),M(t.children,C)&&N(t.children,function(t){s.appendChild(d(t,e))}),M(e,k)){var u=t.props,p=u?u.ref:a;if(p){var l=e(a,a,!0);l.refs={},M(p,k)?p(s):M(p,T)&&(l.refs[p]=s)}}return s}function h(t,e){return"on"===t.substring(0,2)&&M(e,k)}function S(t){return t.substring(2,t[p]).toLowerCase()}function R(t,e){for(var n in e){var r=e[n];h(n,r)&&r&&t.addEventListener(S(n),r,o)}}function O(t,e,n,r){var o=[];n=n!==a?n:{};var s={};for(var u in e)s[u]=e[u];for(var u in n)s[u]=n[u];for(var u in s){var c=n[u],p=e[u],l=p===a||p===i,f=c===a||c===i||p!==c&&!h(u,s[u]),d=l===-1?c:p;(f||l)&&o.push({target:t,name:u,value:d,op:f||l})}return o}function j(t,e){for(var n in e)E(t,n,e[n],1)}function E(t,n,r,i){if(!h(n,r)&&"ref"!==n){var o=(i===-1?"remove":"set")+"Attribute";return"xlink:href"===n?t.setAttributeNS(e.xlink,"href",r):void(t[n]!==a&&t.namespaceURI!==e.svg?t[n]=r:r!==e.svg&&r!==e.math&&(i===-1?t[o](n):t[o](n,r)))}}return t[c]={update:function(){var t=this.render(),e=this.old;r(this.mount,t,e,a,this.render),this.old=t},init:function(){this.data?this.old=this.render(this.data):this.old=this.render(),this["new"]=this.old,r(this.mount,this.old,a,a,this.render)}},t}(),D=function(){function t(t){var e=this;t&&e.Mount(t)}return t[c]={Req:function(t,e,n,r){return e=e||"GET",L(t,e.toUpperCase(),n,r)},Mount:function(t){var e=this;t===n?t=t.body:M(t,T)&&(t=n.querySelector(t)),t&&t.nodeType?e.parent=t:e.parent=a},Render:function(t,e,r){var i=this;if(e&&(M(e,T)?i.parent=n.querySelector(e):e.nodeType&&(i.parent=e)),!i.parent)throw"element to mount does not exist";if(i.parent.innerHTML="",M(t,S)){var o=t;t=i.Component({render:function(){return o}})}i.virtual=new U(i.parent,t,r),i.virtual.init()},Component:function e(t){function n(){var e=this;N(t,function(t,n){M(t,k)&&(t=t.bind(e)),e[n]=t})}function r(t){this.type=t.type,this.props=t.props,this.children=t.children}function e(t,e,n){return t&&P(p,d,t,a,s),t&&e?t.children=e:!t&&e&&(t={},t.children=e),t&&p.setProps(t),n?p:p.render()}var i=this;if(M(t,k))return i.Component(t());t.props=t.props||{},t.state=t.state||{},N(["Props","State"],function(t){var e=t.toLowerCase();n[c]["set"+t]=function(t,n){var r=this;t&&(M(t,k)&&(t=t(r.state,r.props)),N(t,function(t,n){r[e][n]=t}),"state"===e&&!n&&i.virtual&&i.virtual.update())}});var p=new n;if(!p.render)throw"no render method";p[l]&&p.setState(p[l](),o),p[f]&&p.setProps(p[f](),o),N(p,function(t,e){r[c].Component=p}),r[c][u]=S;var h=p.render;return p.render=function(){return new r(h())},e},DOM:function(){N(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var e=C[c].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})},Route:function(t){function e(){this.settings={},this.url=i,this.interval=i,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var e=this.settings.addr;t=e?e+t:t,history.pushState(i,i,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var e=this;N(t,function(t,n){e.settings[n]=t})},this.init=function(){var t=this,e=function(){var e=r.location.pathname;t.url!==e&&(t.url=e,t.changed())};clearInterval(t.interval),t.interval=setInterval(e,50)},this.on=function(t){var e,n=this;if(n.routes||(n.routes={}),M(t,S))e=t;else{var t=arguments;e={},e[t[0]]=t[1]}N(e,function(t,e){var r=n.settings.addr,i=[],o=/([:*])(\w+)|([\*])/g,s=e.replace(o,function(){var t=arguments,e=t[2];return e?(i.push(e),"([^/]+)"):"(?:.*)"}),s=s+"$";n.routes[e]={callback:t,pattern:r?r+s:s,variables:i}})},this.changed=function(){var t=this.url,e=this.routes;N(e,function(e){var r,o=e.callback,s=e.pattern,u=e.variables;if(r=t.match(new RegExp(s))){var c=r.slice(1,r[p]).reduce(function(t,e,n){return t||(t={}),t[u[n]]=e,t},i);if(!M(o,k))throw"could not find render method";n.Render(o,a,c)}})}}var n=this,o=t.mount,s=t.addr,u=t.init,c=t.routes,l=new e;o&&n.Mount(o),s&&l.config({addr:s}),c&&l.on(c),l.init(),u&&l.nav(u),n.route=l},Element:q},t}(),H=function(){function t(t,e,n){return function(){var r=this,o=t in r?r[t]:r.getAttribute(t);if(o!==a&&o!==i){var s={};s[n]=o,e.setState(s)}}}return t}(),I=function(){function t(t){function e(){this.type="p",this.props={},this.children=[t]}return e[c].trust=s,e[c][u]=S,new e}return t}(),W=function(){function t(t,r,o,a,u){return function(c){function p(t){if(!d){if(t.target!==c)return;e(g,"transition",i),e(g,"transform",i)}e(g,"transformOrigin",i),g.willChange&&(g.willChange=i),y.remove(b),w.remove(b),c.removeEventListener(x,p)}if(o=o||"",M(c,T)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var l,f,d,h={},v={},m={},c=c.currentTarget||c,g=c.style,y=c.classList,w=n.body.classList,b="animate-running",x="transitionend";if(M(c.animate,k)&&(d=s),g.willChange&&(g.willChange="transform"),v[1]=getComputedStyle(c).opacity,l=c.getBoundingClientRect(c),t&&y.toggle(t),f=t?c.getBoundingClientRect(c):l,v[2]=getComputedStyle(c).opacity,m.x=l.left-f.left,m.y=l.top-f.top,m.sx=l.width/f.width,m.sy=l.height/f.height,r=r||200,u=u||"cubic-bezier(0,0,0.32,1)",h[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",h[1]=h[1]+" "+o,h[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",console.log(o),a&&e(g,"transformOrigin",a),y.add(b),w.add(b),d){var C=c.animate([{transform:h[1],opacity:v[1]},{transform:h[2],opacity:v[2]}],{duration:r,easing:u});C.addEventListener("finish",p)}else g.opacity=v[1],e(g,"transform",h[1]),c.offsetWidth,e(g,"transition","transform "+r+"ms "+u+", opacity "+r+"ms "+u),g.opacity=v[2],e(g,"transform",h[2]);return d||c.addEventListener(x,p),r}}function e(t,e,n){if(t&&t[e]===i)for(var r=["webkit","Webkit","Moz","ms"],o=0;o<r[p];o++)e=r[o]+e[0].toUpperCase()+e.slice(1),t[e]!==a&&(t[e]=n);else t[e]=n}return t}(),A=function(){function t(t){function e(){return arguments[p]&&(t=arguments[0]),t}return e.toJSON=function(){return t},e}return t}();t.prop=A,t.surl=D,t.h=q,t.bind=H,t.trust=I,t.animate=W});