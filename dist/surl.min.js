!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):e("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var e={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},n=document,r=window,o=null,i=!1,s=!0,a=void 0,u="constructor",c="prototype",f="length",p="getInitialState",l="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,k=Object,S=Function,T=Boolean,R=String,j=XMLHttpRequest,L=encodeURIComponent,O=function(){function t(t,e){return e?t!==a&&t!==o?t[u]===e:i:!!t}return t}(),M=function(){function t(e,n,r){var o;if(r)return t(e,function(e){t(e,n)});if(O(e,C)||e[f]&&O(e[f],x)&&e[0]){var s=e[f];for(o=0;o<s;++o)if(n.call(e[o],e[o],o,e)===i)return e}else for(o in e)if(n.call(e[o],e[o],o,e)===i)return e;return e}return t}(),N=function(){function t(t,a,u,c){return new i(function(i,f){var p,l=new j,d=r.location,h=n.createElement("a");h.href=t;var v=!(h.hostname===d.hostname&&h.port===d.port&&h.protocol===d.protocol&&"file:"!==d.protocol);h=o,l.open(a,t,s),l.onload=function(){var t,e=l.responseText,n=l.statusText;if(l.status>=200&&l.status<400){var r,o=l.getResponseHeader("content-type");o.indexOf(";")!==-1?(r=o.split(";"),r=r[0].split("/")):r=o.split("/"),r=r[1],t="json"===r?JSON.parse(e):"html"===r?(new DOMParser).parseFromString(e,"text/html"):e,c?c(t):i(t)}else c?c(n):f(n)},l.onerror=function(){f(l.statusText)},v&&(l.withCredentials=s),"POST"===a?(l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p=e(u)):"GET"!==a&&(l.setRequestHeader("Content-Type",O(u,k)?"application/json":"text/plain"),p=JSON.stringify(u)),l.send(p)})}function e(t,n){var r=[];for(var o in t){var i=n?n+"["+o+"]":o,s=t[o];r.push("object"==typeof s?e(s,i):L(i)+"="+L(s))}return r.join("&")}function i(t){function e(t){a="rejected",s=t,u&&r(u)}function n(t){try{if(t&&O(t.then,S))return void t.then(n,e);s=t,a="resolved",u&&r(u)}catch(o){e(o)}}function r(t){return"pending"===a?void(u=t):void setTimeout(function(){var e;if(e="resolved"===a?t.onResolved:t.onRejected,!e)return void("resolved"===a?t.resolve(s):t.reject(s));var n;try{n=e(s),t.resolve(n)}catch(r){t.reject(r)}},0)}var s,a="pending",u=o;this.then=function(t,e){return new i(function(n,o){r({onResolved:t,onRejected:e,resolve:n,reject:o})})},this.done=function(t,e){var n=arguments[f]?this.then.apply(this,arguments):this;n.then(o,function(t){setTimeout(function(){throw t},0)})},t(n,e)}return t}(),E=function(){function t(t,i){var s,c=arguments,p=c[f],l=2;n(i)||!O(i,k)?(l=1,i={}):i!==o&&i!==a&&O(i,k)||(i={});var d={type:t,props:i,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=e[d.type]);for(var h=l;h<p;h++)if(s=c[h],O(s,C))for(var v=0;v<s[f];v++)d.children[h-l+v]=r(s[v],d);else d.children[h-l]=r(s,d);return d}function n(t){var e=t&&t.type&&t.children&&t.props;if(!e)return i;var n=0;for(var r in t){if(n>3)break;t.hasOwnProperty(r)&&n++}return 3===n}function r(t,e){return t&&O(t.props,k)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),O(t,k)&&n(t)||(O(t,k)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o=t.props?t.props:{},i=t.type;for(t.type="div";e=r.exec(i);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])o.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var a=e[6];a&&(a=a.replace(/\\(["'])/g,"$1")),o[e[4]]=a||s}return n[f]>0&&(o["class"]=n.join(" ")),t.props=o,t}return t}(),q=function(){function t(t,e,n,r,o){if(t&&(t.Component||t.render)){var i=o?t:t.Component;return i&&i[e]?(n=n?O(n,T)?i.props:n:a,r=r?O(r,T)?i.state:r:a,i[e](n,r)):void 0}}return t}(),U=function(){function t(t,e,n,o){o&&q(e,m),r(t,e,n,a,o)}function r(t,e,n,o,u){function c(){d&&t.removeChild(d)}if(o=o||0,q(e,b,s,s)!==i)if(n===a){var d=l(e,u);u&&q(e,v,d),t.appendChild(d)}else if(e===a){var d=t.childNodes[o];O(requestAnimationFrame,S)?requestAnimationFrame(c):setTimeout(c,0)}else if(p(e,n)){var h=t.childNodes[o],d=l(e);t.replaceChild(d,h)}else if(e.type&&!e.trust){var m=x(t.childNodes[o],e.props,n.props,e);m[f]&&(q(e,y,s,s),M(m,function(t){T(t.target,t.name,t.value,t.op)}),q(e,w,s,s));for(var g=e.children[f],C=n.children[f],k=0;k<g||k<C;k++)r(t.childNodes[o],e.children[k],n.children[k],k)}}function p(t,e){var n=t[u]!==e[u],r=O(t,R)&&t!==e,o=t.type!==e.type,s=i;return t.props&&e.props&&(s=t.props.key!==e.props.key),s||r||o||n}function l(t,e){if(O(t,R))return n.createTextNode(t);if(t.trust){var r=n.createElement("div"),o=n.createDocumentFragment();r.innerHTML=t.children[0];var i=C[c].slice.call(r.childNodes);return M(i,function(t){o.appendChild(t)}),o}var s;if(s=t.props&&t.props.xmlns?n.createElementNS(t.props.xmlns,t.type):n.createElement(t.type),k(s,t.props),g(s,t.props),O(t.children,C)&&M(t.children,function(t){s.appendChild(l(t,e))}),e){var u=t.props,f=u?u.ref:a;f&&(e.refs=e.refs||{},O(f,S)?f(s):O(f,R)&&(e.refs[f]=s))}return s}function d(t,e){return"on"===t.substring(0,2)&&O(e,S)}function h(t){return t.substring(2,t[f]).toLowerCase()}function g(t,e){for(var n in e){var r=e[n];d(n,r)&&r&&t.addEventListener(h(n),r,i)}}function x(t,e,n,r){var i=[];n=n!==a?n:{};var s={};for(var u in e)s[u]=e[u];for(var u in n)s[u]=n[u];for(var u in s){var c=n[u],f=e[u],p=f===a||f===o,l=c===a||c===o||f!==c&&!d(u,s[u]),h=p===-1?c:f;(l||p)&&i.push({target:t,name:u,value:h,op:l||p})}return i}function k(t,e){for(var n in e)T(t,n,e[n],1)}function T(t,n,r,o){if(!d(n,r)&&"ref"!==n&&"key"!==n){var i=(o===-1?"remove":"set")+"Attribute";return"xlink:href"===n?t.setAttributeNS(e.xlink,"href",r):void(t[n]!==a&&t.namespaceURI!==e.svg?t[n]=r:r!==e.svg&&r!==e.math&&(o===-1?t[i](n):t[i](n,r)))}}return t}(),P=function(){function t(t){var e=this;t&&e.Mount(t)}return t[c]={Req:function(t,e,n,r){return e=e||"GET",n=n||{},N(t,e.toUpperCase(),n,r)},Mount:function(t){var e=this;t===n?t=t.body:O(t,R)&&(t=n.querySelector(t)),t&&t.nodeType?e.mount=t:e.mount=a},Render:function(t,e,r){var o=this;if(e&&(O(e,R)?o.mount=n.querySelector(e):e.nodeType&&(o.mount=e)),!o.mount)throw"element to mount does not exist";var i=o.component;if(i&&(i=i(a,a,!0),q(i,g,a,a,s)),o.mount.innerHTML="",O(t,k)){var u=t;t=o.Component({render:function(){return u}})}t=t||o.component,o.render=t(r),o.component=t,U(o.mount,o.render,a,t(a,a,s))},Component:function e(t){function n(){var e=this;M(t,function(t,n){O(t,S)&&(t=t.bind(e)),e[n]=t})}function r(t){var e=this;e.type=t.type,e.props=t.props,e.children=t.children}function e(t,e,n){return t&&q(f,d,t,a,s),t&&e?t.children=e:!t&&e&&(t={},t.children=e),t&&f.setProps(t),n?f:f.render()}var o=this;if(O(t,S))return o.Component(t());t.props={},t.state={},M(["Props","State","forceUpdate"],function(t){var e=t.toLowerCase();"Props"===t||"State"===t?n[c]["set"+t]=function(t,n,r){var i=this;if(t){if(O(t,S)&&(t=t(i.state,i.props)),!O(t,k))throw"setState() takes an object or a function that returns an object";if(M(t,function(t,n){i[e][n]=t}),"state"===e&&!r&&o.render){var s=o.component();U(o.mount,s,o.render),o.render=s}}}:"forceUpdate"===t&&(n[c].forceUpdate=function(t){U(o.mount,o.component(),o.render),O(t,S)&&t()})});var f=new n;if(!f.render)throw"no render method";f[p]&&f.setState(f[p](),a,i),f[l]&&f.setProps(f[l](),a,i),M(f,function(t,e){r[c].Component=f}),r[c][u]=k;var h=f.render;return f.render=function(){return new r(h())},e},DOM:function(){M(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var e=C[c].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})},Route:function(t){function e(){this.settings={},this.url=o,this.interval=o,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var e=this.settings.addr;t=e?e+t:t,history.pushState(o,o,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var e=this;M(t,function(t,n){e.settings[n]=t})},this.init=function(){var t=this,e=function(){var e=r.location.pathname;t.url!==e&&(t.url=e,t.changed())};clearInterval(t.interval),t.interval=setInterval(e,50)},this.on=function(t){var e,n=this;if(n.routes||(n.routes={}),O(t,k))e=t;else{var t=arguments;e={},e[t[0]]=t[1]}M(e,function(t,e){var r=n.settings.addr,o=[],i=/([:*])(\w+)|([\*])/g,s=e.replace(i,function(){var t=arguments,e=t[2];return e?(o.push(e),"([^/]+)"):"(?:.*)"}),s=s+"$";n.routes[e]={callback:t,pattern:r?r+s:s,variables:o}})},this.changed=function(){var t=this.url,e=this.routes;M(e,function(e){var r,i=e.callback,s=e.pattern,u=e.variables;if(r=t.match(new RegExp(s))){var c=r.slice(1,r[f]).reduce(function(t,e,n){return t||(t={}),t[u[n]]=e,t},o);if(!O(i,S))throw"could not find render method";n.Render(i,a,c)}})}}var n=this,i=t.mount,s=t.addr,u=t.init,c=t.routes,p=new e;i&&n.Mount(i),s&&p.config({addr:s}),c&&p.on(c),p.init(),u&&p.nav(u),n.route=p},Element:E,createElement:E,createClass:function(t){return this.Component(t)}},t}(),A=function(){function t(t,e,n){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t);if(i!==a&&i!==o){var s={};s[n]=i,e.setState(s)}}}return t}(),D=function(){function t(t){function e(){this.type="p",this.props={},this.children=[t]}return e[c].trust=s,e[c][u]=k,new e}return t}(),F=function(){function t(t,e,i,a,u){return function(c,f){function p(t){if(!h){if(t.target!==c)return;r(g,"transition",o),r(g,"transform",o)}r(g,"transformOrigin",o),g.willChange&&(g.willChange=o),c.classList.remove(w),y.classList.remove(w),c.removeEventListener(b,p),f&&f(c)}if(i=i||"",O(c,R)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},c=c.currentTarget||c,g=c.style,y=document.body,w="animation-running",b="transitionend";if(O(c.animate,S)&&(h=s),g.willChange&&(g.willChange="transform"),l=n(c),t&&c.classList.toggle(t),d=t?n(c):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,e=e||200,u=u||"cubic-bezier(0,0,0.32,1)",v[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",v[1]=v[1]+" "+i,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",a&&r(g,"transformOrigin",a),c.classList.add(w),y.classList.add(w),h){var x=c.animate([{transform:v[1]},{transform:v[2]}],{duration:e,easing:u});x.addEventListener("finish",p)}else r(g,"transform",v[1]),c.offsetWidth,r(g,"transition","transform "+e+"ms "+u+", opacity "+e+"ms "+u),r(g,"transform",v[2]);return h||c.addEventListener(b,p),e}}function e(t){return function(e,n){e.classList.add(t);var r=0,o=getComputedStyle(e)["transition-duration"].replace(/s| /g,"").split(",");M(o,function(t){r+=1e3*parseFloat(t)}),setTimeout(function(){n(e)},r)}}function n(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}function r(t,e,n){if(t&&t[e]===o)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[f];i++)e=r[i]+e[0].toUpperCase()+e.slice(1),t[e]!==a&&(t[e]=n);else t[e]=n}return{flip:t,transition:e}}(),H=function(){function t(t){function e(){var e=arguments;return e[f]&&(t=e[0]),t}return e.toJSON=function(){return t},e}return t}();t.prop=H,t.surl=P,t.h=E,t.bind=A,t.trust=D,t.animate=F});