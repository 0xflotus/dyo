!function(){"use strict";var t={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},n=document,e=window,r=null,i=!1,o=!0,a=void 0,s="constructor",u="prototype",c="length",l="getInitialState",f="getDefaultProps",p="componentWillReceiveProps",d="componentDidMount",v="componentWillMount",m="componentWillUnmount",g="componentWillUpdate",y="componentDidUpdate",b=Number,w=Array,x=Object,C=Function,k=String,S=XMLHttpRequest,T=encodeURIComponent,R=function(){function t(t,n){return n?t!==a&&t!==r?t[s]===n:i:!!t}return t}(),E=function(){function t(t,n){var e;if(R(t,w)||t[c]&&R(t[c],b)&&t[0]){var r=t[c];for(e=0;e<r;++e)if(n.call(t[e],t[e],e,t)===i)return t}else for(e in t)if(n.call(t[e],t[e],e,t)===i)return t;return t}return t}(),L=function(){function t(t,s){var u=new S,c=e.location,l=t.url,s=t.callback,f=t.method,p=t.data||{},d=n.createElement("a");d.href=l;var h=!(d.hostname===c.hostname&&d.port===c.port&&d.protocol===c.protocol&&"file:"!==c.protocol);return d=r,u.open(f,l,o),u.onerror=function(){s(this,o)},u.onload=function(){if(s){var t,n,e=u.responseText;if(this.status>=200&&this.status<400){var r,a=u.getResponseHeader("content-type");a.indexOf(";")!==-1?(r=a.split(";"),r=r[0].split("/")):r=a.split("/"),r=r[1],n="json"===r?JSON.parse(e):"html"===r?(new DOMParser).parseFromString(e,"text/html"):e,t=[n,i]}else t=[this,o];s(t[0],t[1])}},h&&(u.withCredentials=o),"GET"!==f&&u.setRequestHeader("Content-Type",R(p,x)?"application/json":"text/plain"),"POST"===f?(u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(a(p))):u.send(),u}function a(t,n){var e=[];for(var r in t){var i=n?n+"["+r+"]":r,o=t[r];e.push("object"==typeof o?a(o,i):T(i)+"="+T(o))}return e.join("&")}return t}(),M=function(){function n(n,s){var u,l=arguments,f=l[c],p=2;s&&s.$||!R(s,x)?(p=1,s={}):s!==r&&s!==a&&R(s,x)||(s={});var d={type:n,props:s,children:[],$:o};n.indexOf("[")===-1&&n.indexOf("#")===-1&&n.indexOf(".")===-1||(d=e(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=t[d.type]);for(var h=p;h<f;h++)if(u=l[h],R(u,w))for(var v=0;v<u[c];v++)d.children[h-p+v]=i(u[v],d);else d.children[h-p]=i(u,d);return d}function e(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},a=t.type;for(t.type="div";n=r.exec(a);)if(""===n[1]&&n[2])t.type=n[2];else if("#"===n[1])i.id=n[2];else if("."===n[1])e.push(n[2]);else if("["===n[3][0]){var s=n[6];s&&(s=s.replace(/\\(["'])/g,"$1")),i[n[4]]=s||o}return e[c]>0&&(i["class"]=e.join(" ")),t.props=i,t}function i(t,n){return R(t,x)&&n.props.xmlns&&(t.props.xmlns=n.props.xmlns),R(t,x)||R(t,k)||R(t,w)||(t+="","null"!==t&&"undefined"!==t||(t="")),t}return n}(),O=function(){function t(t,n,e,r,i){var o=i?t:t.__;o&&o[n]&&(e=e?o.props:e,r=r?o.state:r,o[n](e,r))}return t}(),N=function(){function e(t,n){this.mount=t,this.render=n}function o(t,n,e,r,i){if(r=r||0,e=l(e),n=l(n),e===a)t.appendChild(p(n,i)),O(n,d);else if(n===a){var s=t.childNodes[r];setTimeout(function(){t.removeChild(s),O(e,m)},0)}else if(f(n,e))O(n,g,!0,!0),t.replaceChild(p(n),t.childNodes[r]),O(n,y,!0,!0);else if(n.type){var u=x(t.childNodes[r],n.props,e.props,n);u[c]&&(O(n,g,!0,!0),E(u,function(t){T(t.target,t.name,t.value,t.op)}),O(n,y,!0,!0));for(var h=n.children[c],v=e.children[c],b=0;b<h||b<v;b++)o(t.childNodes[r],n.children[b],e.children[b],b,i)}}function l(t){return t===a||t!==r&&0!==t&&t!==i||(t+=""),t}function f(t,n){var e=t[s]!==n[s],r=R(t,k)&&t!==n,i=t.type!==n.type;return e||r||i}function p(t,e){if(R(t,k))return n.createTextNode(t);if(t.trust&&t.$){var r=n.createElement("div"),i=n.createDocumentFragment();r.innerHTML=t.content;var o=w[u].slice.call(r.childNodes);return E(o,function(t){i.appendChild(t)}),i}var s;if(s=t.props&&t.props.xmlns?n.createElementNS(t.props.xmlns,t.type):n.createElement(t.type),S(s,t.props),b(s,t.props),R(t.children,w)&&E(t.children,function(t){s.appendChild(p(t,e))}),R(e,C)){var c=t.props,l=c?c.ref:a;if(l){var f=e(a,a,!0);f.refs={},R(l,C)?l(s):R(l,k)&&(f.refs[l]=s)}}return s}function h(t,n){return"on"===t.substring(0,2)&&R(n,C)}function v(t){return t.substring(2,t[c]).toLowerCase()}function b(t,n){for(var e in n){var r=n[e];h(e,r)&&r&&t.addEventListener(v(e),r,i)}}function x(t,n,e,i){var o=[];e=e!==a?e:{};var s={};for(var u in n)s[u]=n[u];for(var u in e)s[u]=e[u];for(var u in s){var c=e[u],l=n[u],f=l===a||l===r,p=c===a||c===r||l!==c&&!h(u,s[u]),d=f===-1?c:l;(p||f)&&o.push({target:t,name:u,value:d,op:p||f})}return o}function S(t,n){for(var e in n)T(t,e,n[e],1)}function T(n,e,r,i){if(!h(e,r)&&"ref"!==e){var o=(i===-1?"remove":"set")+"Attribute";return"xlink:href"===e?n.setAttributeNS(t.xlink,"href",r):void(n[e]!==a&&n.namespaceURI!==t.svg?n[e]=r:r!==t.svg&&r!==t.math&&(i===-1?n[o](e):n[o](e,r)))}}return e[u]={update:function(){var t=this.render(),n=this.old;o(this.mount,t,n,a,this.render),this.old=t},init:function(){this.old=this.render(),this["new"]=this.old,o(this.mount,this.old,a,a,this.render)}},e}(),q=function(){function t(t){var n=this;t&&n.mount(t)}return t[u]={Req:function(){var t=arguments,n={method:"GET"};return E(t,function(t){if(R(t,x))n.data=t;else if(R(t,C))n.callback=t;else if(R(t,k)){var e=t.toUpperCase();"POST"===e||"GET"===e?n.method=e:n.url=t}}),L(n)},Mount:function(t){var e=this;t===n?t=t.body:R(t,k)&&(t=n.querySelector(t)),t&&t.nodeType?e.parent=t:e.parent=a},Render:function(t,e,r){var r,i=this;if(e&&(R(e,k)?i.parent=n.querySelector(e):e.nodeType&&(i.parent=e)),!i.parent)throw"element to mount does not exist";if(i.parent.innerHTML="",R(t,x)){var o=t;t=i.Component({render:function(){return o}})}var s=t(a,a,!0);O(s,v,r,a,!0),i.virtual=new N(i.parent,t),i.virtual.init()},Component:function(t){function n(t){this.type=t.type,this.props=t.props,this.children=t.children,this.$=!0}var e=this;t.props=t.props||{},t.state=t.state||{};var r=function(){var n=this;E(t,function(t,e){R(t,C)&&(t=t.bind(n)),n[e]=t})};E(["Props","State"],function(t){var n=t.toLowerCase();r[u]["set"+t]=function(t,r){var i=this;t&&(R(t,C)&&(t=t(i.state,i.props)),E(t,function(t,e){i[n][e]=t}),"state"===n&&!r&&e.virtual&&e.virtual.update())}});var o=new r;o[l]&&o.setState(o[l](),i),o[f]&&o.setProps(o[f]()),E(o,function(t,e){n[u].__=o}),n[u][s]=x,o.render=function(){return new n(this())}.bind(o.render);var c=function(t,n,e){return t&&O(o,p,t,a,!0),t&&n?t.children=n:!t&&n&&(t={},t.children=n),t&&o.setProps(t),e?o:o.render()};return c},DOM:function(){E(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){e[t]=function(){var n=w[u].slice.call(arguments);return n.unshift(t),h.apply(null,n)}})},Route:function(t){function n(){this.settings={},this.url=r,this.interval=r,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var n=this.settings.addr;t=n?n+t:t,history.pushState(r,r,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var n=this;E(t,function(t,e){n.settings[e]=t})},this.init=function(){var t=this,n=function(){var n=e.location.pathname;t.url!==n&&(t.url=n,t.changed())};clearInterval(t.interval),t.interval=setInterval(n,50)},this.on=function(t){var n,e=this;if(e.routes||(e.routes={}),R(t,x))n=t;else{var t=arguments;n={},n[t[0]]=t[1]}E(n,function(t,n){var r=e.settings.addr,i=[],o=/([:*])(\w+)|([\*])/g,a=n.replace(o,function(){var t=arguments,n=t[2];return n?(i.push(n),"([^/]+)"):"(?:.*)"}),a=a+"$";e.routes[n]={callback:t,pattern:r?r+a:a,variables:i}})},this.changed=function(){var t=this.url,n=this.routes;E(n,function(n){var e,o=n.callback,s=n.pattern,u=n.variables;if(e=t.match(new RegExp(s))){var l=e.slice(1,e[c]).reduce(function(t,n,e){return t||(t={}),t[u[e]]=n,t},r);if(!R(o,C))throw"could not find render method";i.Render(o,a,l)}})}}var i=this,o=t.mount,s=t.addr,u=t.init,l=t.routes,f=new n;o&&i.Mount(o),s&&f.config({addr:s}),l&&f.on(l),f.init(),u&&f.nav(u),i.route=f},Element:M},t}(),P=function(){function t(t,n,e){return function(){var i=this,o=t in i?i[t]:i.getAttribute(t);if(o!==a&&o!==r){var s={};s[e]=o,n.setState(s)}}}return t}(),j=function(){function t(t){return{content:t,trust:o,$:o}}return t}(),$=function(){function t(t,e,i,a,s){return function(u){function c(t){if(!p){if(t.target!==u)return;h.transition=r,h.transform=r}h.transformOrigin=r,h.willChange=r,v.remove(g),m.remove(g),u.removeEventListener(y,c)}if(R(u,k)&&(u=document.querySelector(u)),!u&&u.nodeType)throw"can't animate without an element";var l,f,p,d={},u=u.currentTarget||u,h=u.style,v=u.classList,m=n.body.classList,g="animation-running",y="transitionend";if(e){if(R(u.animate,C)&&(p=o),h.willChange="transform",l=u.getBoundingClientRect(u),v.toggle(e),f=u.getBoundingClientRect(u),d.x=l.left-f.left,d.y=l.top-f.top,d.sx=l.width/f.width,d.sy=l.height/f.height,t=t||200,s=s||"cubic-bezier(0,0,0.32,1)",l="translate("+d.x+"px,"+d.y+"px) translateZ(0) scale("+d.sx+","+d.sy+")",l=i?l+" "+i:l,f="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",a&&(h.transformOrigin=a),v.add(g),m.add(g),p){var b=u.animate([{transform:l},{transform:f}],{duration:t,easing:s});b.addEventListener("finish",c)}else h.transform=l,u.offsetWidth,h.transition="transform "+t+"ms "+s,h.transform=f;p||u.addEventListener(y,c)}}}return t}();e.surl=q,e.h=M,e.bind=P,e.trust=j,e.animate=$}();