!function(){"use strict";var t={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},e=document,n=window,r=null,i=!1,o=!0,a=void 0,s="constructor",u="prototype",c="length",l="getInitialState",p="getDefaultProps",f="componentWillReceiveProps",d="componentDidMount",v="componentWillMount",m="componentWillUnmount",g="componentWillUpdate",y="componentDidUpdate",w=Number,b=Array,x=Object,C=Function,k=String,S=XMLHttpRequest,T=encodeURIComponent,M=function(){function t(t,e){return e?t!==a&&t!==r?t[s]===e:i:!!t}return t}(),O=function(){function t(t,e){var n;if(M(t,b)||t[c]&&M(t[c],w)&&t[0]){var r=t[c];for(n=0;n<r;++n)if(e.call(t[n],t[n],n,t)===i)return t}else for(n in t)if(e.call(t[n],t[n],n,t)===i)return t;return t}return t}(),R=function(){function t(t,s){var u=new S,c=n.location,l=t.url,s=t.callback,p=t.method,f=t.data||{},d=e.createElement("a");d.href=l;var h=!(d.hostname===c.hostname&&d.port===c.port&&d.protocol===c.protocol&&"file:"!==c.protocol);return d=r,u.open(p,l,o),u.onerror=function(){s(this,o)},u.onload=function(){if(s){var t,e,n=u.responseText;if(this.status>=200&&this.status<400){var r,a=u.getResponseHeader("content-type");a.indexOf(";")!==-1?(r=a.split(";"),r=r[0].split("/")):r=a.split("/"),r=r[1],e="json"===r?JSON.parse(n):"html"===r?(new DOMParser).parseFromString(n,"text/html"):n,t=[e,i]}else t=[this,o];s(t[0],t[1])}},h&&(u.withCredentials=o),"GET"!==p&&u.setRequestHeader("Content-Type",M(f,x)?"application/json":"text/plain"),"POST"===p?(u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(a(f))):u.send(),u}function a(t,e){var n=[];for(var r in t){var i=e?e+"["+r+"]":r,o=t[r];n.push("object"==typeof o?a(o,i):T(i)+"="+T(o))}return n.join("&")}return t}(),E=function(){function e(e,i){var o,l=arguments,p=l[c],f=2;n(i)||!M(i,x)?(f=1,i={}):i!==r&&i!==a&&M(i,x)||(i={});var d={type:e,props:i,children:[]};e.indexOf("[")===-1&&e.indexOf("#")===-1&&e.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=t[d.type]);for(var h=f;h<p;h++)if(o=l[h],M(o,b))for(var v=0;v<o[c];v++)d.children[h-f+v]=s(o[v],d);else d.children[h-f]=s(o,d);return d}function n(t){var e=t&&t.type&&t.children&&t.props;if(!e)return i;var n=0;for(var r in t){if(n>3)break;t.hasOwnProperty(r)&&n++}return 3===n}function s(t,e){return M(t.props,x)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),M(t,x)&&n(t)||(M(t,x)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},a=t.type;for(t.type="div";e=r.exec(a);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])i.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var s=e[6];s&&(s=s.replace(/\\(["'])/g,"$1")),i[e[4]]=s||o}return n[c]>0&&(i["class"]=n.join(" ")),t.props=i,t}return e}(),L=function(){function t(t,e,n,r,i){var o=i?t:t.cmp;o&&o[e]&&(n=n?M(n,x)?n:o.props:n,r=r?M(r,x)?r:o.state:r,o[e](n,r))}return t}(),N=function(){function n(t,e){this.mount=t,this.render=e}function o(t,e,n,r,i){if(r=r||0,n=l(n),e=l(e),n===a)t.appendChild(f(e,i)),L(e,d);else if(e===a){var s=t.childNodes[r];setTimeout(function(){t.removeChild(s),L(n,m)},0)}else if(p(e,n))L(e,g,!0,!0),t.replaceChild(f(e),t.childNodes[r]),L(e,y,!0,!0);else if(e.type&&!e.trust){var u=x(t.childNodes[r],e.props,n.props,e);u[c]&&(L(e,g,!0,!0),O(u,function(t){T(t.target,t.name,t.value,t.op)}),L(e,y,!0,!0));for(var h=e.children[c],v=n.children[c],w=0;w<h||w<v;w++)o(t.childNodes[r],e.children[w],n.children[w],w,i)}}function l(t){return t===a||t!==r&&0!==t&&t!==i||(t+=""),t}function p(t,e){var n=t[s]!==e[s],r=M(t,k)&&t!==e,i=t.type!==e.type;return n||r||i}function f(t,n){if(M(t,k))return e.createTextNode(t);if(t.trust){var r=e.createElement("div"),i=e.createDocumentFragment();r.innerHTML=t.children[0];var o=b[u].slice.call(r.childNodes);return O(o,function(t){i.appendChild(t)}),i}var s;if(s=t.props&&t.props.xmlns?e.createElementNS(t.props.xmlns,t.type):e.createElement(t.type),S(s,t.props),w(s,t.props),M(t.children,b)&&O(t.children,function(t){s.appendChild(f(t,n))}),M(n,C)){var c=t.props,l=c?c.ref:a;if(l){var p=n(a,a,!0);p.refs={},M(l,C)?l(s):M(l,k)&&(p.refs[l]=s)}}return s}function h(t,e){return"on"===t.substring(0,2)&&M(e,C)}function v(t){return t.substring(2,t[c]).toLowerCase()}function w(t,e){for(var n in e){var r=e[n];h(n,r)&&r&&t.addEventListener(v(n),r,i)}}function x(t,e,n,i){var o=[];n=n!==a?n:{};var s={};for(var u in e)s[u]=e[u];for(var u in n)s[u]=n[u];for(var u in s){var c=n[u],l=e[u],p=l===a||l===r,f=c===a||c===r||l!==c&&!h(u,s[u]),d=p===-1?c:l;(f||p)&&o.push({target:t,name:u,value:d,op:f||p})}return o}function S(t,e){for(var n in e)T(t,n,e[n],1)}function T(e,n,r,i){if(!h(n,r)&&"ref"!==n){var o=(i===-1?"remove":"set")+"Attribute";return"xlink:href"===n?e.setAttributeNS(t.xlink,"href",r):void(e[n]!==a&&e.namespaceURI!==t.svg?e[n]=r:r!==t.svg&&r!==t.math&&(i===-1?e[o](n):e[o](n,r)))}}return n[u]={update:function(){var t=this.render(),e=this.old;o(this.mount,t,e,a,this.render),this.old=t},init:function(){this.old=this.render(),this["new"]=this.old,o(this.mount,this.old,a,a,this.render)}},n}(),q=function(){function t(t){var e=this;t&&e.Mount(t)}return t[u]={Req:function(){var t=arguments,e={method:"GET"};return O(t,function(t){if(M(t,x))e.data=t;else if(M(t,C))e.callback=t;else if(M(t,k)){var n=t.toUpperCase();"POST"===n||"GET"===n?e.method=n:e.url=t}}),R(e)},Mount:function(t){var n=this;t===e?t=t.body:M(t,k)&&(t=e.querySelector(t)),t&&t.nodeType?n.parent=t:n.parent=a},Render:function(t,n,r){var r,i=this;if(n&&(M(n,k)?i.parent=e.querySelector(n):n.nodeType&&(i.parent=n)),!i.parent)throw"element to mount does not exist";if(i.parent.innerHTML="",M(t,x)){var o=t;t=i.Component({render:function(){return o}})}var s=t(a,a,!0);L(s,v,r,a,!0),i.virtual=new N(i.parent,t),i.virtual.init()},Component:function d(t){function e(t){this.type=t.type,this.props=t.props,this.children=t.children}var n=this;if(M(t,C))return n.Component(t());t.props=t.props||{},t.state=t.state||{};var d=function(){var e=this;O(t,function(t,n){M(t,C)&&(t=t.bind(e)),e[n]=t})};O(["Props","State"],function(t){var e=t.toLowerCase();d[u]["set"+t]=function(t,r){var i=this;t&&(M(t,C)&&(t=t(i.state,i.props)),O(t,function(t,n){i[e][n]=t}),"state"===e&&!r&&n.virtual&&n.virtual.update())}});var r=new d;if(!r.render)throw"no render method";r[l]&&r.setState(r[l](),i),r[p]&&r.setProps(r[p](),i),O(r,function(t,n){e[u].cmp=r}),e[u][s]=x;var c=r.render;r.render=function(){return new e(c())};var h=function(t,e,n){return t&&L(r,f,t,a,o),t&&e?t.children=e:!t&&e&&(t={},t.children=e),t&&r.setProps(t),n?r:r.render()};return h},DOM:function(){O(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){n[t]=function(){var e=b[u].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})},Route:function(t){function e(){this.settings={},this.url=r,this.interval=r,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var e=this.settings.addr;t=e?e+t:t,history.pushState(r,r,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var e=this;O(t,function(t,n){e.settings[n]=t})},this.init=function(){var t=this,e=function(){var e=n.location.pathname;t.url!==e&&(t.url=e,t.changed())};clearInterval(t.interval),t.interval=setInterval(e,50)},this.on=function(t){var e,n=this;if(n.routes||(n.routes={}),M(t,x))e=t;else{var t=arguments;e={},e[t[0]]=t[1]}O(e,function(t,e){var r=n.settings.addr,i=[],o=/([:*])(\w+)|([\*])/g,a=e.replace(o,function(){var t=arguments,e=t[2];return e?(i.push(e),"([^/]+)"):"(?:.*)"}),a=a+"$";n.routes[e]={callback:t,pattern:r?r+a:a,variables:i}})},this.changed=function(){var t=this.url,e=this.routes;O(e,function(e){var n,o=e.callback,s=e.pattern,u=e.variables;if(n=t.match(new RegExp(s))){var l=n.slice(1,n[c]).reduce(function(t,e,n){return t||(t={}),t[u[n]]=e,t},r);if(!M(o,C))throw"could not find render method";i.Render(o,a,l)}})}}var i=this,o=t.mount,s=t.addr,u=t.init,l=t.routes,p=new e;o&&i.Mount(o),s&&p.config({addr:s}),l&&p.on(l),p.init(),u&&p.nav(u),i.route=p},Element:E},t}(),P=function(){function t(t,e,n){return function(){var i=this,o=t in i?i[t]:i.getAttribute(t);if(o!==a&&o!==r){var s={};s[n]=o,e.setState(s)}}}return t}(),j=function(){function t(t){function e(){this.type="p",this.props={},this.children=[t]}return e[u].trust=o,e[u][s]=x,new e}return t}(),U=function(){function t(t,i,a,s,u){return function(c){function l(t){if(!d){if(t.target!==c)return;n(v,"transition",r),n(v,"transform",r)}n(v,"transformOrigin",r),v.willChange&&(v.willChange=r),m.remove(y),g.remove(y),c.removeEventListener(w,l)}if(M(c,k)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var p,f,d,h={},c=c.currentTarget||c,v=c.style,m=c.classList,g=e.body.classList,y="animation-running",w="transitionend";if(i){if(M(c.animate,C)&&(d=o),v.willChange&&(v.willChange="transform"),p=c.getBoundingClientRect(c),m.toggle(i),f=c.getBoundingClientRect(c),h.x=p.left-f.left,h.y=p.top-f.top,h.sx=p.width/f.width,h.sy=p.height/f.height,t=t||200,u=u||"cubic-bezier(0,0,0.32,1)",p="translate("+h.x+"px,"+h.y+"px) translateZ(0) scale("+h.sx+","+h.sy+")",p=a?p+" "+a:p,f="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",s&&n(v,"transformOrigin",s),m.add(y),g.add(y),d){var b=c.animate([{transform:p},{transform:f}],{duration:t,easing:u});b.addEventListener("finish",l)}else n(v,"transform",p),c.offsetWidth,n(v,"transition","transform "+t+"ms "+u),n(v,"transform",f);d||c.addEventListener(w,l)}}}function n(t,e,n){if(t&&null===t[e])for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r.length;i++)e=r[i]+e[0].toUpperCase()+e.slice(1),void 0!==t[e]&&(t[e]=n);else t[e]=n}return t}();n.surl=q,n.h=E,n.bind=P,n.trust=j,n.animate=U}();