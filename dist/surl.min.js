!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):n("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var n={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},e=document,r=window,o=null,i=!1,a=!0,s=void 0,u="constructor",c="prototype",f="length",p="getInitialState",l="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,k=Object,j=Function,S=Boolean,O=String,T=XMLHttpRequest,N=encodeURIComponent,E=r.setTimeout,R=function(){function t(t,n){return n?t!==s&&t!==o?t[u]===n:i:t?a:i}return t}(),L=function(){function t(t,n){var e;if(R(t,C)||t[f]&&R(t[f],x)&&t[0]){var r=t[f];for(e=0;e<r;++e)if(n.call(t[e],t[e],e,t)===i)return}else for(e in t)if(n.call(t[e],t[e],e,t)===i)return}return t}(),M=function(){function t(t,n){return t[r]?t[r].contains(n):t[o].indexOf(n)>-1}function n(n,e){if(n[r])n[r].add(e);else if(!t(n,e)){var i=n[o].split(" ");i.push(e),n[o]=i.join(" ")}}function e(t,n){if(t[r])t[r].remove(n);else{var e=t[o].split(" ");e.splice(e.indexOf(n),1),t[o]=e.join(" ")}}var r="classList",o="className";return{add:n,remove:e,hasClass:t}}(),q=function(){function t(t,s,u,c){return new i(function(i,f){var p,l=new T,d=r.location,v=e.createElement("a");v.href=t;var h=!(v.hostname===d.hostname&&v.port===d.port&&v.protocol===d.protocol&&"file:"!==d.protocol);v=o,l.open(s,t,a),l.onload=function(){var t,n=l.responseText,e=l.statusText;if(l.status>=200&&l.status<400){var r,o=l.getResponseHeader("content-type");o.indexOf(";")!==-1?(r=o.split(";"),r=r[0].split("/")):r=o.split("/"),r=r[1],t="json"===r?JSON.parse(n):"html"===r?(new DOMParser).parseFromString(n,"text/html"):n,c?c(t):i(t)}else c?c(e):f(e)},l.onerror=function(){f(l.statusText)},h&&(l.withCredentials=a),"POST"===s?(l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p=n(u)):"GET"!==s&&(l.setRequestHeader("Content-Type",R(u,k)?"application/json":"text/plain"),p=JSON.stringify(u)),l.send(p)})}function n(t,e){var r=[];for(var o in t){var i=e?e+"["+o+"]":o,a=t[o];r.push("object"==typeof a?n(a,i):N(i)+"="+N(a))}return r.join("&")}function i(t){function n(t){s="rejected",a=t,u&&r(u)}function e(t){try{if(t&&R(t.then,j))return void t.then(e,n);a=t,s="resolved",u&&r(u)}catch(o){n(o)}}function r(t){return"pending"===s?void(u=t):void E(function(){var n;if(n="resolved"===s?t.onResolved:t.onRejected,!n)return void("resolved"===s?t.resolve(a):t.reject(a));var e;try{e=n(a),t.resolve(e)}catch(r){t.reject(r)}},0)}var a,s="pending",u=o;this.then=function(t,n){return new i(function(e,o){r({onResolved:t,onRejected:n,resolve:e,reject:o})})},this.done=function(t,n){var e=arguments[f]?this.then.apply(this,arguments):this;e.then(o,function(t){E(function(){throw t},0)})},t(e,n)}return t}(),U=function(){function t(t,i){var a,c=arguments,p=c[f],l=2;e(i)||!R(i,k)?(l=1,i={}):i!==o&&i!==s&&R(i,k)||(i={});var d={type:t,props:i,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=n[d.type]);for(var v=l;v<p;v++)if(a=c[v],R(a,C))for(var h=0;h<a[f];h++)d.children[v-l+h]=r(a[h],d);else d.children[v-l]=r(a,d);return d}function e(t){var n=t&&t.type&&t.children&&t.props;if(!n)return i;var e=0;for(var r in t){if(e>3)break;t.hasOwnProperty(r)&&e++}return 3===e}function r(t,n){return t&&R(t.props,k)&&n.props.xmlns&&(t.props.xmlns=n.props.xmlns),R(t,k)&&e(t)||(R(t,k)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o=t.props?t.props:{},i=t.type;for(t.type="div";n=r.exec(i);)if(""===n[1]&&n[2])t.type=n[2];else if("#"===n[1])o.id=n[2];else if("."===n[1])e.push(n[2]);else if("["===n[3][0]){var s=n[6];s&&(s=s.replace(/\\(["'])/g,"$1")),o[n[4]]=s||a}return e[f]>0&&(o["class"]=e.join(" ")),t.props=o,t}return t}(),P=function(){function t(t,n,e,r,o){if(t&&(t.Component||t.render)){var i=o?t:t.Component;return i&&i[n]?(e=e?R(e,S)?i.props:e:s,r=r?R(r,S)?i.state:r:s,i[n](e,r)):void 0}}return t}(),I=function(){function t(t,n,e,o){r(t,n,e,s,o)}function r(t,n,e,o,u){if(o=o||0,P(n,b,a,a)!==i)if(e===s){var c=T(n,u);d(t,c,n)}else if(n===s){var c=t[F][o];l(t,c,e)}else{if(n.props&&e.props&&n.props.key!==e.props.key){var c=t[F][o];return l(t,c,e),a}if(S(n,e)){var p=t[F][o],c=T(n);h(t,c,p,n)}else if(n.type){I(t[F][o],n,e);for(var v=n[W][f],m=e[W][f],g=0;g<v||g<m;g++)r(t[F][o],n[W][g],e[W][g],g)&&(v>m?(n[W].splice(g,1),v--):v<m&&(e[W].splice(g,1),m--))}}}function p(t,n){n=n||0,0===n&&R(requestAnimationFrame,j)?requestAnimationFrame(t):E(t,n)}function l(t,n,e){var r=P(e,g,n);R(r,x)||(r=s),p(function(){n&&t.removeChild(n)},r)}function d(t,n,e){P(e,m),p(function(){n&&t.appendChild(n)}),P(e,v,n)}function h(t,n,e,r){P(r,y),p(function(){n&&e&&t.replaceChild(n,e)}),P(r,w)}function S(t,n){var e=t[u]!==n[u],r=R(t,O)&&t!==n,o=t.type!==n.type;return r||o||e}function T(t,n,r){if(R(t,O))return e.createTextNode(t);if(t.trust){var o=e.createElement("div"),i=e.createDocumentFragment();o.innerHTML=t.children[0];var u=C[c].slice.call(o.childNodes);return L(u,function(t){i.appendChild(t)}),i}var f;if(f=t.props&&t.props.xmlns?e.createElementNS(t.props.xmlns,t.type):e.createElement(t.type),A(f,t.props),U(f,t.props),R(t.children,C)&&L(t.children,function(t){f.appendChild(T(t,n,a))}),n){var p=t.props,l=p?p.ref:s;l&&(n.refs=n.refs||{},R(l,j)?l(f):R(l,O)&&(n.refs[l]=f))}return f}function N(t,n){return"on"===t.substring(0,2)&&R(n,j)}function q(t){return t.substring(2,t[f]).toLowerCase()}function U(t,n){for(var e in n){var r=n[e];N(e,r)&&r&&t.addEventListener(q(e),r,i)}}function I(t,n,e){var r=H(t,n.props,e.props);r[f]&&(P(n,y,a,a),L(r,function(t){D(t.target,t.name,t.value,t.op)}),P(n,w,a,a))}function H(t,n,e){var r=[];e=e!==s?e:{};var i={};for(var a in n)i[a]=n[a];for(var a in e)i[a]=e[a];for(var a in i){var u=e[a],c=n[a],f=c===s||c===o,p=u===s||u===o||c!==u&&!N(a,i[a]),l=f===-1?u:c;(p||f)&&r.push({target:t,name:a,value:l,op:p||f})}return r}function A(t,n){for(var e in n)D(t,e,n[e],1)}function D(t,e,r,o){if(!N(e,r)&&"ref"!==e&&"key"!==e){var i=(o===-1?"remove":"set")+"Attribute";return"xlink:href"===e?t.setAttributeNS(n.xlink,"href",r):void(t[e]!==s&&t.namespaceURI!==n.svg?R(r,k)?"className"===e||"class"===e?L(r,function(n,e){var r=n?"add":"remove";M[r](t,e)}):L(r,function(n,r){t[e][r]!==s&&(t[e][r]=n)}):R(r,C)?"className"!==e&&"class"!==e||(t[e]=r.join(" ")):t[e]=r:r!==n.svg&&r!==n.math&&(o===-1?t[i](e):t[i](e,r)))}}var F="childNodes",W="children";return t}(),H=function(){function t(t){var n=this;t&&n.mount(t)}return t[c]={req:function(t,n,e,r){return n=n||"GET",e=e||{},q(t,n.toUpperCase(),e,r)},mount:function(t){var n=this;t===e?t=t.body:R(t,O)&&(t=e.querySelector(t)),t&&t.nodeType?n.dom=t:n.dom=s},render:function(t,n,r){var o=this;if(n&&(R(n,O)?o.dom=e.querySelector(n):n.nodeType&&(o.dom=n)),!o.dom)throw"element to mount does not exist";if(o.vdom&&P(o.vdom,g),o.dom.innerHTML="",R(t,k)){var i=t;t=o.Component({render:function(){return i}})}t=t||o.cmp,o.vdom=t(r),o.cmp=t,I(o.dom,o.vdom,s,t(s,s,a))},Component:function n(t){function e(){var n=this;n.props={},n.state={},L(t,function(t,e){R(t,j)&&(t="render"===e?t.bind(n,n.props,n.state):t.bind(n)),n[e]=t})}function r(t){var n=this;n.type=t.type,n.props=t.props,n.children=t.children}function n(t,n,e){return t&&P(f,d,t,s,a),t&&n?t.children=n:!t&&n&&(t={},t.children=n),t&&f.setProps(t),e?f:f.render()}var o=this;if(R(t,j))return o.Component(t());L(["Props","State","forceUpdate"],function(t){var n=t.toLowerCase();"Props"===t||"State"===t?e[c]["set"+t]=function(t,e,r){var i=this;if(t){if(R(t,j)&&(t=t(i.state,i.props)),!R(t,k))throw"setState() takes an object or a function that returns an object";if(L(t,function(t,e){i[n][e]=t}),"state"===n&&!r&&o.vdom){var a=o.cmp();I(o.dom,a,o.vdom),o.vdom=a}}}:"forceUpdate"===t&&(e[c].forceUpdate=function(t){I(o.dom,o.cmp(),o.vdom),R(t,j)&&t()})});var f=new e;if(!f.render)throw"no render method";f[p]&&f.setState(f[p](),s,i),f[l]&&f.setProps(f[l](),s,i),L(f,function(t,n){r[c].Component=f}),r[c][u]=k;var v=f.render;return f.render=function(){return new r(v())},n},DOM:function(){L(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var n=C[c].slice.call(arguments);return n.unshift(t),h.apply(null,n)}})},route:function(t){function n(){var t=this;t.settings={},t.url=o,t.interval=o,t.back=function(){history.back()},t.foward=function(){history.foward()},t.go=function(t){history.go(t)},t.nav=function(t){var n=this.settings.addr;t=n?n+t:t,history.pushState(o,o,t)},t.destroy=function(){this.routes={},clearInterval(this.interval)},t.config=function(t){var n=this;L(t,function(t,e){n.settings[e]=t})},t.init=function(){var t=this,n=function(){var n=r.location.pathname;t.url!==n&&(t.url=n,t.changed())};clearInterval(t.interval),t.interval=setInterval(n,50)},t.on=function(t){var n,e=this;if(e.routes||(e.routes={}),R(t,k))n=t;else{var t=arguments;n={},n[t[0]]=t[1]}L(n,function(t,n){var r=e.settings.addr,o=[],i=/([:*])(\w+)|([\*])/g,a=n.replace(i,function(){var t=arguments,n=t[2];return n?(o.push(n),"([^/]+)"):"(?:.*)"}),a=a+"$";e.routes[n]={callback:t,pattern:r?r+a:a,variables:o}})},t.changed=function(){var t=this.url,n=this.routes;L(n,function(n){var r,i=n.callback,a=n.pattern,u=n.variables;if(r=t.match(new RegExp(a))){var c=r.slice(1,r[f]).reduce(function(t,n,e){return t||(t={}),t[u[e]]=n,t},o);if(!R(i,j))throw"could not find render method";e.render(i,s,c)}})}}var e=this,i=t.mount,a=t.addr,u=t.init,c=t.routes,p=new n;i&&e.mount(i),a&&p.config({addr:a}),c&&p.on(c),p.init(),u&&p.nav(u),e.router=p},Element:U,createElement:U,createClass:function(t){return this.Component(t)},createStore:function(t){var n,e=[],r=function(){return n},o=function(r){if(!R(r,k))throw"action must be plain object";if(r.type===s)throw"actions must have a type";n=t(n,r),e.forEach(function(t){return t()})},i=function(t){if(!R(t,j))throw"listener should be a function";return e.push(t),function(){e=e.filter(function(n){return n!==t})}};return o({type:"@@surl/INIT"}),{getState:r,dispatch:o,subscribe:i}}},t}(),A=function(){function t(t,n,e){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t);if(i!==s&&i!==o){var a={};a[e]=i,n.setState(a)}}}return t}(),D=function(){function t(t){function n(){this.type="p",this.props={},this.children=[t]}return n[c].trust=a,n[c][u]=k,new n}return t}(),F=function(){function t(t,n,i,s,u){return function(c,f){function p(t){if(!v){if(t.target!==c)return;r(g,"transition",o),r(g,"transform",o)}r(g,"transformOrigin",o),g.willChange&&(g.willChange=o),M.remove(c,w),M.remove(y,w),c.removeEventListener(b,p),f&&f(c)}if(i=i||"",R(c,O)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var l,d,v,h={},m={},c=c.currentTarget||c,g=c.style,y=document.body,w="animation-running",b="transitionend";if(R(c.animate,j)&&(v=a),g.willChange&&(g.willChange="transform"),l=e(c),t&&M.add(c,t),d=t?e(c):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,n=n||200,u=u||"cubic-bezier(0,0,0.32,1)",h[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",h[1]=h[1]+" "+i,h[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",s&&r(g,"transformOrigin",s),M.add(c,w),M.add(y,w),v){var x=c.animate([{transform:h[1]},{transform:h[2]}],{duration:n,easing:u});x.addEventListener("finish",p)}else r(g,"transform",h[1]),c.offsetWidth,r(g,"transition","transform "+n+"ms "+u+", opacity "+n+"ms "+u),r(g,"transform",h[2]);return v||c.addEventListener(b,p),n}}function n(t){return function(n,e){M.add(n,t);var r=0,o=getComputedStyle(n)["transition-duration"].replace(/s| /g,"").split(",");L(o,function(t){r+=1e3*parseFloat(t)}),E(function(){e(n)},r)}}function e(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}function r(t,n,e){if(t&&t[n]===o)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[f];i++)n=r[i]+n[0].toUpperCase()+n.slice(1),t[n]!==s&&(t[n]=e);else t[n]=e}return{flip:t,transition:n}}(),W=function(){function t(t){function n(){var n=arguments;return n[f]&&(t=n[0]),t}return n.toJSON=function(){return t},n}return t}(),J=function(){function t(t,o){if(R(t,O))return t;var i=t.type,a=t.props,s=t.children;return r[i]?"<"+i+n(a)+">":"<"+i+n(a)+">"+e(s,o)+"</"+i+">"}function n(t){return t=k.keys(t).filter(function(n){return t[n]!==s&&t[n]!==o&&t[n]!==i}).map(function(n){var e=t[n];if(!R(e,j)&&"key"!==n&&"ref"!==n)return e===a?n:n+'="'+e+'"'}).join(" ").replace(/\s+$/g,""),t?t:""}function e(n,e){if(0===n[f])return"";e=e||0;var r="\t".repeat(e+1),o="\t".repeat(e);return"\n"+r+n.map(function(n){return t(n,e+1)}).join("\n"+r)+"\n"+o}var r={area:a,base:a,br:a,"!doctype":a,col:a,embed:a,wbr:a,track:a,hr:a,img:a,input:a,keygen:a,link:a,meta:a,param:a,source:a};return t}();t.toHTML=J,t.prop=W,t.surl=H,t.h=U,t.bind=A,t.trust=D,t.animate=F});