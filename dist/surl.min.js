!function(){"use strict"
function t(t,n){var e
if(null!==t&&void 0!==t){if(t[d]===Array||t.length&&t.length[d]===Number&&t[0]){var r=t.length
for(e=0;r>e;++e)if(n.call(t[e],t[e],e,t)===!1)return t}else for(e in t)if(n.call(t[e],t[e],e,t)===!1)return t
return t}}function n(t,n,e){var r=(new Date).getTime()
n=n||60
var i=1e3/n
return function o(n){e.id=requestAnimationFrame(o)
var a=(new Date).getTime(),s=a-r
s>i&&(r=a-s%i,t(n))}(0)}function e(t){var n=[]
for(var r in t){var i=t[r]
n.push("object"==typeof i?e(i,r):encodeURIComponent(r)+"="+encodeURIComponent(i))}return n.join("&")}function r(t,n){var r=new XMLHttpRequest,i=window.location,o=t.url,n=t.callback,a=t.method,s=document.createElement("a")
s.href=o
var u=!(s.hostname===i.hostname&&s.port===i.port&&s.protocol===i.protocol&&"file:"!==i.protocol)
return s=null,r.open(a,o,!0),r.onerror=function(){n(this,!0)},r.onload=function(){if(n){var t,e
if(this.status>=200&&this.status<400){var i,o=r.getResponseHeader("content-type");-1!==o.indexOf(";")?(i=o.split(";"),i=i[0].split("/")):i=o.split("/"),o=i[1],e="json"===o?JSON.parse(r.responseText):"html"===o?(new DOMParser).parseFromString(r.responseText,"text/html"):r.responseText,t=[e,!1]}else t=[this,!0]
n(t[0],t[1])}},u&&(r.withCredentials=!0),"GET"!==a&&r.setRequestHeader("Content-Type",t.data&&t.data[d]===Object?"application/json":"text/plain"),"POST"===a?(r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(e(t))):r.send(),r}function i(e){var r=this
e&&r.mount(e),r.settings={auto:!1},r.router={back:function(){history.back()},foward:function(){history.foward()},go:function(t){history.go(t)},destroy:function(){this.routes={},cancelAnimationFrame(this.raf.id)},nav:function(t){var n=this.settings.root
t=n?n+t:t,history.pushState(null,null,t)},config:function(n){var e=this
e.settings||(e.settings={}),t(n,function(t,n){e.settings[n]=t})},listen:function(){var t=this
t.url=null,t.raf={id:0},n(function(){var n=window.location.pathname
t.url!==n&&(t.url=n,t.changed())},60,t.raf)},on:function(n){var e,r=this
if(r.routes||(r.routes={}),r.raf||r.listen(),n[d]!==Object){var n=arguments
e={},e[n[0]]=n[1]}else e=n
t(e,function(t,n){var e=r.settings.root,i=[],o=/([:*])(\w+)|([\*])/g,a=n.replace(o,function(){var t=arguments,n=t[2]
return n?(i.push(n),"([^/]+)"):"(?:.*)"})
r.routes[n]={callback:t,pattern:e?e+a:a,variables:i}})},changed:function(){var n=this.url,e=this.routes
t(e,function(t){var e,i=t.callback,o=t.pattern,a=t.variables
if(e=n.match(RegExp(o))){var s=e.slice(1,e.length).reduce(function(t,n,e){return t||(t={}),t[a[e]]=n,t},null)
if(!i||i[d]!==Function)throw"could not find the render method"
r.render(i,void 0,s)}})}}}function o(t,n,e){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t)
if(void 0!==i&&null!==i){var o={}
o[e]=i,n(o)}}}function a(t){return{type:"p",props:{},children:[t],trust:!0,__hs:!0}}function s(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=t.props?t.props:{},o=t.type
for(t.type="div";n=r.exec(o);)if(""===n[1]&&n[2])t.type=n[2]
else if("#"===n[1])i.id=n[2]
else if("."===n[1])e.push(n[2])
else if("["===n[3][0]){var a=n[6]
a&&(a=a.replace(/\\(["'])/g,"$1")),i[n[4]]=a||!0}return e.length>0&&(i["class"]=e.join(" ")),t.props=i,t}function u(t,n){return t&&t[d]===Object&&n.props.xmlns&&(t.props.xmlns=n.props.xmlns),(void 0===t||null===t||t[d]!==Object&&t[d]!==String&&t[d]!==Array)&&(t+="",("null"===t||"undefined"===t)&&(t="")),t}function l(t,n){var e,r=arguments,i=r.length,o=2
void 0!==n&&null!==n&&(n[d]===Object&&n.__hs||n[d]!==Object&&n[d]!==Function)?(o=1,n={}):(null===n||void 0===n||n[d]!==Object)&&(n={})
var a={type:t,props:n,children:[],__hs:!0};(-1!==a.type.indexOf("[")||-1!==a.type.indexOf("#")||-1!==a.type.indexOf("."))&&(a=s(a)),("svg"===a.type||"math"===a.type)&&(a.props.xmlns||(a.props.xmlns=f[a.type]))
for(var l=o;i>l;l++)if(e=r[l],e&&e[d]===Array)for(var c=0;c<e.length;c++)a.children[l-o+c]=u(e[c],a)
else a.children[l-o]=u(e,a)
return a}function c(){function t(n){if(!f){if(n.target!=a)return
a.style.transition=null,a.style.transform=null}a.style.transformOrigin=null,a.style.willChange=null,a.classList.remove("animation-running"),document.body.classList.remove("animation-running"),a.removeEventListener("transitionend",t)}for(var n,e,r,i,o,a,s,u,l,c,f,s=u=l=c={},n=Array.prototype.slice.call(arguments),p=n.length-1;p>=0;p--){var h=n[p]
h[d]===Array?i=h.join(" "):h[d]===Number?r=h:h[d]===String?-1!==h.indexOf(",")?o=h:e=h:h.target&&(a=h.target)}if(this[d]===Number?r=this:this[d]===String?e=this:e||(e="animation-active"),e&&a){if(a.style.willChange="transform",s=a.getBoundingClientRect(),a.classList.toggle(e),u=a.getBoundingClientRect(),l.x=s.left-u.left,l.y=s.top-u.top,l.sx=s.width/u.width,l.sy=s.height/u.height,a.animate&&a.animate[d]===Function)var f=!0
if(c.first="translate("+l.x+"px,"+l.y+"px) translateZ(0) scale("+l.sx+","+l.sy+")",c.first=i?c.first+" "+i:c.first,c.last="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",c.duration=r?r:200,c.easing=o?"cubic-bezier("+o+")":"cubic-bezier(0,0,0.32,1)",a.style.transformOrigin="0 0",a.classList.add("animation-running"),document.body.classList.add("animation-running"),document.body.classList.toggle("animation-active"),f){var v=a.animate([{transform:c.first},{transform:c.last}],{duration:c.duration,easing:c.easing})
v.addEventListener("finish",t)}else a.style.transform=c.first,a.offsetWidth,a.style.transition="transform "+c.duration+"ms "+c.easing,a.style.transform=c.last
f||a.addEventListener("transitionend",t)}}var d="constructor",f={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},p="getInitialState",h="getDefaultProps",v="componentWillMount",m="componentDidMount"
i.prototype={__vdom:function(){function e(t){return"on"===t.substring(0,2)}function r(t){return t.substring(2,t.length).toLowerCase()}function i(t,n){for(var i in n)if(e(i)){var o=n[i]
o&&t.addEventListener(r(i),o,!1)}}function o(t,n,r,i){if(!e(n)){var o=(-1===i?"remove":"set")+"Attribute"
return"xlink:href"===n?t.setAttributeNS(f.xlink,"href",r):void(void 0!==t[n]&&t.namespaceURI!==f.svg?t[n]=r:r!==f.svg&&r!==f.math&&(-1===i?t[o](n):t[o](n,r)))}}function a(t,n,e,r){void 0===e||null===e?o(t,n,r,-1):(void 0===r||null===r||e!==r)&&o(t,n,e,1)}function s(t,n,e){e=void 0!==e?e:{}
var r={}
for(var i in n)r[i]=n[i]
for(var i in e)r[i]=e[i]
for(var i in r)a(t,i,n[i],e[i])}function u(t,n){for(var e in n)o(t,e,n[e],1)}function l(n){if(n[d]===String)return document.createTextNode(n)
if(n.trust&&n.__hs){var e=document.createElement("div"),r=document.createDocumentFragment()
e.innerHTML=n.children[0]
var o=Array.prototype.slice.call(e.childNodes)
return t(o,function(t){r.appendChild(t)}),r}var a
return a=n.props&&n.props.xmlns?document.createElementNS(n.props.xmlns,n.type):document.createElement(n.type),u(a,n.props),i(a,n.props),n.children&&n.children[d]===Array&&t(n.children.map(l),a.appendChild.bind(a)),a}function c(t,n){var e=t[d]!==n[d],r=t[d]===String&&t!==n,i=t.type!==n.type
return e||r||i}function p(t){return void 0===t||null!==t&&0!==t&&t!==!1||(t+=""),t}function h(t,n,e,r){if(r=r?r:0,e=p(e),n=p(n),void 0===e)t.appendChild(l(n))
else if(void 0===n){var i=t.childNodes[r]
setTimeout(function(){t.removeChild(i)},0)}else if(c(n,e))t.replaceChild(l(n),t.childNodes[r])
else if(n.type){s(t.childNodes[r],n.props,e.props)
for(var o=n.children.length,a=e.children.length,u=0;o>u||a>u;u++)h(t.childNodes[r],n.children[u],e.children[u],u)}}function v(t,n){this.parent=t,this.render=n,this.raf=null}var m=this
return v.prototype={update:function(){var t=this.render(),n=this.old
h(this.parent,t,n),this.old=t},init:function(){this.old=this.render(),h(this.parent,this.old)},destroy:function(){m.settings.auto&&this.auto(!1),this.old=void 0,this.render=void 0,this.raf=void 0,this.parent=void 0},auto:function(t){var e=this
return t?(e.raf={id:1},void n(function(){e.update()},60,e.raf)):(cancelAnimationFrame(e.raf.id),e.raf.id)}},v},req:function(){var n=arguments,e={method:"GET"}
t(n,function(t){if(t[d]===Object)e.data=t
else if(t[d]===Function)e.callback=t
else if(t[d]===String){var n=t.toUpperCase()
"POST"===n||"GET"===n?e.method=n:e.url=t}}),r(e)},mount:function(t){var n=this
t===document?t=t.body:t[d]===String&&(t=document.querySelector(t)),t&&t.nodeType?n.parent=t:n.parent=void 0},render:function(t,n,e){var e,r=this
if(n&&(n[d]===String?r.parent=document.querySelector(n):n.nodeType&&(r.parent=n)),!r.parent)throw"the element to mount to does not exist"
r.vdom&&(r.vdom.destroy(),r.vdom=void 0),r.parent.innerHTML="",t[v]&&t[v](e),r.vdom=this.__vdom(),r.vdom=new r.vdom(r.parent,t),r.vdom.init(),t[m]&&t[m](),r.settings.auto&&r.vdom.auto(!0)},component:function(n){var e=this
n.props=n.props||{},n.state=n.state||{}
var r=function(){var e=this
t(n,function(t,n){t[d]===Function&&(t=t.bind(e)),e[n]=t})}
t(["Props","State"],function(n){var i=n.toLowerCase()
r.prototype["set"+n]=function(n,r){var o=this
n&&(t(n,function(t,n){o[i][n]=t}),"state"!==i||r||e.settings.auto||!e.vdom||e.vdom.update())}})
var i=new r
i.setState=i.setState.bind(i),i.setProps=i.setProps.bind(i),i[p]&&i.setState(i[p](),!1),i[h]&&i.setProps(i[h]())
var o=function(t,n){return n&&i.setProps({children:n}),t&&i.setProps(t),i.render()}
return i[v]&&(o[v]=i[v]),i[m]&&(o[m]=i[m]),o},createClass:function(t){return this.component(t)},createComponent:function(t){return this.component(t)}},function(){for(var t="requestAnimationFrame",n="cancelAnimationFrame",e=["ms","moz","webkit"],r=e.length,i="AnimationFrame",o=0,a=window,s=0;r>s&&!a[t];++s)a[t]=a[e[s]+"Request"+i],a[n]=a[e[s]+"Cancel"+i]||a[e[s]+"CancelRequest"+i]
a[t]||(a[t]=function(t){var n=(new Date).getTime(),e=Math.max(0,16-(n-o)),r=a.setTimeout(function(){t(n+e)},e)
return o=n+e,r}),a[n]||(a[n]=function(t){clearTimeout(t)})}(),window.h=l,window.bind=o,window.trust=a,window.animate=c,window.surl=i}()
