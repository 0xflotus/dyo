!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):n("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var n={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},e=document,r=window,o=null,i=!1,a=!0,s=void 0,u="constructor",c="prototype",f="length",p="getInitialState",l="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,k=Object,S=Function,R=Boolean,T=String,L=XMLHttpRequest,j=encodeURIComponent,O=function(){function t(t,n){return n?t!==s&&t!==o?t[u]===n:i:!!t}return t}(),E=function(){function t(t,n){var e;if(O(t,C)||t[f]&&O(t[f],x)&&t[0]){var r=t[f];for(e=0;e<r;++e)if(n.call(t[e],t[e],e,t)===i)return t}else for(e in t)if(n.call(t[e],t[e],e,t)===i)return t;return t}return t}(),N=function(){function t(t,s,u,c){return new i(function(i,f){var p,l=new L,d=r.location,h=e.createElement("a");h.href=t;var v=!(h.hostname===d.hostname&&h.port===d.port&&h.protocol===d.protocol&&"file:"!==d.protocol);h=o,l.open(s,t,a),l.onload=function(){var t,n=l.responseText,e=l.statusText;if(l.status>=200&&l.status<400){var r,o=l.getResponseHeader("content-type");o.indexOf(";")!==-1?(r=o.split(";"),r=r[0].split("/")):r=o.split("/"),r=r[1],t="json"===r?JSON.parse(n):"html"===r?(new DOMParser).parseFromString(n,"text/html"):n,c?c(t):i(t)}else c?c(e):f(e)},l.onerror=function(){f(l.statusText)},v&&(l.withCredentials=a),"POST"===s?(l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p=n(u)):"GET"!==s&&(l.setRequestHeader("Content-Type",O(u,k)?"application/json":"text/plain"),p=JSON.stringify(u)),l.send(p)})}function n(t,e){var r=[];for(var o in t){var i=e?e+"["+o+"]":o,a=t[o];r.push("object"==typeof a?n(a,i):j(i)+"="+j(a))}return r.join("&")}function i(t){function n(t){s="rejected",a=t,u&&r(u)}function e(t){try{if(t&&O(t.then,S))return void t.then(e,n);a=t,s="resolved",u&&r(u)}catch(o){n(o)}}function r(t){return"pending"===s?void(u=t):void setTimeout(function(){var n;if(n="resolved"===s?t.onResolved:t.onRejected,!n)return void("resolved"===s?t.resolve(a):t.reject(a));var e;try{e=n(a),t.resolve(e)}catch(r){t.reject(r)}},0)}var a,s="pending",u=o;this.then=function(t,n){return new i(function(e,o){r({onResolved:t,onRejected:n,resolve:e,reject:o})})},this.done=function(t,n){var e=arguments[f]?this.then.apply(this,arguments):this;e.then(o,function(t){setTimeout(function(){throw t},0)})},t(e,n)}return t}(),q=function(){function t(t,i){var a,c=arguments,p=c[f],l=2;e(i)||!O(i,k)?(l=1,i={}):i!==o&&i!==s&&O(i,k)||(i={});var d={type:t,props:i,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=n[d.type]);for(var h=l;h<p;h++)if(a=c[h],O(a,C))for(var v=0;v<a[f];v++)d.children[h-l+v]=r(a[v],d);else d.children[h-l]=r(a,d);return d}function e(t){var n=t&&t.type&&t.children&&t.props;if(!n)return i;var e=0;for(var r in t){if(e>3)break;t.hasOwnProperty(r)&&e++}return 3===e}function r(t,n){return t&&O(t.props,k)&&n.props.xmlns&&(t.props.xmlns=n.props.xmlns),O(t,k)&&e(t)||(O(t,k)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var n,e=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o=t.props?t.props:{},i=t.type;for(t.type="div";n=r.exec(i);)if(""===n[1]&&n[2])t.type=n[2];else if("#"===n[1])o.id=n[2];else if("."===n[1])e.push(n[2]);else if("["===n[3][0]){var s=n[6];s&&(s=s.replace(/\\(["'])/g,"$1")),o[n[4]]=s||a}return e[f]>0&&(o["class"]=e.join(" ")),t.props=o,t}return t}(),M=function(){function t(t,n,e,r,o){if(t&&(t.Component||t.render)){var i=o?t:t.Component;return i&&i[n]?(e=e?O(e,R)?i.props:e:s,r=r?O(r,R)?i.state:r:s,i[n](e,r)):void 0}}return t}(),U=function(){function t(t,n,e,o){r(t,n,e,s,o)}function r(t,n,e,o,u){if(o=o||0,M(n,b,a,a)!==i)if(e===s){var c=L(n,u);d(t,c,n)}else if(n===s){var c=t[F][o];l(t,c,e)}else{if(n.props&&e.props&&n.props.key!==e.props.key){var c=t[F][o];return l(t,c,e),a}if(R(n,e)){var p=t[F][o],c=L(n);h(t,c,p,n)}else if(n.type){U(t[F][o],n,e);for(var v=n[H][f],m=e[H][f],g=0;g<v||g<m;g++)r(t[F][o],n[H][g],e[H][g],g)&&(v>m?(n[H].splice(g,1),v--):v<m&&(e[H].splice(g,1),m--))}}}function p(t,n){n=n||0,0===n&&O(requestAnimationFrame,S)?requestAnimationFrame(t):setTimeout(t,n)}function l(t,n,e){var r=M(e,g,n);O(r,x)||(r=s),p(function(){n&&t.removeChild(n)},r)}function d(t,n,e){M(e,m),t.appendChild(n),p(function(){n&&t.appendChild(n)}),M(e,v,n)}function h(t,n,e,r){M(r,y),p(function(){n&&e&&t.replaceChild(n,e)}),M(r,w)}function R(t,n){var e=t[u]!==n[u],r=O(t,T)&&t!==n,o=t.type!==n.type;return r||o||e}function L(t,n){if(O(t,T))return e.createTextNode(t);if(t.trust){var r=e.createElement("div"),o=e.createDocumentFragment();r.innerHTML=t.children[0];var i=C[c].slice.call(r.childNodes);return E(i,function(t){o.appendChild(t)}),o}var a;if(a=t.props&&t.props.xmlns?e.createElementNS(t.props.xmlns,t.type):e.createElement(t.type),A(a,t.props),q(a,t.props),O(t.children,C)&&E(t.children,function(t){a.appendChild(L(t,n))}),n){var u=t.props,f=u?u.ref:s;f&&(n.refs=n.refs||{},O(f,S)?f(a):O(f,T)&&(n.refs[f]=a))}return a}function j(t,n){return"on"===t.substring(0,2)&&O(n,S)}function N(t){return t.substring(2,t[f]).toLowerCase()}function q(t,n){for(var e in n){var r=n[e];j(e,r)&&r&&t.addEventListener(N(e),r,i)}}function U(t,n,e){var r=P(t,n.props,e.props);r[f]&&(M(n,y,a,a),E(r,function(t){D(t.target,t.name,t.value,t.op)}),M(n,w,a,a))}function P(t,n,e){var r=[];e=e!==s?e:{};var i={};for(var a in n)i[a]=n[a];for(var a in e)i[a]=e[a];for(var a in i){var u=e[a],c=n[a],f=c===s||c===o,p=u===s||u===o||c!==u&&!j(a,i[a]),l=f===-1?u:c;(p||f)&&r.push({target:t,name:a,value:l,op:p||f})}return r}function A(t,n){for(var e in n)D(t,e,n[e],1)}function D(t,e,r,o){if(!j(e,r)&&"ref"!==e&&"key"!==e){var i=(o===-1?"remove":"set")+"Attribute";return"xlink:href"===e?t.setAttributeNS(n.xlink,"href",r):void(t[e]!==s&&t.namespaceURI!==n.svg?O(r,k)?"className"!==e&&"class"!==e?E(r,function(n,r){t[e][r]!==s&&(t[e][r]=n)}):E(r,function(n,e){var r=n?"add":"remove";t.classList[r](e)}):t[e]=r:r!==n.svg&&r!==n.math&&(o===-1?t[i](e):t[i](e,r)))}}var F="childNodes",H="children";return t}(),P=function(){function t(t){var n=this;t&&n.mount(t)}return t[c]={req:function(t,n,e,r){return n=n||"GET",e=e||{},N(t,n.toUpperCase(),e,r)},mount:function(t){var n=this;t===e?t=t.body:O(t,T)&&(t=e.querySelector(t)),t&&t.nodeType?n.parent=t:n.parent=s},render:function(t,n,r){var o=this;if(n&&(O(n,T)?o.parent=e.querySelector(n):n.nodeType&&(o.parent=n)),!o.parent)throw"element to mount does not exist";if(o.componentRender&&M(o.componentRender,g),o.parent.innerHTML="",O(t,k)){var i=t;t=o.Component({render:function(){return i}})}t=t||o.component,o.componentRender=t(r),o.component=t,U(o.parent,o.componentRender,s,t(s,s,a))},Component:function n(t){function e(){var n=this;n.props={},n.state={},E(t,function(t,e){O(t,S)&&(t="render"===e?t.bind(n,n.props,n.state):t.bind(n)),n[e]=t})}function r(t){var n=this;n.type=t.type,n.props=t.props,n.children=t.children}function n(t,n,e){return t&&M(f,d,t,s,a),t&&n?t.children=n:!t&&n&&(t={},t.children=n),t&&f.setProps(t),e?f:f.render()}var o=this;if(O(t,S))return o.Component(t());E(["Props","State","forceUpdate"],function(t){var n=t.toLowerCase();"Props"===t||"State"===t?e[c]["set"+t]=function(t,e,r){var i=this;if(t){if(O(t,S)&&(t=t(i.state,i.props)),!O(t,k))throw"setState() takes an object or a function that returns an object";if(E(t,function(t,e){i[n][e]=t}),"state"===n&&!r&&o.componentRender){var a=o.component();U(o.parent,a,o.componentRender),o.componentRender=a}}}:"forceUpdate"===t&&(e[c].forceUpdate=function(t){U(o.parent,o.component(),o.componentRender),O(t,S)&&t()})});var f=new e;if(!f.render)throw"no render method";f[p]&&f.setState(f[p](),s,i),f[l]&&f.setProps(f[l](),s,i),E(f,function(t,n){r[c].Component=f}),r[c][u]=k;var h=f.render;return f.render=function(){return new r(h())},n},DOM:function(){E(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var n=C[c].slice.call(arguments);return n.unshift(t),h.apply(null,n)}})},route:function(t){function n(){var t=this;t.settings={},t.url=o,t.interval=o,t.back=function(){history.back()},t.foward=function(){history.foward()},t.go=function(t){history.go(t)},t.nav=function(t){var n=this.settings.addr;t=n?n+t:t,history.pushState(o,o,t)},t.destroy=function(){this.routes={},clearInterval(this.interval)},t.config=function(t){var n=this;E(t,function(t,e){n.settings[e]=t})},t.init=function(){var t=this,n=function(){var n=r.location.pathname;t.url!==n&&(t.url=n,t.changed())};clearInterval(t.interval),t.interval=setInterval(n,50)},t.on=function(t){var n,e=this;if(e.routes||(e.routes={}),O(t,k))n=t;else{var t=arguments;n={},n[t[0]]=t[1]}E(n,function(t,n){var r=e.settings.addr,o=[],i=/([:*])(\w+)|([\*])/g,a=n.replace(i,function(){var t=arguments,n=t[2];return n?(o.push(n),"([^/]+)"):"(?:.*)"}),a=a+"$";e.routes[n]={callback:t,pattern:r?r+a:a,variables:o}})},t.changed=function(){var t=this.url,n=this.routes;E(n,function(n){var r,i=n.callback,a=n.pattern,u=n.variables;if(r=t.match(new RegExp(a))){var c=r.slice(1,r[f]).reduce(function(t,n,e){return t||(t={}),t[u[e]]=n,t},o);if(!O(i,S))throw"could not find render method";e.render(i,s,c)}})}}var e=this,i=t.mount,a=t.addr,u=t.init,c=t.routes,p=new n;i&&e.mount(i),a&&p.config({addr:a}),c&&p.on(c),p.init(),u&&p.nav(u),e.router=p},Element:q,createElement:q,createClass:function(t){return this.Component(t)},createStore:function(t){var n,e=[],r=function(){return n},o=function(r){n=t(n,r),e.forEach(function(t){return t()})},i=function(t){return e.push(t),function(){e=e.filter(function(n){return n!==t})}};return o({}),{getState:r,dispatch:o,subscribe:i}}},t}(),A=function(){function t(t,n,e){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t);if(i!==s&&i!==o){var a={};a[e]=i,n.setState(a)}}}return t}(),D=function(){function t(t){function n(){this.type="p",this.props={},this.children=[t]}return n[c].trust=a,n[c][u]=k,new n}return t}(),F=function(){function t(t,n,i,s,u){return function(c,f){function p(t){if(!h){if(t.target!==c)return;r(g,"transition",o),r(g,"transform",o)}r(g,"transformOrigin",o),g.willChange&&(g.willChange=o),c.classList.remove(w),y.classList.remove(w),c.removeEventListener(b,p),f&&f(c)}if(i=i||"",O(c,T)&&(c=document.querySelector(c)),!c&&c.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},c=c.currentTarget||c,g=c.style,y=document.body,w="animation-running",b="transitionend";if(O(c.animate,S)&&(h=a),g.willChange&&(g.willChange="transform"),l=e(c),t&&c.classList.toggle(t),d=t?e(c):l,m.x=l.left-d.left,m.y=l.top-d.top,m.sx=0!==d.width?l.width/d.width:1,m.sy=0!==d.height?l.height/d.height:1,n=n||200,u=u||"cubic-bezier(0,0,0.32,1)",v[1]="translate("+m.x+"px,"+m.y+"px) translateZ(0) scale("+m.sx+","+m.sy+")",v[1]=v[1]+" "+i,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",s&&r(g,"transformOrigin",s),c.classList.add(w),y.classList.add(w),h){var x=c.animate([{transform:v[1]},{transform:v[2]}],{duration:n,easing:u});x.addEventListener("finish",p)}else r(g,"transform",v[1]),c.offsetWidth,r(g,"transition","transform "+n+"ms "+u+", opacity "+n+"ms "+u),r(g,"transform",v[2]);return h||c.addEventListener(b,p),n}}function n(t){return function(n,e){n.classList.add(t);var r=0,o=getComputedStyle(n)["transition-duration"].replace(/s| /g,"").split(",");E(o,function(t){r+=1e3*parseFloat(t)}),setTimeout(function(){e(n)},r)}}function e(t){var n=t.getBoundingClientRect();return{top:n.top,left:n.left,width:n.width,height:n.height}}function r(t,n,e){if(t&&t[n]===o)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[f];i++)n=r[i]+n[0].toUpperCase()+n.slice(1),t[n]!==s&&(t[n]=e);else t[n]=e}return{flip:t,transition:n}}(),H=function(){function t(t){function n(){var n=arguments;return n[f]&&(t=n[0]),t}return n.toJSON=function(){return t},n}return t}();t.prop=H,t.surl=P,t.h=q,t.bind=A,t.trust=D,t.animate=F});