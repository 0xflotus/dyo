!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):e("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:t)}(this,function(t){"use strict";var e={math:"http://www.w3.org/1998/Math/MathML",xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"},n=document,r=window,o=null,i=!1,s=!0,a=void 0,u="constructor",c="prototype",f="length",p="getInitialState",l="getDefaultProps",d="componentWillReceiveProps",v="componentDidMount",m="componentWillMount",g="componentWillUnmount",y="componentWillUpdate",w="componentDidUpdate",b="shouldComponentUpdate",x=Number,C=Array,S=Object,k=Function,T=Boolean,R=String,O=XMLHttpRequest,j=encodeURIComponent,M=function(){function t(t,e){return e?t!==a&&t!==o?t[u]===e:i:!!t}return t}(),N=function(){function t(e,n,r){var o;if(r)return t(e,function(e){t(e,n)});if(M(e,C)||e[f]&&M(e[f],x)&&e[0]){var s=e[f];for(o=0;o<s;++o)if(n.call(e[o],e[o],o,e)===i)return e}else for(o in e)if(n.call(e[o],e[o],o,e)===i)return e;return e}return t}(),E=function(){function t(e){function n(t){try{if(t&&M(t.then,k))return void t.then(n);i=t,s="resolved",a&&r(a)}catch(e){reject(e)}}function r(t){return"pending"===s?void(a=t):void setTimeout(function(){var e;if(e="resolved"===s?t.onResolved:t.onRejected,!e)return void("resolved"===s?t.resolve(i):t.reject(i));var n;try{n=e(i),t.resolve(n)}catch(r){t.reject(r)}},0)}var i,s="pending",a=o;this.then=function(e){return new t(function(t){r({onResolved:e,resolve:t})})},this.done=function(t,e){var n=arguments[f]?this.then.apply(this,arguments):this;n.then(o,function(t){setTimeout(function(){throw t},0)})},e(n)}return t}(),L=function(){function t(t,i,a,u){return new E(function(c){var f,p=new O,l=r.location;a=a||{};var d=n.createElement("a");d.href=t;var h=!(d.hostname===l.hostname&&d.port===l.port&&d.protocol===l.protocol&&"file:"!==l.protocol);d=o,p.open(i,t,s),p.onload=function(){var t,e=p.responseText,n=p.statusText;if(this.status>=200&&this.status<400){var r,o=p.getResponseHeader("content-type");o.indexOf(";")!==-1?(r=o.split(";"),r=r[0].split("/")):r=o.split("/"),r=r[1],t="json"===r?JSON.parse(e):"html"===r?(new DOMParser).parseFromString(e,"text/html"):e,u?u(t):c(t)}else u?u(n):reject(n)},p.onerror=function(){reject(p.statusText)},h&&(p.withCredentials=s),"POST"===i?(p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f=e(a)):"GET"!==i&&(p.setRequestHeader("Content-Type",M(a,S)?"application/json":"text/plain"),f=JSON.stringify(a)),p.send(f)})}function e(t,n){var r=[];for(var o in t){var i=n?n+"["+o+"]":o,s=t[o];r.push("object"==typeof s?e(s,i):j(i)+"="+j(s))}return r.join("&")}return t}(),q=function(){function t(t,i){var s,c=arguments,p=c[f],l=2;n(i)||!M(i,S)?(l=1,i={}):i!==o&&i!==a&&M(i,S)||(i={});var d={type:t,props:i,children:[]};t.indexOf("[")===-1&&t.indexOf("#")===-1&&t.indexOf(".")===-1||(d=u(d)),"svg"!==d.type&&"math"!==d.type||d.props.xmlns||(d.props.xmlns=e[d.type]);for(var h=l;h<p;h++)if(s=c[h],M(s,C))for(var v=0;v<s[f];v++)d.children[h-l+v]=r(s[v],d);else d.children[h-l]=r(s,d);return d}function n(t){var e=t&&t.type&&t.children&&t.props;if(!e)return i;var n=0;for(var r in t){if(n>3)break;t.hasOwnProperty(r)&&n++}return 3===n}function r(t,e){return M(t.props,S)&&e.props.xmlns&&(t.props.xmlns=e.props.xmlns),M(t,S)&&n(t)||(M(t,S)?t=JSON.stringify(t):t+="","null"!==t&&"undefined"!==t||(t="")),t}function u(t){var e,n=[],r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o=t.props?t.props:{},i=t.type;for(t.type="div";e=r.exec(i);)if(""===e[1]&&e[2])t.type=e[2];else if("#"===e[1])o.id=e[2];else if("."===e[1])n.push(e[2]);else if("["===e[3][0]){var a=e[6];a&&(a=a.replace(/\\(["'])/g,"$1")),o[e[4]]=a||s}return n[f]>0&&(o["class"]=n.join(" ")),t.props=o,t}return t}(),P=function(){function t(t,e,n,r,o){if(M(t,S)){var i=o?t:t.Component;return i&&i[e]?(n=n?M(n,T)?i.props:n:a,r=r?M(r,T)?i.state:r:a,i[e](n,r)):void 0}}return t}(),U=function(){function t(e,n,o,u,c){if(u=u||0,o=r(o),n=r(n),P(n,b,s,s)!==i)if(o===a){var d=l(n,c);P(n,m,d),e.appendChild(d),P(n,v,d)}else if(n===a){var d=e.childNodes[u],h=P(o,g,d)||0;M(h,x)||(h=0),setTimeout(function(){e.removeChild(d)},h)}else if(p(n,o))P(n,y,s,s),e.replaceChild(l(n),e.childNodes[u]),P(n,w,s,s);else if(n.type&&!n.trust){var C=T(e.childNodes[u],n.props,o.props,n);C[f]&&(P(n,y,s,s),N(C,function(t){j(t.target,t.name,t.value,t.op)}),P(n,w,s,s));for(var S=n.children[f],k=o.children[f],R=0;R<S||R<k;R++)t(e.childNodes[u],n.children[R],o.children[R],R)}}function r(t){return t===a||t!==o&&0!==t&&t!==i||(t+=""),t}function p(t,e){var n=t[u]!==e[u],r=M(t,R)&&t!==e,o=t.type!==e.type;return n||r||o}function l(t,e){if(M(t,R))return n.createTextNode(t);if(t.trust){var r=n.createElement("div"),o=n.createDocumentFragment();r.innerHTML=t.children[0];var i=C[c].slice.call(r.childNodes);return N(i,function(t){o.appendChild(t)}),o}var s;if(s=t.props&&t.props.xmlns?n.createElementNS(t.props.xmlns,t.type):n.createElement(t.type),O(s,t.props),S(s,t.props),M(t.children,C)&&N(t.children,function(t){s.appendChild(l(t,e))}),e){var u=t.props,f=u?u.ref:a;f&&(e.refs=e.refs||{},M(f,k)?f(s):M(f,R)&&(e.refs[f]=s))}return s}function d(t,e){return"on"===t.substring(0,2)&&M(e,k)}function h(t){return t.substring(2,t[f]).toLowerCase()}function S(t,e){for(var n in e){var r=e[n];d(n,r)&&r&&t.addEventListener(h(n),r,i)}}function T(t,e,n,r){var i=[];n=n!==a?n:{};var s={};for(var u in e)s[u]=e[u];for(var u in n)s[u]=n[u];for(var u in s){var c=n[u],f=e[u],p=f===a||f===o,l=c===a||c===o||f!==c&&!d(u,s[u]),h=p===-1?c:f;(l||p)&&i.push({target:t,name:u,value:h,op:l||p})}return i}function O(t,e){for(var n in e)j(t,n,e[n],1)}function j(t,n,r,o){if(!d(n,r)&&"ref"!==n){var i=(o===-1?"remove":"set")+"Attribute";return"xlink:href"===n?t.setAttributeNS(e.xlink,"href",r):void(t[n]!==a&&t.namespaceURI!==e.svg?t[n]=r:r!==e.svg&&r!==e.math&&(o===-1?t[i](n):t[i](n,r)))}}return t}(),D=function(){function t(t){var e=this;t&&e.Mount(t)}return t[c]={Req:function(t,e,n,r){return e=e||"GET",L(t,e.toUpperCase(),n,r)},Mount:function(t){var e=this;t===n?t=t.body:M(t,R)&&(t=n.querySelector(t)),t&&t.nodeType?e.mount=t:e.mount=a},Render:function(t,e,r){var o=this;if(e&&(M(e,R)?o.mount=n.querySelector(e):e.nodeType&&(o.mount=e)),!o.mount)throw"element to mount does not exist";if(o.mount.innerHTML="",M(t,S)){var i=t;t=o.Component({render:function(){return i}})}t=t||o.component,o.render=t(r),o.component=t,U(o.mount,o.render,a,a,t(a,a,s))},Component:function e(t){function n(){var e=this;N(t,function(t,n){M(t,k)&&(t=t.bind(e)),e[n]=t})}function r(t){this.type=t.type,this.props=t.props,this.children=t.children}function e(t,e,n){return t&&P(f,d,t,a,s),t&&e?t.children=e:!t&&e&&(t={},t.children=e),t&&f.setProps(t),n?f:f.render()}var o=this;if(M(t,k))return o.Component(t());t.props=t.props||{},t.state=t.state||{},N(["Props","State"],function(t){var e=t.toLowerCase();n[c]["set"+t]=function(t,n){var r=this;if(t&&(M(t,k)&&(t=t(r.state,r.props)),N(t,function(t,n){r[e][n]=t}),"state"===e&&!n&&o.render)){var i=r.component();U(o.mount,i,o.render),o.render=i}}});var f=new n;if(!f.render)throw"no render method";f[p]&&f.setState(f[p](),i),f[l]&&f.setProps(f[l](),i),N(f,function(t,e){r[c].Component=f}),r[c][u]=S;var h=f.render;return f.render=function(){return new r(h())},e},DOM:function(){N(["doctype","a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","map","mark","menu","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],function(t){r[t]=function(){var e=C[c].slice.call(arguments);return e.unshift(t),h.apply(null,e)}})},Route:function(t){function e(){this.settings={},this.url=o,this.interval=o,this.back=function(){history.back()},this.foward=function(){history.foward()},this.go=function(t){history.go(t)},this.nav=function(t){var e=this.settings.addr;t=e?e+t:t,history.pushState(o,o,t)},this.destroy=function(){this.routes={},clearInterval(this.interval)},this.config=function(t){var e=this;N(t,function(t,n){e.settings[n]=t})},this.init=function(){var t=this,e=function(){var e=r.location.pathname;t.url!==e&&(t.url=e,t.changed())};clearInterval(t.interval),t.interval=setInterval(e,50)},this.on=function(t){var e,n=this;if(n.routes||(n.routes={}),M(t,S))e=t;else{var t=arguments;e={},e[t[0]]=t[1]}N(e,function(t,e){var r=n.settings.addr,o=[],i=/([:*])(\w+)|([\*])/g,s=e.replace(i,function(){var t=arguments,e=t[2];return e?(o.push(e),"([^/]+)"):"(?:.*)"}),s=s+"$";n.routes[e]={callback:t,pattern:r?r+s:s,variables:o}})},this.changed=function(){var t=this.url,e=this.routes;N(e,function(e){var r,i=e.callback,s=e.pattern,u=e.variables;if(r=t.match(new RegExp(s))){var c=r.slice(1,r[f]).reduce(function(t,e,n){return t||(t={}),t[u[n]]=e,t},o);if(!M(i,k))throw"could not find render method";n.Render(i,a,c)}})}}var n=this,i=t.mount,s=t.addr,u=t.init,c=t.routes,p=new e;i&&n.Mount(i),s&&p.config({addr:s}),c&&p.on(c),p.init(),u&&p.nav(u),n.route=p},Element:q},t}(),H=function(){function t(t,e,n){return function(){var r=this,i=t in r?r[t]:r.getAttribute(t);if(i!==a&&i!==o){var s={};s[n]=i,e.setState(s)}}}return t}(),I=function(){function t(t){function e(){this.type="p",this.props={},this.children=[t]}return e[c].trust=s,e[c][u]=S,new e}return t}(),W=function(){function t(t,i,a,u,c){return function(f){function p(t){if(!h){if(t.target!==f)return;r(y,"transition",o),r(y,"transform",o)}r(y,"transformOrigin",o),y.willChange&&(y.willChange=o),w.remove(x),b.remove(x),f.removeEventListener(C,p)}if(a=a||"",M(f,R)&&(f=document.querySelector(f)),!f&&f.nodeType)throw"can't animate without an element";var l,d,h,v={},m={},g={},f=f.currentTarget||f,y=f.style,w=f.classList,b=n.body.classList,x="animate-running",C="transitionend";if(M(f.animate,k)&&(h=s),y.willChange&&(y.willChange="transform"),m[1]=getComputedStyle(f).opacity,l=e(f),t&&w.toggle(t),d=t?e(f):l,m[2]=getComputedStyle(f).opacity,g.x=l.left-d.left,g.y=l.top-d.top,g.sx=l.width/d.width,g.sy=l.height/d.height,N(g,function(t,e,n){isFinite(t)||(n[e]=0)}),i=i||200,c=c||"ease",v[1]="translate("+g.x+"px,"+g.y+"px) translateZ(0) scale("+g.sx+","+g.sy+")",v[1]=v[1]+" "+a,v[2]="translate(0,0) translateZ(0) scale(1,1) rotate(0) skew(0)",u&&r(y,"transformOrigin",u),w.add(x),b.add(x),h){var S=f.animate([{transform:v[1],opacity:m[1]},{transform:v[2],opacity:m[2]}],{duration:i,easing:c});S.addEventListener("finish",p)}else y.opacity=m[1],r(y,"transform",v[1]),f.offsetWidth,r(y,"transition","all "+i+"ms "+c+", opacity "+i+"ms "+c),y.opacity=m[2],r(y,"transform",v[2]);return h||f.addEventListener(C,p),i}}function e(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}function r(t,e,n){if(t&&t[e]===o)for(var r=["webkit","Webkit","Moz","ms"],i=0;i<r[f];i++)e=r[i]+e[0].toUpperCase()+e.slice(1),t[e]!==a&&(t[e]=n);else t[e]=n}return t}(),A=function(){function t(t){function e(){return arguments[f]&&(t=arguments[0]),t}return e.toJSON=function(){return t},e}return t}();t.prop=A,t.surl=D,t.h=q,t.bind=H,t.trust=I,t.animate=W});