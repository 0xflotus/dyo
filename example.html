<!DOCTYPE html>
<html>
	<head>
		<title>Playground</title>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="icon" href="data:;base64,iVBORw0KGgo=">
		<script src="surl.min.js"></script>
		<script>
			var view = function (state, methods) {
				return (
					h('ul', {style: 'font-family:sans-serif;'},
						h('button', {onClick: methods.test}, 'Click Me'),
						h('input', {onInput: bind('value', state.data)}), //evt.test, type: 'text'}),
						h('input[type=checkbox]', {checked:true}, ''),

						h('svg', {width: 800, height: 100}, 
							h('rect', {onClick: methods.test, width: 800, height: 100, x: 0, fill: '#008d46'}),
							h('text', {x:0, y:40}, 'svg text & rect element ' + state.list()[0]),
							h('use', {'xlink:href': '#icon'})
						),

						h('math', null,
							h('msqrt', null, 
								h('mn', null, 'Math element')
							)
						),

						[1,2].map( function(){ return h('br'); } ),
						h('h1', null, state.indexClicked() + ' clicked, 1000 items'),

						state.list().map( function(a, i) { return h('li', {onClick: methods.test.bind(null, i) }, a) })
					)
				)
			}

			var routes = {
				api1: {type: 'GET', url: '?users/{id}'}
			}

			var state = {
				data: 'true',
				list: ['hello', 'times', 'other', 'last'],
				indexClicked: 0
			}

			var methods = function (state, update, request, loop) {
				return {
					constructor: function () {
						// request('api1', {id: 1234})
					},
					test: function(index) {
						arr = [];

						var c = state.indexClicked();
						state.indexClicked(index);

						for (var i = 0; i < 100; i++) {
							arr.push(i+ ' ' + state.data() + ' ' + new Date() + performance.now())
						}
						
						state.list(arr);
						update()
					}
				}
			}

			var test = surl().routes(routes).state(state).methods(methods).view(view).mount(document)
		</script>
	</head>
	<body>
	</body>
</html>