!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.dio=e(window)}(function(e){"use strict";function n(e){var n=this.state;this.refs=null,this.this=null,void 0===this.props&&(this.props=e===he||void 0===e||null===e?{}:e),void 0===n&&(n=this.state={}),this._state=null}function t(e,n){n.constructor!==e&&Object.defineProperty(n,"constructor",{value:e}),Object.defineProperties(n,Ue)}function r(e,n){var t=this,r=void 0!==e&&null!==e?e:{},o=t.state,i=r.constructor;if(i===Function){if(void 0===(r=x(xe,t,r,o,0))||null===r)return;i=r.constructor}switch(i){case ve:r.then(function(e){t.setState(e,n)});break;case Object:t._state=r,t.forceUpdate(n)}}function o(e){var n=this,t=n.this;if(null===t||null===t.node||0!==t.async)return void(3===t.async&&ye(function(){n.forceUpdate(e)}));G(t,t,3),void 0!==e&&"function"==typeof e&&x(t,n,e,n.state,1)}function i(e,n){for(var t in n)e[t]=n[t]}function l(e,n){if(void 0!==n&&null!==n)switch(n.constructor){case ve:n.then(function(n){e.async=0,e.owner.setState(n)});break;case Object:e.owner.state=n}}function c(e,n,t,r){if("object"==typeof n)return n;var o=x(xe,e,n,r,0);return void 0!==o&&null!==o?Object.defineProperty(e,t,{value:o}):void 0}function a(e,n,t){var r=n.name,o=n.propTypes;try{for(var i in o){var l=o[i],c=l(t,i,r);c&&console.error(c)}}catch(n){C(n,xe,e,2,l)}}function u(e,n){var t=e,r=void 0!==n?n:null,o=arguments.length,i=0,l=0,c=0,a=2,u=0,f=new g(2);if(null!==r)switch(r.constructor){case Object:void 0!==r.key&&(f.key=r.key),void 0!==r.xmlns&&(f.xmlns=r.xmlns),c++,f.props=r;break;case Array:i=r.length;default:r=he,a=1}else c++;switch(t.constructor){case String:f.tag=t,f.attrs=r;break;case Function:var p=t.prototype;f.group=u=void 0!==p&&void 0!==p.render?2:1;break;default:void 0!==t.flag?(M(t.props,r),0===(t=t.type,u=t.group)?f.tag=t:f.props.children=pe):void 0!==t.nodeType&&(f.flag=6)}if(f.type=t,o-c>1){var h=f.children=new Array(i);if(u<1)for(;a<o;a++)l=s(f,l,arguments[a]);else{for(null!==r&&r!==he||(r=f.props={});a<o;a++)l=d(f,l,arguments[a]);r.children=h,f.children=pe}}return f}function s(e,n,t){var r,o=e.children;if(null===t||void 0===t)r=f("");else if(void 0!==t.group)e.keyed===!1&&null!==t.key&&(e.keyed=!0),r=t;else switch(t.constructor){case Number:case String:r=f(t);break;case Array:for(var i=0,l=n,c=t.length;i<c;i++)l=s(e,l,t[i]);return l;case Function:r=u(t,null);break;case Object:r=v(t);break;case Date:r=f(t.toString());break;case Boolean:f("");break;default:r=f("")}return o[n]=r,n+1}function d(e,n,t){var r=e.children;if(null!==t&&void 0!==t&&t.constructor===Array){for(var o=0,i=n,l=t.length;o<l;o++)i=d(e,i,t[o]);return i}return r[n]=t,n+1}function f(e){var n=new g(1);return n.type=n.tag="#text",n.children=e,n}function p(e){var n=u("div",null,e);return n.flag=4,n}function h(e){var n=new g(3);return n.children=[e],n}function v(e){try{return u("pre",null,JSON.stringify(e,null,2))}catch(e){return f("")}}function y(e,n,t){e.flag=n.flag,e.tag=n.tag,e.ref=n.ref,e.node=n.node,e.attrs=n.attrs,e.xmlns=n.xmlns,e.async=n.async,e.keyed=n.keyed,e.children=n.children,t===!0&&(e.parent=n.parent,e.props=n.props,e.owner=n.owner,e.yield=n.yield,e.group=n.group,e.type=n.type,e.host=n.host,e.key=n.key)}function g(e){this.flag=e,this.tag=null,this.key=null,this.ref=null,this.type=null,this.node=null,this.host=null,this.root=null,this.group=0,this.async=0,this.props=he,this.attrs=he,this.xmlns=null,this.owner=null,this.yield=null,this.keyed=!1,this.parent=null,this.children=pe}function w(e,n,t,r){try{switch(t){case 0:return S(e,n.componentWillReceiveProps(r),n,null,!0);case 1:return n.getInitialState(r)}}catch(r){C(r,e,n,0,t)}}function m(e,n,t,r,o){try{switch(t){case 0:return n.shouldComponentUpdate(r,o);case 1:return S(e,n.componentWillUpdate(r,o),n,null,!0);case 2:return S(e,n.componentDidUpdate(r,o),n,null,!1)}}catch(r){C(r,e,n,1,t)}}function k(e,n){try{if(null!==e.yield)return e.yield();switch(n){case 1:return e.type(e.props);case 2:case 3:return e.owner.render(e.owner.props,e.owner.state)}}catch(t){return C(t,e,n>1?e.owner:e.type,3,n)}}function b(e,n,t,r){try{switch(r){case 0:return S(e,n.componentWillMount(t),n,null,!1);case 1:return S(e,n.componentDidMount(t),n,null,!0);case 2:return n.componentWillUnmount(t)}}catch(t){C(t,e,n,4,r)}}function x(e,n,t,r,o){try{return 0===o?t.call(n,r):S(e,t.call(n,r),n,null,!1)}catch(r){C(r,e,n,2,t)}}function U(e,n,t,r){try{return S(e,t.call(n,r),n,r,!0)}catch(r){C(r,e,n,5,t)}}function S(e,n,t,r,o){if(!(void 0===n||null===n||e.group<2))return o===!0?t.setState(n):void ge(function(){t.setState(n)})}function C(e,n,t,r,o){var i,l,c="#unknown";try{i=D(r,o)||c,null!==t&&(void 0!==t.componentDidThrow&&(l=t.componentDidThrow({location:i,message:e})),c="function"==typeof t?t.name:t.constructor.name)}catch(n){e=n,i="componentDidThrow"}if(T(c,i,e instanceof Error?e.stack:e),3===r||5===r)return _(l,n,se)}function D(e,n){if("function"==typeof n)return n.name;switch(e){case 0:switch(n){case 0:return"componentWillReceiveProps";case 1:return"getInitialState"}break;case 1:switch(n){case 0:return"shouldComponentUpdate";case 1:return"componentWillUpdate";case 2:return"componentDidUpdate"}break;case 3:return"render";case 4:switch(n){case 0:return"componentWillMount";case 1:return"componentDidMount";case 2:return"componentWillUnmount"}break;case 5:return"event"}}function T(e,n,t){console.error(t+'\n\n  ^^ Error caught in "'+e+'" from "'+n+'" \n')}function j(e){switch(e){case"class":case"className":return 1;case"width":case"height":return 3;case"xlink:href":return 4;case"defaultValue":return 5;case"id":case"selected":case"hidden":case"checked":case"value":return 6;case"innerHTML":return 10;case"style":return 20;case"ref":return 30;case"key":case"children":return 31;default:return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)?21:0}}function P(e,n){var t=e.attrs,r=e.node;for(var o in t){var i=j(o);if(i<31){var l=t[o];30===i?W(e,l,2):i<20?void 0!==l&&null!==l&&ie(i,o,l,n,r):i>20?ae(e,o,l,1):ce(e,e,0)}}}function A(e,n){var t=e.node,r=e.attrs,o=n.attrs;if(r!==o||o!==he){var i=e.xmlns;for(var l in r){var c=j(l);if(c<31){var a=o[l];null===a||void 0===a?c<20?ie(c,l,a,i,t):c>20&&ae(e,l,a,0):30===c&&a!==(u=r[l])&&W(e,u,0)}}for(var l in o){var c=j(l);if(c<31){var a=o[l];if(30===c)W(e,a,2);else{var u=r[l];a!==u&&null!==a&&void 0!==a&&(c<20?ie(c,l,a,i,t):c>20?ae(e,l,a,2):ce(e,n,1))}}}e.attrs=o}}function W(e,n,t){var r=e.host,o=!1;if(null!==r){var i=r.owner;null!==i&&r.group>1&&(o=!0)}if(o===!0&&null===i.refs&&(i.refs={}),void 0!==(e.ref=n)&&null!==n){var l=t>0?e.node:null;switch(n.constructor){case Function:x(e,i,n,l,2);break;case String:o===!0&&(i.refs[n]=l)}}}function M(e,n){for(var t in e)void 0===n[t]&&(n[t]=e[t])}function N(e,n,t,r,o,i){var l,c,a,u,s=o,d=i,f=e.group,p=e.flag,h=2,v=null;switch(1!==p&&null!==e.xmlns&&(d=e.xmlns),s!==xe&&(e.host=s),f>0&&(f>1&&(s=e),a=O(e,!0),p=a.flag,c=e.owner),p){case 1:v=e.node=Z(e.children),h=1;break;case 3:N(a=a.children[0],n,t,r,e,i),e.node=a.node;break;default:if(2===p){switch(u=e.tag){case"svg":d=me;break;case"math":d=be}if(v=Y(u,e,s,d),5===e.flag)return N(v,e,t,r,s,d),void y(e,v,!1);e.node=v}else e.node=e.type;var w=e.children,m=w.length;if(m>0)for(var k,x=0;x<m;x++)null!==(k=w[x]).node&&y(k=w[x]=new g(k.flag),k,!1),N(k,e,t,1,s,d)}if(f>0&&void 0!==c.componentWillMount&&b(e,c,v,0),e.parent=n,null!==v){switch(r){case 1:ee(e,n);break;case 2:$(e,t,n);break;case 3:l=q(t,e,n)}1!==h&&P(e,d,v)}f>0&&l!==!0&&void 0!==c.componentDidMount&&b(e,c,v,1)}function O(e,r){var o,i,a,u,s=e.type,d=e.props,f=e.children,p=e.group,h=f.length,v=s.defaultProps,y=s.propTypes;return d===he&&(d={}),0!==h&&(d.children=f),void 0!==v&&M(c(s,v,"defaultProps",d),d),void 0!==y&&c(s,y,"propTypes",d),p>1?(u=(a=s.prototype).UUID,2===u?o=new s(d):(1!==u&&t(s,a),o=new s(d),n.call(o,d)),e.owner=o,void 0!==o.getInitialState&&l(e,w(xe,o,1,o.props)),e.async=1,i=k(e,p),e.async=0,i=_(i,o.this=e,r)):(e.owner=s,i=_(k(e,p),e,r)),e.tag=i.tag,e.flag=i.flag,e.node=i.node,e.attrs=i.attrs,e.xmlns=i.xmlns,e.children=i.children,i}function _(e,n,t){var r=null!==e&&void 0!==e?e:f("");if(void 0===r.group)switch(r.constructor){case Function:r=null===n?u(r,n):2===n.group?u(r,n.owner.props):u(r,n.props);break;case String:case Number:case Boolean:return f(r);default:switch(r.constructor){case ve:return null===n||0===n.flag?f(""):E(n,r);case Array:return p(r);case Date:return f(r+"");case Object:return v(r);default:if(void 0===r.next||null===n)return f("");r=F(n,r)}}return r.group>0&&t===!0?h(r):r}function E(e,n){return e.async=2,n.then(function(n){var t=n;null!==e.node&&(e.async=0,t=_(t,e,!0),e.tag!==t.tag?H(e,t,!1):G(e,t,0))}),null!==e.node?e:f("")}function F(e,n){var t,r;return e.yield=function(){var o=n.next(t),i=o.value;return r=o.done===!0?_(void 0!==i&&null!==i?i:t,e,!0):_(i,e,!0),t=r},_(k(e,e.group),e,!0)}function I(e,n,t){for(var r=n.children,o=e.host,i=0;i<t;i++)N(r[i],e,xe,1,o,null);e.children=r}function L(e,n,t,r){r.then(function(){null!==t.node&&null!==e.node&&(n===xe?ne(e,t):null!==n.node&&(te(e,n,t),n.group>0&&void 0!==n.owner.componentDidMount&&b(n,n.owner,n.node,1)),B(e,!0))})}function q(e,n,t){if(e.group>0&&void 0!==e.owner.componentWillUnmount){var r=b(e,e.owner,e.node,2);if(void 0!==r&&null!==r&&r.constructor===ve)return L(e,n,t,r,e.node),!0}return B(e,!1),n===xe?ne(e,t):te(e,n,t),R(e),!1}function B(e,n){var t=e.children,r=t.length,o=e.flag;if(o>1){if(0!==r)for(var i=0;i<r;i++){var l=t[i];l.group>0&&void 0!==l.owner.componentWillUnmount&&b(l,l.owner,l.node,2),B(l,!0)}o<3&&null!==e.ref&&W(e,e.ref,0)}n===!0&&R(e)}function R(e){e.parent=null,e.owner=null,e.node=null,e.host=null}function H(e,n,t){J(e,n,e.host),y(e,n,t),V(e.host,n)}function V(e,n){null!==e&&3===e.flag&&(e.node=n.node,e.parent=n.parent,e.host!==e&&V(e.host,n))}function J(e,n){N(n,e.parent,e,3,e.host,null)}function z(n,t,r){var o=n,i=t;if(void 0===o||null===o)o=f("");else if(void 0===o.flag)switch(typeof o){case"function":o=u(o);break;case"object":o=p(o);break;case"number":case"boolean":case"string":o=f(o)}if(void 0===i||null===i){if(null===we&&(we=void 0!==e.document?document.body||document.documentElement:null),de===!0&&null===we)return Se.renderToString(o);i=we}var l=i.this;if(void 0!==l)l.key===o.key?G(l,o,l.group):H(l,o,!0);else{var c=new g(2);switch(i.this=o,r){case"replace":c.node=(xe.node=i).parentNode,N(o,c,xe,3,o,null),xe.node=null;break;case"destroy":i.textContent=null;default:c.node=i,N(o,c,xe,1,o,null)}}void 0!==r&&r.constructor===Function&&r()}function G(e,n,t){var r,o,l=n;if((o=e.type)!==l.type)return void H(e,l,!0);if(t>0){var c=e.owner;if(null===c||0!==e.async)return;var u,s,d=l.props,f=e.props;if(t>1?(s=c.state,u=c._state):(s=f,u=d),e.async=1,t<3&&(void 0!==o.propTypes&&a(c,o,d),void 0!==c.componentWillReceiveProps&&w(e,c,0,d),void 0!==o.defaultProps&&M(o.defaultProps,d===he?d={}:d)),void 0!==c.shouldComponentUpdate&&m(e,c,0,d,u)===!1)return void(e.async=0);if(t<3&&(t>1?c.props=d:e.props=d),void 0!==c.componentWillUpdate&&(e.async=3,m(e,c,1,d,u),e.async=1),t>1&&i(s,u),l=_(k(e,t),e,!0),2===e.async)return;e.async=0,l.tag!==e.tag?(H(e,l,!1),r=!0):3===l.flag&&(G(e.children[0],l.children[0],t),r=!0)}if(1===e.flag)e.children!==l.children&&oe(e,l);else if(r!==!0){var p=e.children.length,h=l.children.length;if(0===p)0!==h&&(I(e,l,h),e.children=l.children);else if(0===h)0!==p&&(B(e,!1),re(e),e.children=l.children);else switch(l.keyed){case!1:K(e,l,p,h);break;case!0:Q(e,l,p,h)}A(e,l)}t>0&&void 0!==e.owner.componentDidUpdate&&(e.async=3,m(e,c,2,f,s),e.async=0)}function K(e,n,t,r){for(var o=e.host,i=e.children,l=n.children,c=r>t?r:t,a=0;a<c;a++)if(a>=r)q(i.pop(),xe,e);else if(a>=t)N(i[a]=l[a],e,xe,1,o,null);else{var u=l[a],s=i[a];1===u.flag&&1===s.flag?u.children!==s.children&&oe(s,u):u.type!==s.type?N(i[a]=u,e,s,3,o,null):G(s,u,s.group)}}function Q(e,n,t,r){var o,i,l=e.host,c=e.children,a=n.children,u=0,s=0,d=t-1,f=r-1,p=c[u],h=a[s],v=c[d],y=a[f];e:for(;;){for(;p.key===h.key;){if(a[s]=p,G(p,h,p.group),u++,s++,u>d||s>f)break e;p=c[u],h=a[s]}for(;v.key===y.key;){if(a[f]=v,G(v,y,v.group),d--,f--,u>d||s>f)break e;v=c[d],y=a[f]}if(v.key!==h.key){if(p.key!==y.key)break;a[f]=p,c[u]=v,o=f+1,o<r?$(p,c[o],e):ee(p,e),G(p,y,p.group),u++,f--,p=c[u],y=a[f]}else a[s]=v,c[d]=p,$(v,p,e),G(v,h,v.group),d--,s++,v=c[d],h=a[s]}if(u>d){if(s<=f){o=f+1,i=o<r?a[o]:xe;do{N(h=a[s++],e,i,2,l,null)}while(s<=f)}}else if(s>f)do{q(p=c[u++],xe,e)}while(u<=d);else 0===s&&f===r-1?(B(e,!1),re(e),I(e,n,r)):X(e,n,u,s,d+1,f+1,t,r);e.children=a}function X(e,n,t,r,o,i,l,c){for(var a,u,s,d,f=e.host,p=e.children,h=n.children,v={},y={},g=t,w=r,m=0,k=0;;)if(g<o&&(a=p[g],v[a.key]=g++),w<i&&(u=h[w],y[u.key]=w++),g===o&&w===i)break;for(g=t,w=r;w<i;)u=h[w],g=v[u.key],void 0===g?(d=w-k,s=d<l?p[d]:xe,N(u,e,s,2,f,null),k++):w===g&&(a=p[g],G(h[w]=a,u,a.group)),w++;for(g=t;g<o;)a=p[g],w=y[a.key],void 0===w&&(q(a,xe,e),m++),g++;if(m=o-t-m,k=i-r-k,m+k!==2)for(w=i-1;w>=r;)u=h[w],null===u.node&&void 0!==(g=v[u.key])&&(a=p[g],(d=w+1)<c?$(a,h[d],e):ee(a,e),G(h[w]=a,u,a.group)),w--}function Y(e,n,t,r){try{return null===r?document.createElement(e):document.createElementNS(n.xmlns=r,e)}catch(e){return C(e,t,t.owner,n.flag=5,0)}}function Z(e){return document.createTextNode(e)}function $(e,n,t){t.node.insertBefore(e.node,n.node)}function ee(e,n){n.node.appendChild(e.node)}function ne(e,n){n.node.removeChild(e.node)}function te(e,n,t){t.node.replaceChild(n.node,e.node)}function re(e){e.node.textContent=null}function oe(e,n){e.node.nodeValue=e.children=n.children}function ie(e,n,t,r,o){switch(e){case 0:null===r&&n in o?le(n,t,o):null!==t&&void 0!==t&&t!==!1?o.setAttribute(n,t===!0?"":t):o.removeAttribute(n);break;case 1:null===r?o.className=t:ie(0,"class",t,r,o);break;case 3:void 0===o[n]?o.style.setProperty(n,t):isNaN(Number(t))===!0?ie(0,n,t,r,o):ie(6,n,t,r,o);break;case 4:o.setAttributeNS(ke,"href",t);break;case 5:case 6:null===r?o[n]=t:ie(0,n,t,r,o);break;case 10:o.innerHTML=t}}function le(e,n,t){try{t[e]=n}catch(e){}}function ce(e,n,t){var r=e.node.style,o=n.attrs.style;if(o.constructor===String)r.cssText=o;else switch(t){case 0:for(var i in o){var l=o[i];45===i.charCodeAt(0)?r.setProperty(i,l):r[i]=l}break;case 1:e.attrs.style;for(var i in o){var l=o[i];45===i.charCodeAt(0)?r.setProperty(i,l):r[i]=l}}}function ae(e,n,t,r){var o=n.toLowerCase().substring(2),i=e.host,l=e.node,c=l._fns;switch(void 0===c&&(c=l._fns={}),r){case 0:l.removeEventListener(o,ue),void 0!==l._this&&(l._this=null);break;case 1:l.addEventListener(o,ue);case 2:null!==i&&i.group>1&&(l._this=e)}c[o]=t}function ue(e){var n,t=e.type,r=this._fns,o=r[t];null!==o&&void 0!==o&&(void 0!==(n=this._this)?U(n,n.host.owner,o,e):o.call(this,e))}var se=e.window===e,de=se===!1,fe=function(){},pe=[],he={children:pe},ve=e.Promise||fe,ye=e.requestAnimationFrame||setTimeout,ge=e.requestIdleCallback||setTimeout,we=null,me="http://www.w3.org/2000/svg",ke="http://www.w3.org/1999/xlink",be="http://www.w3.org/1998/Math/MathML",xe=new g(0),Ue={setState:{value:r},forceUpdate:{value:o},UUID:{value:2}};n.prototype=Object.create(null,Ue),Ue.UUID.value=1;var Se=(g.prototype=u.prototype=Object.create(null),{version:"7.0.0",h:u,createElement:u,render:z,Component:n});return e.h=u,de===!0&&"function"==typeof require&&require("./dio.server.js")(Se,u,_,O,j,he),Se});