!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.dio=e(window)}(function(e){"use strict";function n(e){var n=e,t=this.state;this.refs=null,this.this=null,this.async=0,void 0===this.props&&(n!==he&&void 0!==n&&null!==n||(n={}),this.props=n),void 0===t&&(t=void 0!==this.getInitialState?c(m(De,this,1,n),this):{},this.state=t),this._props=n,this._state=t,this._pending=t}function t(e,n){n.constructor!==e&&Object.defineProperty(n,"constructor",{value:e}),Object.defineProperties(n,Se)}function r(e,n){var t=this;if(void 0!==e&&null!==e){var r=t.state,o=e.constructor;if(o===Function){if(void 0===(e=x(De,t,e,r,0))||null===e)return;o=e.constructor}if(o===ge)e.then(function(e){t.setState(e,n)});else{t._pending=e;var i=t._state={};for(var c in r)i[c]=r[c];for(var c in e)r[c]=e[c];t.forceUpdate(n)}}}function o(e){var n=this,t=n.this;if(null===t||null===t.node||0!==t.async||0!==n.async)return void(3===t.async&&we(function(){n.forceUpdate(e)}));Q(t,t,3),void 0!==e&&"function"==typeof e&&x(t,n,e,n.state,1)}function i(e,n,t){var r,o,i,c=e.type,l=e.owner,i=n.props;return null!==l&&0===e.async&&(e.async=1,t>1?(l._props=e.props,o=l._pending):o=i,r=t<3&&i!==he,r===!0&&(void 0!==c.propTypes&&u(l,c,i),void 0!==l.componentWillReceiveProps&&m(e,l,0,i),void 0!==c.defaultProps&&M(c.defaultProps,i)),void 0!==l.shouldComponentUpdate&&k(e,l,0,i,o)===!1?(e.async=0,!1):(r===!0&&((t>1?l:e).props=i),void 0!==l.componentWillUpdate&&k(e,l,1,i,o),!0))}function c(e,n){return null===e||void 0===e?{}:e.constructor===ge?(n.async=1,e.then(function(e){n.async=0,n.setState(e)}),{}):e}function l(e,n,t,r){if("object"==typeof n)return n;var o=x(De,e,n,r,0);void 0!==o&&null!==o&&Object.defineProperty(e,t,{value:o})}function a(e){var n=e.owner;e.async=3,k(e,n,2,n._props,n._state),e.async=0}function u(e,n,t){var r,o,i=n.name,c=n.propTypes;try{for(var l in c)r=c[l],(o=r(t,l,i))&&console.error(o)}catch(n){_(n,De,e,2,r)}}function s(e,n){var t,r,o=e,i=void 0!==n?n:null,c=arguments.length,l=0,a=0,u=0,s=2,p=0,h=new w(2);if(null!==i)switch(i.constructor){case Object:void 0!==i.key&&(h.key=i.key),void 0!==i.xmlns&&(h.xmlns=i.xmlns),u++,h.props=i;break;case Array:l=i.length;default:i=he,s=1}else u++;switch(o.constructor){case String:h.tag=o,h.attrs=i;break;case Function:void 0!==(t=o.prototype)&&void 0!==t.render?p=h.group=2:(p=h.group=1,h.owner=o)}if(h.type=o,c-u>1)if(r=new Array(l),p<1)for(h.children=r;s<c;s++)a=d(h,a,arguments[s]);else{for(null!==(i=h.props)&&i!==he||(i=h.props={}),h.children=r;s<c;s++)a=f(h,a,arguments[s]);i.children=r,h.children=pe}return h}function d(e,n,t){var r,o,i=e.children;if(null===t||void 0===t)r=p("");else if(void 0!==t.group)e.keyed===!1&&null!==t.key&&(e.keyed=!0),r=t;else switch(typeof t){case"function":r=s(t,null);break;case"object":if(void 0!==(o=t.length)){for(var c=0,l=n;c<o;c++)l=d(e,l,t[c]);return l}switch(t.constructor){case Date:r=p(t+"");break;case Object:r=y(t);break;default:r=p("")}break;default:r=p(t)}return i[n]=r,n+1}function f(e,n,t){var r=e.children;if(null!==t&&"object"==typeof t){var o=t.length;if(void 0!==o){for(var i=0,c=n;i<o;i++)c=f(e,c,t[i]);return c}}return r[n]=t,n+1}function p(e){var n=new w(1);return n.type=n.tag="#text",n.children=e===!0||e===!1?"":e,n}function h(e){var n=s("div",null,e);return n.flag=4,n}function v(e){var n=new w(3);return n.children=[e],n}function y(e){try{return s("pre",null,JSON.stringify(e,null,2))}catch(e){return p("")}}function g(e,n,t){e.flag=n.flag,e.tag=n.tag,e.node=n.node,e.attrs=n.attrs,e.xmlns=n.xmlns,e.async=n.async,e.keyed=n.keyed,e.children=n.children,t===!0&&(e.parent=n.parent,e.props=n.props,e.owner=n.owner,e.yield=n.yield,e.group=n.group,e.type=n.type,e.host=n.host,e.key=n.key)}function w(e){this.flag=e,this.tag=null,this.key=null,this.type=null,this.node=null,this.host=null,this.root=null,this.group=0,this.async=0,this.props=he,this.attrs=he,this.xmlns=null,this.owner=null,this.yield=null,this.keyed=!1,this.parent=null,this.children=pe}function m(e,n,t,r){try{switch(t){case 0:return S(e,n.componentWillReceiveProps(r),n,null,!0);case 1:return n.getInitialState(r)}}catch(r){_(r,e,n,0,t)}}function k(e,n,t,r,o){try{switch(t){case 0:return n.shouldComponentUpdate(r,o);case 1:return S(e,n.componentWillUpdate(r,o),n,null,!0);case 2:return S(e,n.componentDidUpdate(r,o),n,null,!1)}}catch(r){_(r,e,n,1,t)}}function b(e,n){try{if(null!==e.yield)return e.yield();switch(n){case 1:return e.type(e.props);case 2:case 3:return e.owner.render(e.owner.props,e.owner.state)}}catch(t){return _(t,e,n>1?e.owner:e.type,3,n)}}function U(e,n,t,r){try{switch(r){case 0:return S(e,n.componentWillMount(t),n,null,!1);case 1:return S(e,n.componentDidMount(t),n,null,!0);case 2:return n.componentWillUnmount(t)}}catch(t){_(t,e,n,4,r)}}function x(e,n,t,r,o){try{return 0===o?t.call(n,r):S(e,t.call(n,r),n,null,!1)}catch(r){_(r,e,n,2,t)}}function D(e,n,t,r){try{return S(e,t.call(n,r),n,r,!0)}catch(r){_(r,e,n,5,t)}}function S(e,n,t,r,o){if(!(void 0===n||null===n||e.group<2))return o===!0?t.setState(n):void me(function(){t.setState(n)})}function _(e,n,t,r,o){var i,c,l="#unknown";try{i=j(r,o)||l,null!==t&&(void 0!==t.componentDidThrow&&(c=t.componentDidThrow({location:i,message:e})),l="function"==typeof t?t.name:t.constructor.name)}catch(n){e=n,i="componentDidThrow"}if(C(l,i,e instanceof Error?e.stack:e),3===r||5===r)return E(c,n,ye)}function j(e,n){if("function"==typeof n)return n.name;switch(e){case 0:switch(n){case 0:return"componentWillReceiveProps";case 1:return"getInitialState"}break;case 1:switch(n){case 0:return"shouldComponentUpdate";case 1:return"componentWillUpdate";case 2:return"componentDidUpdate"}break;case 3:return"render";case 4:switch(n){case 0:return"componentWillMount";case 1:return"componentDidMount";case 2:return"componentWillUnmount"}break;case 5:return"event"}}function C(e,n,t){console.error(t+'\n\n  ^^ Error caught in "'+e+'" from "'+n+'" \n')}function P(e){switch(e){case"class":case"className":return 1;case"width":case"height":return 3;case"xlink:href":return 4;case"defaultValue":return 5;case"id":case"selected":case"hidden":case"checked":case"value":return 6;case"innerHTML":return 10;case"style":return 20;case"ref":return 30;case"key":case"children":return 31;default:return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)?21:0}}function T(e,n,t){var r,o,i=e.attrs;for(var c in i)(r=P(c))<31&&(o=i[c],30===r?A(e,o,2):r<20?void 0!==o&&null!==o&&le(r,c,o,n,t):r>20?se(e,c,o,1,t):ue(e,e,0))}function W(e,n){var t=e.node,r=e.attrs,o=n.attrs;if(r!==o||P!==he){var i,c,l,a=e.xmlns;for(var u in r)(i=P(u))<30&&(null!==(l=o[u])&&void 0!==l||(i<20?le(i,u,l,a,t):i>20&&se(e,u,l,0)));for(var u in o)(i=P(u))<31&&(l=o[u],30===i?A(e,l,2):(c=r[u],l!==c&&null!==l&&void 0!==l&&(i<20?le(i,u,l,a,t):i>20?se(e,u,l,2):ue(e,n,1))));e.attrs=o}}function A(e,n,t){var r,o=e.host,i=!1;if(null!==o&&null!==(r=o.owner)&&o.group>1&&(i=!0),i===!0&&null===r.refs&&(r.refs={}),void 0!==n&&null!==n)switch(n.constructor){case Function:x(e,r,n,e.node,t);break;case String:i===!0&&(r.refs[n]=e.node)}}function M(e,n){for(var t in e)void 0===n[t]&&(n[t]=e[t])}function N(e,n,t,r,o,i){var c,l,a,u,s=o,d=i,f=e.group,p=e.flag,h=2,v=null;switch(1!==p&&null!==e.xmlns&&(d=e.xmlns),s!==De&&(e.host=s),f>0&&(f>1&&(s=e),a=O(e,!0),p=a.flag,l=e.owner),p){case 1:v=e.node=ee(e.children),h=1;break;case 3:N(a=a.children[0],n,t,r,e,i),e.node=a.node;break;default:switch(u=e.tag){case"svg":d=be;break;case"math":d=xe}if(v=$(u,e,s,d),5===e.flag)return N(v,e,t,r,s,d),void g(e,v,!1);e.node=v;var y=e.children,m=y.length;if(m>0)for(var k,b=0;b<m;b++)null!==(k=y[b]).node&&g(k=y[b]=new w(k.flag),k,!1),N(k,e,t,1,s,d)}if(f>0&&void 0!==l.componentWillMount&&U(e,l,v,0),e.parent=n,null!==v){switch(r){case 1:te(e,n);break;case 2:ne(e,t,n);break;case 3:c=R(t,e,n)}1!==h&&T(e,d,v)}f>0&&c!==!0&&void 0!==l.componentDidMount&&U(e,l,v,1)}function O(e,r){var o,i,c,a,u=e.type,s=e.props,d=e.children,f=d.length,p=e.group,h=u.defaultProps,v=u.propTypes;return s===he&&(s={}),0!==f&&(s.children=d),void 0!==h&&M(l(u,h,"defaultProps",s),s),void 0!==v&&l(u,v,"propTypes",s),p>1?(a=(c=u.prototype).UUID,2===a?o=new u(s):(1!==a&&t(u,c),o=new u(s),n.call(o,s)),e.owner=o,0===o.async&&(e.async=1,i=b(e,p),e.async=0),i=E(i,o.this=e,r)):i=E(b(e,p),e,r),e.tag=i.tag,e.flag=i.flag,e.node=i.node,e.attrs=i.attrs,e.xmlns=i.xmlns,e.children=i.children,i}function E(e,n,t){var r=null!==e&&void 0!==e?e:p("");if(void 0===r.group)switch(typeof r){case"function":r=null===n?s(r,n):2===n.group?s(r,n.owner.props):s(r,n.props);break;case"string":case"number":case"boolean":return p(r);case"object":switch(r.constructor){case ge:return null===n||0===n.flag?p(""):I(n,r);case Array:return h(r);case Date:return p(r+"");case Object:return y(r);default:if(void 0===r.next||null===n)return p("");r=L(n,r)}}return r.group>0&&t===!0?v(r):r}function I(e,n){return e.async=2,n.then(function(n){var t=n;null!==e.node&&(e.async=0,t=E(t,e,!0),e.tag!==t.tag?B(e,t,!1):Q(e,t,0))}),null!==e.node?e:p("")}function L(e,n){var t,r;return e.yield=function(){var o=n.next(t),i=o.value;return r=o.done===!0?E(void 0!==i&&null!==i?i:t,e,!0):E(i,e,!0),t=r},E(b(e,e.group),e,!0)}function q(e,n,t){for(var r=n.children,o=e.host,i=0;i<t;i++)N(r[i],e,De,1,o,null);e.children=r}function F(e,n,t,r){r.then(function(){null!==t.node&&null!==e.node&&(n===De?re(e,t):null!==n.node&&(oe(e,n,t),n.group>0&&void 0!==n.owner.componentDidMount&&U(n,n.owner,n.node,1)),H(e,!0))})}function R(e,n,t){if(e.group>0&&void 0!==e.owner.componentWillUnmount){var r=U(e,e.owner,e.node,2);if(void 0!==r&&null!==r&&r.constructor===ge)return F(e,n,t,r,e.node),!0}return H(e,!1),n===De?re(e,t):oe(e,n,t),V(e),!1}function H(e,n){var t=e.children,r=t.length;if(0!==r&&1!==e.flag)for(var o,i=0;i<r;i++)o=t[i],o.group>0&&void 0!==o.owner.componentWillUnmount&&U(o,o.owner,o.node,2),H(o,!0);n===!0&&V(e)}function V(e){e.parent=null,e.owner=null,e.node=null,e.host=null}function B(e,n,t){G(e,n,e.host),g(e,n,t),J(e.host,n)}function J(e,n){null!==e&&3===e.flag&&(e.node=n.node,e.parent=n.parent,e.host!==e&&J(e.host,n))}function z(e,n,t){Q(e.children[0],n.children[0],t)}function G(e,n){N(n,e.parent,e,3,e.host,null)}function K(n,t){var r,o,i,c=n,l=t;if(void 0===c||null===c)c=p("");else if(void 0===c.flag)switch(typeof c){case"function":c=s(c);break;case"object":c=h(c);break;case"number":case"boolean":case"string":c=p(c)}if((void 0===l||null===l)&&(null===ke&&(ke=void 0!==e.document?document.body||document.documentElement:null),null===(l=ke)&&void 0!==c.toString))return c.toString();void 0!==(r=l.this)?r.key===c.key&&r.type===c.type?Q(r,c,r.group):B(r,c,!0):(i=new w(2),l.this=c,null!==l.getAttribute("slot")?(o=new w(2),o.node=l,i.node=l.parentNode,N(c,i,o,3,c,null)):(i.node=l,N(c,i,De,1,c,null)))}function Q(e,n,t){var r=n;if(e.type!==r.type)return B(e,r,!0);if(t>0){if(i(e,r,t)===!1)return;if(r=E(b(e,t),e,!0),2===e.async)return;if(e.async=0,r.tag!==e.tag)return B(e,r,!1);if(3===r.flag)return z(e,r,t),void(void 0!==e.owner.componentDidUpdate&&a(e))}if(1===e.flag)return ce(e,e.children=r.children);var o=r.children.length,c=e.children.length;0===c?0!==o&&(q(e,r,o),e.children=r.children):0===o?0!==c&&(H(e,!1),ie(e),e.children=r.children):r.keyed===!0?Y(e,r,c,o):X(e,r,c,o),W(e,r),t>0&&void 0!==e.owner.componentDidUpdate&&a(e)}function X(e,n,t,r){for(var o,i,c=e.host,l=e.children,a=n.children,u=t,s=r>u?r:u,d=0;d<s;d++)d>=r?(R(i=l.pop(),De,e),u--):d>=u?(N(o=l[d]=a[d],e,De,1,c,null),u++):(o=a[d],i=l[d],1===o.flag&&1===i.flag?ce(i,i.children=o.children):o.type!==i.type?N(l[d]=o,e,i,3,c,null):Q(i,o,i.group))}function Y(e,n,t,r){var o,i,c=e.host,l=e.children,a=n.children,u=0,s=0,d=t-1,f=r-1,p=l[u],h=a[s],v=l[d],y=a[f];e:for(;;){for(;p.key===h.key;){if(a[s]=p,Q(p,h,p.group),u++,s++,u>d||s>f)break e;p=l[u],h=a[s]}for(;v.key===y.key;){if(a[f]=v,Q(v,y,v.group),d--,f--,u>d||s>f)break e;v=l[d],y=a[f]}if(v.key!==h.key){if(p.key!==y.key)break;a[f]=p,l[u]=v,o=f+1,o<r?ne(p,l[o],e):te(p,e),Q(p,y,p.group),u++,f--,p=l[u],y=a[f]}else a[s]=v,l[d]=p,ne(v,p,e),Q(v,h,v.group),d--,s++,v=l[d],h=a[s]}if(u>d){if(s<=f){o=f+1,i=o<r?a[o]:De;do{N(h=a[s++],e,i,2,c,null)}while(s<=f)}}else if(s>f)do{R(p=l[u++],De,e)}while(u<=d);else 0===s&&f===r-1?(H(e,!1),ie(e),q(e,n,r)):Z(e,n,u,s,d+1,f+1,t,r);e.children=a}function Z(e,n,t,r,o,i,c,l){for(var a,u,s,d,f=e.host,p=e.children,h=n.children,v={},y={},g=t,w=r,m=0,k=0;;)if(g<o&&(a=p[g],v[a.key]=g++),w<i&&(u=h[w],y[u.key]=w++),g===o&&w===i)break;for(g=t,w=r;w<i;)u=h[w],g=v[u.key],void 0===g?(d=w-k,s=d<c?p[d]:De,N(u,e,s,2,f,null),k++):w===g&&(a=p[g],Q(h[w]=a,u,a.group)),w++;for(g=t;g<o;)a=p[g],w=y[a.key],void 0===w&&(R(a,De,e),m++),g++;if(m=o-t-m,k=i-r-k,m+k!==2)for(w=i-1;w>=r;)u=h[w],null===u.node&&void 0!==(g=v[u.key])&&(a=p[g],(d=w+1)<l?ne(a,h[d],e):te(a,e),Q(h[w]=a,u,a.group)),w--}function $(e,n,t,r){try{return null===r?document.createElement(e):document.createElementNS(n.xmlns=r,e)}catch(e){return _(e,t,t.owner,n.flag=5,0)}}function ee(e){return document.createTextNode(e)}function ne(e,n,t){t.node.insertBefore(e.node,n.node)}function te(e,n){n.node.appendChild(e.node)}function re(e,n){n.node.removeChild(e.node)}function oe(e,n,t){t.node.replaceChild(n.node,e.node)}function ie(e){e.node.textContent=null}function ce(e,n){e.node.nodeValue=n}function le(e,n,t,r,o){switch(e){case 0:null===r&&n in o?ae(n,t,o):null!==t&&void 0!==t&&t!==!1?o.setAttribute(n,t===!0?"":t):o.removeAttribute(n);break;case 1:null===r?o.className=t:le(0,"class",t,r,o);break;case 3:void 0===o[n]?o.style.setProperty(n,t):isNaN(Number(t))===!0?le(0,n,t,r,o):le(6,n,t,r,o);break;case 4:o.setAttributeNS(Ue,"href",t);break;case 5:case 6:null===r?o[n]=t:le(0,n,t,r,o);break;case 10:o.innerHTML=t}}function ae(e,n,t){try{t[e]=n}catch(e){}}function ue(e,n,t){var r=e.node.style,o=n.attrs.style;if(o.constructor===String)r.cssText=o;else switch(t){case 0:for(var i in o){var c=o[i];45===i.charCodeAt(0)?r.setProperty(i,c):r[i]=c}break;case 1:e.attrs.style;for(var i in o){var c=o[i];45===i.charCodeAt(0)?r.setProperty(i,c):r[i]=c}}}function se(e,n,t,r,o){var i=n.toLowerCase().substring(2),c=e.host,l=o._fns;switch(void 0===l&&(l=o._fns={}),r){case 0:o.removeEventListener(i,de),void 0!==o._this&&(o._this=null);break;case 1:o.addEventListener(i,de);case 2:null!==c&&c.group>1&&(o._this=e)}l[i]=t}function de(e){var n,t=e.type,r=this._fns,o=r[t];null!==o&&void 0!==o&&(void 0!==(n=this._this)?D(n,n.host.owner,o,e):o.call(this,e))}var fe=function(){},pe=[],he={},ve=e.global===e,ye=e.window===e,ge=e.Promise||fe,we=e.requestAnimationFrame||setTimeout,me=e.requestIdleCallback||setTimeout,ke=null,be="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xlink",xe="http://www.w3.org/1998/Math/MathML",De=new w(0),Se={setState:{value:r},forceUpdate:{value:o},UUID:{value:2}};n.prototype=Object.create(null,Se),Se.UUID.value=1;var _e=(w.prototype=s.prototype=Object.create(null),{version:"7.0.0",h:s,createElement:s,Component:n,render:K});return e.h=s,ve===!0&&"function"==typeof require&&require("./dio.server.js")(_e,s,E,O,P,he),_e});