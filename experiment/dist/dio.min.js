!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.dio=e(window)}(function(e){"use strict";function n(e){var n=e,t=this.state;void 0===this.props&&(this.props=null!==n&&void 0!==n?n:n={}),void 0===t&&(t=this.state={}),this.refs=null,this._tree=null,this._block=1,this._state=t}function t(e,n){n.constructor!==e&&Object.defineProperty(n,"constructor",{value:e}),Object.defineProperties(n,se)}function r(e,n){var t,r,o;void 0!==e&&(t=e,r=this._state=this.state,"function"==typeof t&&void 0===(t=_(this,t,r,0))||(null!==e&&e.constructor===ae?(o=this,e.then(function(e){o.setState(e)})):(this.state=l({},r,t),this.forceUpdate(n))))}function o(e){var n=this._tree;0===this._block&&null!==n.node&&(Z(n,n,1,n),void 0!==e&&"function"==typeof e&&_(this,e,this.state,1))}function l(e,n,t){for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}function c(e,n,t){var r,o,l,c,a,u,s,d,f,h=e.type,p=e.owner,a=n.props,u=e.props;if(null===p)return null;if(1===t){if(0!==p._block)return null;c=p.state,l=p._state,p._block=1}else c=null===a?oe:a,l=null===u?oe:u;return(r=null!==a)==!0&&(void 0!==h.propTypes&&i(h,a),void 0!==p.componentWillReceiveProps&&w(p,0,a),void 0!==(o=e.type.defaultProps)&&O(o,a)),void 0!==p.shouldComponentUpdate&&m(p,0,a,c)===!1?(p._block=0,null):(r===!0&&((1===t?p:e).props=a),void 0!==p.componentWillUpdate&&m(p,1,a,c),d=v(b(1===t?p:e,t),p),f=d.tag,f!==e.tag&&(null===f?null!==(s=e.branch)&&s instanceof d.type?Z(s._tree,d,d.cast):(z(e,d,2,e),F(e)):z(e,d,2,e),d=null),void 0!==p.componentDidUpdate&&m(p,2,u,l),1===t&&(2===p._block?d=null:p._block=0),d)}function i(e,n){var t,r=e.propTypes,o=e.name;for(var l in r)(t=r[l](n,l,o))&&console.error(t)}function a(e,n){var t,r=e,o=void 0!==n?n:null,l=arguments.length,c=1!==l?[]:re,i=new p(2),a=0,s=2;switch(null!==o&&(void 0!==o.cast||o.constructor!==Object?(o=null,s=1):(i.props=o,void 0!==o.key&&(i.key=o.key),void 0!==o.xmlns&&(i.xmlns=o.xmlns))),typeof r){case"string":i.tag=r,i.attrs=o;break;case"function":i.cast=void 0!==(t=r.prototype)&&void 0!==t.render?1:2}if(i.type=r,i.children=c,1!==l)for(;s<l;s++)a=u(i,a,arguments[s]);return i}function u(e,n,t){var r,o=e.children,l=n;if(null===t||void 0===t)o[l]=s("");else if(void 0!==t.cast)e.keyed===!1?null!==t.key&&(e.keyed=!0):null===t.key&&(t.key=n/161800),o[l]=t;else switch(typeof t){case"function":o[l]=a(t,null);break;case"object":if((r=t.length)>0){for(var c=0;c<r;c++)l=u(e,l,t[c]);return l}return t.constructor===Date?u(e,l,s(t+"")):u(e,l,s(""));default:return u(e,l,s(t))}return l+1}function s(e){var n=new p(1);return n.type=n.tag="#text",n.children=e===!0||e===!1?"":e,n}function d(e){return a("section",null,e)}function f(e,n){e.flag=n.flag,e.tag=n.tag,e.attrs=n.attrs,e.children=n.children,e.keyed=n.keyed,e.xmlns=n.xmlns,e.node=n.node}function h(e,n,t){switch(e.flag=n.flag,e.tag=n.tag,e.attrs=n.attrs,e.children=n.children,e.xmlns=n.xmlns,e.node=n.node,e.keyed=n.keyed,e.parent=e.parent,t){case 1:e.cast=e.cast,e.type=n.type,e.props=n.props,e.owner=n.owner,e.branch=n.branch,e.events=n.events,e.key=n.key;break;case 2:e.branch=n.owner}}function p(e){this.flag=e,this.tag=null,this.type=null,this.props=null,this.attrs=null,this.children=null,this.xmlns=null,this.owner=null,this.branch=null,this.parent=null,this.node=null,this.key=null,this.keyed=!1,this.cast=0,this.events=null}function v(e,n){var t=null!==e&&void 0!==e?e:s("");if(void 0===t.cast)switch(typeof t){case"function":t=a(t,null===n?null:n.props);break;case"string":case"number":case"boolean":t=s(t);break;case"object":switch(t.constructor){case ae:return k(t,n);case Array:t=d(t);break;case Date:t=s(t+"");break;case Object:t=s("");break;default:t=s("")}}return t}function y(e){var r,o,l,c=e.type,i=e.props,a=e.children,u=a.length,s=e.cast;return null===i&&(i={}),void 0!==c.defaultProps&&(i=O(c.defaultProps,i)),0!==u&&(null===i?i={children:a}:i.children=a),1===s?(l=c.prototype,7===l.UUID?o=new c(i):(void 0===l.setState&&t(c,l),o=new c(i),n.call(o,i)),r=b(o,s),o._block=0,r=v(r,o),o._tree=e,e.owner=o):(e.cast=s,e.owner=c,r=v(b(e,s),null)),r}function k(e,n){var t;if(null!==n)return t=n._tree,null===t&&(t=s("")),n._block=2,e.then(function(e){var t,r;n._block=0,null!==(t=n._tree)&&null!==t.node&&(r=v(e,n),t.tag!==r.tag?z(t,r,0,t):Z(t,r,0,t))}),t}function w(e,n,t){try{switch(n){case 0:return D(e.componentWillReceiveProps(t),e,null,!0)}}catch(t){W(t,e,0,n)}}function m(e,n,t,r){try{switch(n){case 0:return e.shouldComponentUpdate(t,r);case 1:return D(e.componentWillUpdate(t,r),e,null,!0);case 2:return D(e.componentDidUpdate(t,r),e,null,!0)}}catch(t){W(t,e,1,n)}}function b(e,n){try{switch(n){case 1:return e.render(e.props,e.state);case 2:return e.type(e.props||oe)}}catch(t){return W(t,1===n?e:e.type,3,n)}}function g(e,n,t,r){try{return null===t?ce.createElement(n.tag):ce.createElementNS(n.xmlns===t,n.tag)}catch(e){return W(e,r,n.flag=3,"function"==typeof r?2:1)}}function U(e,n){try{switch(n){case 0:return D(e.componentWillMount(),e,null,!1);case 1:return D(e.componentDidMount(),e,null,!0);case 2:return e.componentWillUnmount()}}catch(t){W(t,e,4,n)}}function _(e,n,t,r){try{return 0===r?n.call(e,t):D(n.call(e,t),e,null,!1)}catch(t){W(t,e,2,n)}}function x(e,n,t){try{return D(n.call(e,e.props,e.state,t),e,t,!0)}catch(t){W(t,e,5,n)}}function D(e,n,t,r){null!==n&&void 0!==e&&null!==e&&(null!==t&&t.defaultPrevented!==!0&&t.allowDefault!==!0&&t.preventDefault(),e!==!1&&(r===!0?n.setState(e):ue(function(){n.setState(e)})))}function W(e,n,t,r){var o,l,c="#unknown";try{o=C(t,r)||c,null!==n&&(void 0!==n.componentDidThrow&&(l=n.componentDidThrow({location:o,message:e})),c="function"==typeof n?n.name:n.constructor.name)}catch(n){e=n,o="componentDidThrow"}if(P(c,o,e instanceof Error?e.stack:e),3===t||5===t)return v(l,n)}function C(e,n){if("function"==typeof n)return n.name;switch(e){case 0:switch(n){case 0:return"componentWillReceiveProps"}break;case 1:switch(n){case 0:return"shouldComponentUpdate";case 1:return"componentWillUpdate";case 2:return"componentDidUpdate"}break;case 3:switch(n){case 1:return"render";case 2:return"function"}break;case 4:switch(n){case 0:return"componentWillMount";case 1:return"componentDidMount";case 2:return"componentWillUnmount"}break;case 5:return"render"}}function P(e,n,t){console.error(t+'\n\n  ^^ Error caught in Component "'+e+'" from "'+n+'" \n')}function j(e,n,t,r,o){var l=e.attrs;for(var c in l)"key"!==c&&"children"!==c&&("ref"!==c?S(c)===!0?L(c,l[c],n,r):o===!1&&M(A(c),c,l[c],t,r,e):T(l[c],n,r,0))}function N(e,n,t){var r,o,l=e.attrs,c=n.attrs,i=e.xmlns,a=e.node;for(var u in c)"key"!==u&&"children"!==u&&(o=c[u],"ref"!==u?(r=null!==l?l[u]:null,o!==r&&null!==o&&void 0!==o&&M(A(u),u,o,i,a,t)):T(o,t.owner,a,2));for(var u in l)"key"!==u&&"children"!==u&&"ref"!==u&&(null!==(o=null!==c?c[u]:null)&&void 0!==o||M(A(u),u,o,i,a,t));e.attrs=c}function T(e,n,t,r){switch(null!==n&&null===n.refs&&(n.refs={}),typeof e){case"function":_(n,e,t,r);break;case"string":0===r&&null!==n&&(n.refs[e]=t)}}function M(e,n,t,r,o,l){switch(e){case 1:null===r?o.className=t:M(6,"class",t,r,o);break;case 2:o.id=t;break;case 3:"string"==typeof t?o.style.cssText=t:E(t,o.style);break;case 4:o.innerHTML=t;break;case 5:void 0===o[n]?o.style.setProperty(n,t):isNaN(Number(t))===!0?M(6,n,t,r,o):I(o,n,t);break;case 6:"xlink:href"===n?o.setAttributeNS("http://www.w3.org/1999/xlink","href",t):null!==t&&void 0!==t&&t!==!1?o.setAttribute(n,t===!0?"":t):o.removeAttribute(n);break;case 7:L(n,t,l.owner,o)}}function A(e,n){switch(e){case"class":case"className":return 1;case"id":return 2;case"style":return 3;case"innerHTML":return 4;case"width":case"height":return 5;default:return S(e)===!1?6:7}}function S(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)}function E(e,n){for(var t in e)t in n&&(n[t]=e[t])}function O(e,n){for(var t in e)void 0===n[t]&&(n[t]=e[t])}function I(e,n,t){try{e[n]=t}catch(r){e[n]!==t&&e.setProperty(n,t)}}function L(e,n,t,r){r[e.toLowerCase()]="function"!=typeof n?null:function(e){x(t,n,e)}}function R(e,n,t,r,o,l){var c,i,a,u,s=n,d=t,v=e.cast,k=e.flag,w=0;if(1!==k&&null!==e.xmlns&&(s=e.xmlns),v>0?(u=y(e),k=u.flag,d=e.owner,void 0!==d.componentWillMount&&U(d,0),0===u.cast?w=2:(R(u,s,d,r,o,l),u.parent=e,e.branch=u.owner),f(e,u)):w=2,2===w)if(1===k)c=ce.createTextNode((w=1,e.children));else if(c=g(k,e,s,d),3===e.flag)R(c,s,d,r,o,l),w=0;else if(i=e.children,(a=i.length)>0)for(var m,b=0;b<a;b++)null!==(m=i[b]).node&&h(m=i[b]=new p(m.flag),m,!1),R(m,s,d,c,null,1);if(0!==w){switch(e.node=c,l){case 1:r.appendChild(c);break;case 2:r.insertBefore(c,o);break;case 3:r.replaceChild(c,o)}1!==w&&j(e,d,s,c,!1)}v>0&&void 0!==d.componentDidMount&&U(d,1)}function q(e,n,t){e.cast>0&&void 0!==e.owner.componentWillUnmount&&U(e.owner,2),J(e,e,!1),n.removeChild(t),G(e)}function B(e,n,t,r,o){e.cast>0&&void 0!==e.owner.componentWillUnmount&&U(e.owner,2),J(e,e,!1),R(n,null,r.owner,t,o,3),G(e)}function H(e,n,t){e.insertBefore(n.node,t)}function F(e){var n=e.parent;null!==n&&(n.node=e.node,F(n))}function V(e){var n=e.branch,t=e.owner;null!==t&&void 0!==t.componentWillUnmount&&U(t,2),null!==n&&V(n._tree)}function z(e,n,t,r){switch(R(n,null,r.owner,e.node.parentNode,e.node,3),t){case 1:V(e);break;case 2:null!==e.branch&&V(e.branch._tree);break;default:1!==e.flag&&e.children.length>0&&J(e,n,!1)}h(e,n,t)}function G(e){e.parent=null,e.branch=null,e.events=null,e.owner=null,e.node=null}function J(e,n,t){var r=e.children,o=r.length;if(t!==!1||1!==e.flag&&0!==o){for(var l,c=0;c<o;c++)l=r[c],l.cast>0&&void 0!==l.owner.componentWillUnmount&&U(l.owner,2),J(l,n,!1),G(l);t===!0&&(e.children=n.children,e.node.textContent=null)}}function K(e,n,t){for(var r=e.node,o=n.children,l=o.length,c=t.owner,i=0;i<l;i++)R(o[i],null,c,r,null,1);e.children=o}function Q(e,n){e.children!==n.children&&(e.node.nodeValue=e.children=n.children)}function X(e,n){var t=e,r=n;if(null!==r&&void 0!==r&&r!==ce||(null===ie&&(ie=ce.body||ce.documentElement),r=ie),void 0===t||null===t)t=s("");else if(void 0===t.flag)switch(typeof t){case"function":t=a(t);break;case"object":t=d(t);break;case"number":case"boolean":case"string":t=s(t)}var o=r._older;void 0!==o?o.key===t.key?Z(o,t,o.cast,o):z(o,t,1,t):(R(t,null,t.owner,r,null,1),r._older=t)}function Y(e){for(var n=v(e,null);null===n.tag;)n=y(n);return n}function Z(e,n,t,r){var o=r,l=n;if(e.type!==l.type)return z(e,l,1,o);if(t>0){if(null===(l=c(e,l,t)))return;1===t&&(o=e)}if(1===e.flag)return Q(e,l);var i=l.children.length,a=e.children.length;return 0===a?K(e,l,o):0===i?J(e,l,!0):(e.keyed===!0?ee(e,l,o):$(e,l,o),void N(e,l,o))}function $(e,n,t){for(var r,o,l=e.node,c=e.children,i=n.children,a=i.length,u=c.length,s=a>u?a:u,d=t.owner,f=0;f<s;f++)f>=a?(q(o=c.pop(),l,o.node),u--):f>=u?(R(r=c[f]=i[f],null,d,l,null,1),u++):(r=i[f],o=c[f],1===r.flag&&1===o.flag?Q(o,r):r.type!==o.type?B(o,c[f]=r,l,t,o.node):Z(o,r,o.cast,t))}function ee(e,n,t){var r,o,l=e.node,c=e.children,i=n.children,a=c.length,u=i.length,s=t.owner,d=0,f=0,h=a-1,p=u-1,v=c[d],y=i[f],k=c[h],w=i[p];e:for(;;){for(;v.key===y.key;){if(i[f]=v,Z(v,y,v.cast,t),d++,f++,d>h||f>p)break e;v=c[d],y=i[f]}for(;k.key===w.key;){if(i[p]=k,Z(k,w,k.cast,t),h--,p--,d>h||f>p)break e;k=c[h],w=i[p]}if(k.key!==y.key){if(v.key!==w.key)break;i[p]=v,c[d]=k,r=p+1,o=r<u?c[r].node:null,Z(v,w,v.cast,t),H(l,v,o),d++,p--,v=c[d],w=i[p]}else i[f]=k,c[h]=v,Z(k,y,k.cast,t),H(l,k,v.node),h--,f++,k=c[h],y=i[f]}if(d>h){if(f<=p){r=p+1,o=r<u?i[r].node:null;do{R(y=i[f++],null,s,l,o,2)}while(f<=p)}}else if(f>p)do{q(v=c[d++],l,v.node)}while(d<=h);else ne(e,n,t,d,f,h,p);e.children=i}function ne(e,n,t,r,o,l,c){for(var i,a,u=e.node,s=e.children,d=n.children,f=t.owner,h=l+1,p=c+1,v=h-r,y=p-o,k=r,w=o,m={},b={},g=u.childNodes;;)if(k!==h&&(i=s[k++],m[i.key]=i),w!==p&&(a=d[w++],b[a.key]=a),k===h&&w===p)break;for(;;)if(w!==o&&(a=d[--w],i=m[a.key],void 0===i?(R(a,null,f,u,g[w],2),y--):(Z(i,a,i.cast,t),d[w]=i)),k!==r&&(i=s[--k],void 0===(a=b[i.key])&&(q(i,u,i.node),v--)),k===r&&w===o)break;if(v+y-2>0)for(var U=o;U<p;U++)a=d[U],void 0!==(i=m[a.key])&&H(u,i,g[U+1])}var te=function(){},re=[],oe={},le=void 0!==e.window,ce=window.document,ie=le===!0?ce.body:null,ae=e.Promise||te,ue=e.requestIdleCallback||e.requestAnimationFrame||setTimeout,se={setState:{value:r},forceUpdate:{value:o},UUID:{value:7}};return n.prototype=Object.create(null,se),se.UUID.value=0,p.prototype=a.prototype=Object.create(null),void 0!==e.window&&(e.h=a),{version:"7.0.0",h:a,createElement:a,Component:n,render:X,shallow:Y}});