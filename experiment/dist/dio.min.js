!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(global):"function"==typeof define&&define.amd?define(e(window)):window.dio=e(window)}(function(e){"use strict";function n(e){var n=e,t=this.state;void 0===this.props&&(n!==le&&void 0!==n&&null!==n||(n={}),this.props=n),void 0===t&&(t=this.state={}),this.refs=null,this._tree=null,this._sync=1,this._state=t}function t(e,n){n.constructor!==e&&Object.defineProperty(n,"constructor",{value:e}),Object.defineProperties(n,de)}function r(e,n){var t,r,o;void 0!==e&&null!==e&&(t=e,r=this._state=this.state,("function"!=typeof t||void 0!==(t=_(this,t,r,0))&&null!==t)&&(t.constructor===ae?(o=this,t.then(function(e){o.setState(e)})):(this.state=l({},r,t),this.forceUpdate(n))))}function o(e){var n=this._tree;0===this._sync&&null!==n.node&&($(n,n,1,n),void 0!==e&&"function"==typeof e&&_(this,e,this.state,1))}function l(e,n,t){for(var r in n)e[r]=n[r];for(var r in t)e[r]=t[r];return e}function i(e,n,t,r){var o,l,i,a,s,d,f,p,h=e.type,v=e.owner,s=n.props,d=e.props;if(null===v)return null;if(1===t){if(0!==v._sync)return;a=v.state,i=v._state,v._sync=1}else a=s,i=d;if((o=s!==le)==!0&&(void 0!==h.propTypes&&u(h,s),void 0!==v.componentWillReceiveProps&&m(v,0,s),void 0!==(l=e.type.defaultProps)&&I(l,s)),void 0!==v.shouldComponentUpdate&&k(v,0,s,a)===!1)return v._sync=0,null;if(o===!0&&((1===t?v:e).props=s),void 0!==v.componentWillUpdate&&k(v,1,s,a),f=1===t?y(b(v,t),v):y(b(e,t),n),(p=f.tag)!==e.tag&&(f=c(e,f,r,p)),void 0!==v.componentDidUpdate&&k(v,2,d,i),1===t){if(2===v._sync)return;v._sync=0}return f}function c(e,n,t,r){var o,l,i;return null!==r?G(e,n,2,e):null!==(o=e.host)&&(l=o.owner,i=n.type,l===i||l instanceof i)?$(o,n,o.group,t):(G(e,n,2,e),void V(e))}function u(e,n){var t,r=e.propTypes,o=e.name;for(var l in r)(t=r[l](n,l,o))&&console.error(t)}function a(e,n){var t,r=e,o=void 0!==n?n:null,l=arguments.length,i=1!==l?[]:oe,c=new v(2),u=0,a=2;switch(null!==o&&(void 0!==o.group||o.constructor!==Object?(o=le,a=1):(c.props=o,void 0!==o.key&&(c.key=o.key),void 0!==o.xmlns&&(c.xmlns=o.xmlns))),typeof r){case"string":c.tag=r,c.attrs=o;break;case"function":c.group=void 0!==(t=r.prototype)&&void 0!==t.render?1:2}if(c.type=r,c.children=i,1!==l)for(;a<l;a++)u=s(c,u,arguments[a]);return c}function s(e,n,t){var r,o=e.children,l=n;if(null===t||void 0===t)o[l]=d("");else if(void 0!==t.group)e.keyed===!1?null!==t.key&&(e.keyed=!0):null===t.key&&(t.key=n/161800),o[l]=t;else switch(typeof t){case"function":o[l]=a(t,null);break;case"object":if((r=t.length)>0){for(var i=0;i<r;i++)l=s(e,l,t[i]);return l}return t.constructor===Date?s(e,l,d(t+"")):s(e,l,d(""));default:return s(e,l,d(t))}return l+1}function d(e){var n=new v(1);return n.type=n.tag="#text",n.children=e===!0||e===!1?"":e,n}function f(e){return a("section",null,e)}function p(e,n){e.tag=n.tag,e.flag=n.flag,e.node=n.node,e.attrs=n.attrs,e.keyed=n.keyed,e.xmlns=n.xmlns,e.children=n.children}function h(e,n,t){switch(e.flag=n.flag,e.tag=n.tag,e.node=n.node,e.attrs=n.attrs,e.xmlns=n.xmlns,e.keyed=n.keyed,e.parent=e.parent,e.children=n.children,t){case 1:e.props=n.props,e.owner=n.owner,e.type=n.type,e.group=e.group,e.host=n.host,e.key=n.key;break;case 2:"function"==typeof n.owner?e.host=y(n.owner,n):e.host=n.owner}}function v(e){this.flag=e,this.tag=null,this.key=null,this.type=null,this.host=null,this.node=null,this.group=0,this.props=le,this.attrs=le,this.xmlns=null,this.owner=null,this.keyed=!1,this.parent=null,this.children=null}function y(e,n){var t=null!==e&&void 0!==e?e:d("");if(void 0===t.group)switch(typeof t){case"function":t=a(t,null===n?null:n.props);break;case"string":case"number":case"boolean":t=d(t);break;case"object":switch(t.constructor){case ae:return g(t,n);case Array:t=f(t);break;case Date:t=d(t+"");break;case Object:t=d("");break;default:t=d("")}}return t}function w(e){var r,o,l,i=e.type,c=e.props,u=e.children,a=u.length,s=e.group;return c===le&&(c={}),void 0!==i.defaultProps&&(c=I(i.defaultProps,c)),0!==a&&(c===le?c={children:u}:c.children=u),1===s?(l=i.prototype,7===l.UUID?o=new i(c):(void 0===l.setState&&t(i,l),o=new i(c),n.call(o,c)),r=b(o,s),o._sync=0,r=y(r,o),o._tree=e,e.owner=o):(e.group=s,e.owner=i,r=y(b(e,s),e)),r}function g(e,n){var t;if(null!==n)return t=n._tree,null===t&&(t=d("")),n._sync=2,e.then(function(e){var t,r;n._sync=0,null!==(t=n._tree)&&null!==t.node&&(r=y(e,n),t.tag!==r.tag?G(t,r,0,t):$(t,r,0,t))}),t}function m(e,n,t){try{switch(n){case 0:return W(e.componentWillReceiveProps(t),e,null,!0)}}catch(t){C(t,e,0,n)}}function k(e,n,t,r){try{switch(n){case 0:return e.shouldComponentUpdate(t,r);case 1:return W(e.componentWillUpdate(t,r),e,null,!0);case 2:return W(e.componentDidUpdate(t,r),e,null,!0)}}catch(t){C(t,e,1,n)}}function b(e,n){try{switch(n){case 1:return e.render(e.props,e.state);case 2:return e.type(e.props)}}catch(t){return C(t,1===n?e:e.type,3,n)}}function U(e,n,t,r){try{return null===t?ce.createElement(n.tag):ce.createElementNS(n.xmlns===t,n.tag)}catch(e){return C(e,r,n.flag=3,"function"==typeof r?2:1)}}function x(e,n){try{switch(n){case 0:return W(e.componentWillMount(),e,null,!1);case 1:return W(e.componentDidMount(),e,null,!0);case 2:return e.componentWillUnmount()}}catch(t){C(t,e,4,n)}}function _(e,n,t,r){try{return 0===r?n.call(e,t):W(n.call(e,t),e,null,!1)}catch(t){C(t,e,2,n)}}function D(e,n,t){try{return W(n.call(e,e.props,e.state,t),e,t,!0)}catch(t){C(t,e,5,n)}}function W(e,n,t,r){null!==n&&void 0!==e&&null!==e&&(null!==t&&t.defaultPrevented!==!0&&t.allowDefault!==!0&&t.preventDefault(),e!==!1&&(r===!0?n.setState(e):se(function(){n.setState(e)})))}function C(e,n,t,r){var o,l,i="#unknown";try{o=P(t,r)||i,null!==n&&(void 0!==n.componentDidThrow&&(l=n.componentDidThrow({location:o,message:e})),i="function"==typeof n?n.name:n.constructor.name)}catch(n){e=n,o="componentDidThrow"}if(j(i,o,e instanceof Error?e.stack:e),3===t||5===t)return y(l,n)}function P(e,n){if("function"==typeof n)return n.name;switch(e){case 0:switch(n){case 0:return"componentWillReceiveProps"}break;case 1:switch(n){case 0:return"shouldComponentUpdate";case 1:return"componentWillUpdate";case 2:return"componentDidUpdate"}break;case 3:switch(n){case 1:return"render";case 2:return"function"}break;case 4:switch(n){case 0:return"componentWillMount";case 1:return"componentDidMount";case 2:return"componentWillUnmount"}break;case 5:return"render"}}function j(e,n,t){console.error(t+'\n\n  ^^ Error caught in Component "'+e+'" from "'+n+'" \n')}function N(e,n,t,r,o){var l,i=e.attrs;for(var c in i)"key"!==c&&"children"!==c&&(l=i[c],"ref"!==c?E(c)===!0?R(r,c,n,l):o===!1&&A(S(c),c,l,t,r,e):M(l,n,r,0))}function T(e,n,t){var r,o,l=e.attrs,i=n.attrs,c=e.xmlns,u=e.node,a=t.owner;for(var s in i)"key"!==s&&"children"!==s&&(o=i[s],"ref"!==s?(r=l[s],o!==r&&null!==o&&void 0!==o&&(E(s)===!1?A(S(s),s,o,c,u,t):R(u,s,a,o))):M(o,t.owner,u,2));for(var s in l)"key"!==s&&"children"!==s&&"ref"!==s&&(null!==(o=i[s])&&void 0!==o||(E(s)===!1?A(S(s),s,o,c,u,t):R(u,s,a,o)));e.attrs=i}function M(e,n,t,r){switch(null!==n&&null===n.refs&&(n.refs={}),typeof e){case"function":_(n,e,t,r);break;case"string":0===r&&null!==n&&(n.refs[e]=t)}}function A(e,n,t,r,o){switch(e){case 1:null===r?o.className=t:A(6,"class",t,r,o);break;case 2:o.id=t;break;case 3:"string"==typeof t?o.style.cssText=t:O(t,o.style);break;case 4:o.innerHTML=t;break;case 5:void 0===o[n]?o.style.setProperty(n,t):isNaN(Number(t))===!0?A(6,n,t,r,o):L(o,n,t);break;case 6:"xlink:href"===n?o.setAttributeNS("http://www.w3.org/1999/xlink","href",t):null!==t&&void 0!==t&&t!==!1?o.setAttribute(n,t===!0?"":t):o.removeAttribute(n)}}function S(e,n){switch(e){case"class":case"className":return 1;case"id":return 2;case"style":return 3;case"innerHTML":return 4;case"width":case"height":return 5;default:return 6}}function E(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)}function O(e,n){for(var t in e)t in n&&(n[t]=e[t])}function I(e,n){for(var t in e)void 0===n[t]&&(n[t]=e[t])}function L(e,n,t){try{e[n]=t}catch(r){e[n]!==t&&e.setProperty(n,t)}}function R(e,n,t,r){e[n.toLowerCase()]="function"!=typeof r?null:function(e){D(t,r,e)}}function q(e,n,t,r,o,l){var i,c,u,a,s=n,d=t,f=e.group,y=e.flag,g=0;if(1!==y&&null!==e.xmlns&&(s=e.xmlns),f>0?(a=w(e),y=a.flag,d=e.owner,void 0!==d.componentWillMount&&x(d,0),0===a.group?g=2:(q(a,s,d,r,o,l),a.parent=e,e.host=a),p(e,a)):g=2,2===g)if(1===y)i=ce.createTextNode((g=1,e.children));else if(i=U(y,e,s,d),3===e.flag)q(i,s,d,r,o,l),g=0;else if(c=e.children,(u=c.length)>0)for(var m,k=0;k<u;k++)null!==(m=c[k]).node&&h(m=c[k]=new v(m.flag),m,!1),q(m,s,d,i,null,1);if(0!==g){switch(e.node=i,l){case 1:r.appendChild(i);break;case 2:r.insertBefore(i,o);break;case 3:r.replaceChild(i,o)}1!==g&&N(e,d,s,i,!1)}f>0&&void 0!==d.componentDidMount&&x(d,1)}function B(e,n,t){e.group>0&&void 0!==e.owner.componentWillUnmount&&x(e.owner,2),K(e,e,!1),n.removeChild(t),J(e)}function H(e,n,t,r,o){e.group>0&&void 0!==e.owner.componentWillUnmount&&x(e.owner,2),K(e,e,!1),q(n,null,r.owner,t,o,3),J(e)}function F(e,n,t){e.insertBefore(n.node,t)}function V(e){var n=e.parent;null!==n&&(n.node=e.node,V(n))}function z(e){var n=e.host,t=e.owner;null!==t&&void 0!==t.componentWillUnmount&&x(t,2),null!==n&&z(n)}function G(e,n,t,r){switch(q(n,null,r.owner,e.node.parentNode,e.node,3),t){case 1:z(e);break;case 2:null!==e.host&&z(e.host);break;default:1!==e.flag&&e.children.length>0&&K(e,n,!1)}h(e,n,t)}function J(e){e.parent=null,e.host=null,e.owner=null,e.node=null}function K(e,n,t){var r=e.children,o=r.length;if(t!==!1||1!==e.flag&&0!==o){for(var l,i=0;i<o;i++)l=r[i],l.group>0&&void 0!==l.owner.componentWillUnmount&&x(l.owner,2),K(l,n,!1),J(l);t===!0&&(e.children=n.children,e.node.textContent=null)}}function Q(e,n,t){for(var r=e.node,o=n.children,l=o.length,i=t.owner,c=0;c<l;c++)q(o[c],null,i,r,null,1);e.children=o}function X(e,n){e.children!==n.children&&(e.node.nodeValue=e.children=n.children)}function Y(e,n){var t=e,r=n;if(null!==r&&void 0!==r&&r!==ce||(null===ue&&(ue=ce.body||ce.documentElement),r=ue),void 0===t||null===t)t=d("");else if(void 0===t.flag)switch(typeof t){case"function":t=a(t);break;case"object":t=f(t);break;case"number":case"boolean":case"string":t=d(t)}var o=r._older;void 0!==o?o.key===t.key?$(o,t,o.group,o):G(o,t,1,t):(q(t,null,t.owner,r,null,1),r._older=t)}function Z(e){for(var n=y(e,null);null===n.tag;)n=w(n);return n}function $(e,n,t,r){var o=r,l=n;if(e.type!==l.type)return G(e,l,1,o);if(t>0){if(void 0===(l=i(e,l,t,o)))return;1===t&&(o=e)}if(1===e.flag)return X(e,l);var c=l.children.length,u=e.children.length;return 0===u?Q(e,l,o):0===c?K(e,l,!0):(e.keyed===!0?ne(e,l,o):ee(e,l,o),void T(e,l,o))}function ee(e,n,t){for(var r,o,l=e.node,i=e.children,c=n.children,u=c.length,a=i.length,s=u>a?u:a,d=t.owner,f=0;f<s;f++)f>=u?(B(o=i.pop(),l,o.node),a--):f>=a?(q(r=i[f]=c[f],null,d,l,null,1),a++):(r=c[f],o=i[f],1===r.flag&&1===o.flag?X(o,r):r.type!==o.type?H(o,i[f]=r,l,t,o.node):$(o,r,o.group,t))}function ne(e,n,t){var r,o,l=e.node,i=e.children,c=n.children,u=i.length,a=c.length,s=t.owner,d=0,f=0,p=u-1,h=a-1,v=i[d],y=c[f],w=i[p],g=c[h];e:for(;;){for(;v.key===y.key;){if(c[f]=v,$(v,y,v.group,t),d++,f++,d>p||f>h)break e;v=i[d],y=c[f]}for(;w.key===g.key;){if(c[h]=w,$(w,g,w.group,t),p--,h--,d>p||f>h)break e;w=i[p],g=c[h]}if(w.key!==y.key){if(v.key!==g.key)break;c[h]=v,i[d]=w,r=h+1,o=r<a?i[r].node:null,$(v,g,v.group,t),F(l,v,o),d++,h--,v=i[d],g=c[h]}else c[f]=w,i[p]=v,$(w,y,w.group,t),F(l,w,v.node),p--,f++,w=i[p],y=c[f]}if(d>p){if(f<=h){r=h+1,o=r<a?c[r].node:null;do{q(y=c[f++],null,s,l,o,2)}while(f<=h)}}else if(f>h)do{B(v=i[d++],l,v.node)}while(d<=p);else te(e,n,t,d,f,p,h);e.children=c}function te(e,n,t,r,o,l,i){for(var c,u,a=e.node,s=e.children,d=n.children,f=t.owner,p=l+1,h=i+1,v=p-r,y=h-o,w=r,g=o,m={},k={},b=a.childNodes;;)if(w!==p&&(c=s[w++],m[c.key]=c),g!==h&&(u=d[g++],k[u.key]=u),w===p&&g===h)break;for(;;)if(g!==o&&(u=d[--g],c=m[u.key],void 0===c?(q(u,null,f,a,b[g],2),y--):($(c,u,c.group,t),d[g]=c)),w!==r&&(c=s[--w],void 0===(u=k[c.key])&&(B(c,a,c.node),v--)),w===r&&g===o)break;if(v+y-2>0)for(var U=o;U<h;U++)u=d[U],void 0!==(c=m[u.key])&&F(a,c,b[U+1])}var re=function(){},oe=[],le={},ie=void 0!==e.window,ce=window.document,ue=ie===!0?ce.body:null,ae=e.Promise||re,se=e.requestIdleCallback||e.requestAnimationFrame||setTimeout,de={setState:{value:r},forceUpdate:{value:o},UUID:{value:7}};return n.prototype=Object.create(null,de),de.UUID.value=0,v.prototype=a.prototype=Object.create(null),void 0!==e.window&&(e.h=a),{version:"7.0.0",h:a,createElement:a,Component:n,render:Y,shallow:Z}});