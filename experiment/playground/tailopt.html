<script>

var stack = new Array(1000);

function stackRecursive (root) {
	// start index
	var size = 0;
	// start with root node
	stack[size++] = root;

	// while we still have nodes to visit
	while (size > 0) {
		// get top node of the stack
		var current = stack[--size];
		var children = current.children;
		var length = children.length;

		// remove current node from the stack
		stack[size] = void 0;

		// push current nodes children to the stack
		for (var i = 0; i < length; i++) {
			stack[size++] = children[i];
		}
	}
}

function funcRecursive (root) {
	var children = root.children;
	var length = children.length;

	for (var i = 0; i < length; i++) {
		funcRecursive(children[i]);
	}
}

var tree = {
	type: 'main',
	children: [
		{
			type: 'div',
			children: []
		},
		{
			type: 'span',
			children: [
				{
					type: 'p',
					children: []
				},
				{
					type: 'hr',
					children: []
				}
			]
		}
	]
}

stackRecursive(tree);
console.log(stack)
</script>
