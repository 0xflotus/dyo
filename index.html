<!DOCTYPE html>
<html>
<head>
	<title>Playground</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>
	<div id="root" class="root"></div>

	<script src="vdom.js"></script>
	<script>
		var test = c({
				component: function(state, evt) {
					return (
						h('ul', {},
							h('button', {onclick: evt.test}, 'Click Me'),

							h('input', {onInput: evt.test, type: 'text'}),
							h('input', {type: 'checkbox'}),

							h('select', {}, 
								h('option', {}, 'first option'),
								h('option', {}, 'second option')
							),

							h('br', {}, ''),
							h('br', {}, ''),

							state.list.map(
								(a) => {
									return h('li', {onClick: evt.test}, a)
								}
							)
						)
					)
				},
				routes: [
					{id: 'api1', type: 'GET', url: '?users/{id}'}
				],
				state: {
					data: true,
					list: ['hello', 'hello world']
				},
				behavior: function(state, update, req, loop) {
					this.constructor = function() {
						req('api1', {id: 1234});
						// loop.start();
						// loop.stop();
					}
					this.test = function(e) {
						// var arr = ['hello', 'hello world', false, true, undefined, null];
						arr = [];

						state.data(new Date() + performance.now());

						if (e.target.tagName == 'INPUT') {
							state.data(e.target.value);
						}

						for (var i = 0; i < 1000; i++) {
							arr.push(i + ' ' + state.data())
						}

						state.list(arr);
						update()
					}
				}
			});

		test.mount(document.getElementById('root'));
		// test.mount(document.querySelectorAll('.root'));
		// test.mount(document);
		console.log(test)
	</script>

</body>
</html>